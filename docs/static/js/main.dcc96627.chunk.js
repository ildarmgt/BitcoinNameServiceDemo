(this.webpackJsonpbns=this.webpackJsonpbns||[]).push([[0],{100:function(e,t,n){e.exports={wrapper:"SettingsContent_wrapper__g7M-C",contentWrapper:"SettingsContent_contentWrapper__1f-dq",title:"SettingsContent_title__17SgK"}},101:function(e,t,n){e.exports={wrapper:"VisualAPI_wrapper__1qx_c",spinner:"VisualAPI_spinner__2fYAt"}},102:function(e,t,n){e.exports={spinner:"Spinner_spinner__3itsP",block:"Spinner_block__1wS0M",moveit:"Spinner_moveit__3lwkE",chain:"Spinner_chain__-Farp"}},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){if(void 0!==e&&0!==e.length){if(1===e.length)return e[0];var t=0,n=e.map((function(e){var n={min:t,max:t+e.value,weight:e.value,bid:e};return t+=e.value,n})),a=e[0].blockHash;e.some((function(e){return e.blockHash!==a}))&&console.warn("bidArray should have same height txs but txs contained different block hashes!!!",e);for(var r=BigInt("0x"+a)%BigInt(t),o=0;o<n.length;o++)if(BigInt(n[o].min)<=r&&BigInt(n[o].max)<r)return n[o].bid;console.warn("something went wrong and no winner was found",n,e,t)}}},137:function(e,t,n){e.exports={wrapper:"Wallet_wrapper__3F0wa",logo:"Wallet_logo__1MF_4"}},15:function(e,t,n){"use strict";var a=n(19);function r(e,t){if(""===e.network||""===e.address||e.network.startsWith("!"))return{render:!1};var n=e.network.split("!")[0];return"p2wsh"===n||"btc"===n||"p2pkh"===n||"p2wpkh"===n||"p2sh"===n?{where:"btc:",what:e.address,link:"https://blockstream.info/".concat("testnet"===t?"testnet/":"","address/")+e.address,render:!0}:"http"===n||"https"===n||"url"===n||"web"===n||"forums"===n?{where:"https://",what:e.address,link:"https://"+e.address,render:!0}:"twitter"===n?{where:"twitter.com/",what:e.address,link:"https://twitter.com/"+e.address,render:!0}:"github"===n?{where:"github.com/",what:e.address,link:"https://github.com/"+e.address,render:!0}:"youtube"===n?{where:"youtu.be/",what:e.address,link:"https://www.youtube.com/watch?v="+e.address,render:!0}:"email"===n||"e-mail"===n?{where:"mailto:",what:e.address.replace("%40","@"),link:"mailto:"+e.address,render:!0}:{where:n+" :",what:" "+e.address,link:void 0,render:!0}}var o=n(78),i=n(56),s=n(1),c=n(13),l=n(24),u=n(3),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tx,n=void 0===t?void 0:t;return{status:function(){return Object(u.b)(n)},info:{describe:"Must have 2+ outputs"}}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tx,n=void 0===t?void 0:t;return{status:function(){return Object(u.A)(n)},info:{describe:"Must have OP_RETURN @ output[0]"}}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=e.tx,a=void 0===n?void 0:n;return{status:function(){return Object(u.z)(t,a)},info:{describe:"Must have notification address @ output[1]"}}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tx,n=void 0===t?void 0:t;return{status:function(){return Object(u.g)(n)},info:{describe:"Notification output amount must not be lower than the BNS minimum",set:{value:a.f,name:"Notification minimum",units:"satoshi"}}}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tx,n=void 0===t?void 0:t;return{status:function(){return Object(u.f)(n)},info:{describe:"Must burn (i.e. bid) at least the BNS minimum amount",set:{value:a.e,units:"satoshi",name:"Bid burn amount"}}}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st;return{status:function(){return!Object(u.i)(t)},info:{describe:"There must not be an existing owner"}}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st;return{status:function(){return Object(u.i)(t)},info:{describe:"There must be existing owner"}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=e.tx,a=void 0===n?void 0:n;return{status:function(){return Object(u.c)(t,a)},info:{describe:"Tx must burn the last ownership winning burn amount",set:{value:Object(u.l)(t),name:"Bid burn amount",units:"satoshi"}}}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=e.address,a=e.tx,r=void 0===a?void 0:a;return{status:function(){return r?Object(u.D)(t,r):Object(u.v)(t,n)},info:{describe:"User's address must match owner's address"}}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st;return{status:function(){return Object(u.B)(t)},info:{describe:"Ownership must be expired at current parsed height"}}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=e.tx,a=void 0===n?void 0:n;return{status:function(){return Object(u.E)(t,a)},info:{describe:"There must not be any remaining notification address utxo created by sender"}}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=e.tx,a=void 0===n?void 0:n;return{status:function(){return Object(u.n)(t)!==Object(u.r)(a)},info:{describe:"Do not accidentally send from notification address at input[0]"}}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=e.command,a=e.tx,r=void 0===a?void 0:a;return{status:function(){return Object(u.y)(t,r,n)},info:{describe:"Checks forwards for a specific command issued at this height"}}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st;return{status:function(){return Object(u.x)(t)},info:{describe:"The bidding period must be over but not resolved"}}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.command;return{status:function(){return!0},info:{describe:"Submit your new address (forwards are kept)",get:{value:"",name:"Your new address"},command:t}}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.command;return{status:function(){return!0},info:{describe:"Submit new owner's address (forwards are not copied)",get:{value:"",name:"New owner's address"},command:t}}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=t?t.domain.bidding.bids.length>0?Math.ceil(Math.max.apply(Math,Object(c.a)(t.domain.bidding.bids.map((function(e){return e.value}))))*a.b):a.e:void 0;return{status:function(){return!0},info:{describe:"Submit your bid burn amount",get:{value:n||0,name:"Bid burn amount",min:n,units:"satoshi"}}}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=e.address,a=void 0===n?void 0:n,r="Must refund all prior bids for bid to count as valid at the end of the bidding period. Refunds can be done separately or during the bid",o="";if(t){var i=a,s=Object(u.J)(t);for(var c in s)i&&c!==i&&(o+=s[c]+" "+c+"\n");o=o.slice(0,-1)}return""===o?{status:function(){return!0},info:{describe:r}}:{status:function(){return!0},info:{describe:r,type:l.c.REFUND_BIDDERS,get:{value:!1,name:"Refund now?"},set:{value:o,name:"Amount & address to refund",units:"satoshi address"}}}},A=function(e){var t;return{status:function(){return!0},info:{describe:"Action not recommended for non-owners",warning:(null===(t=_(e))||void 0===t?void 0:t.status())?void 0:"Useless unless you are the owner or will be owner in future"}}},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a={st:e,tx:n,address:t},r=l.a.BID_FOR_OWNERSHIP,o="Bid for ownership of a domain",i=[b,N,S],s=[d,m,f,p,E,k,h],c=e?function(){Object(u.a)(e,n,l.b.BURN)}:R;return{permissions:e?i.map((function(e){return e(a)})):i,conditions:e?s.map((function(e){return e(a)})):s,args:a,info:o,type:r,execute:c}},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a="!ca",r={st:e,address:t,tx:n,command:a},o=l.a.CHANGE_ADDRESS,i="Update your ownership address",s=[_,x],c=[d,m,f,p,E,k,O],h=e?function(){var t=Object(u.k)(e,n,a),r=null===t||void 0===t?void 0:t.address;if(r){Object(u.j)(e,r)||Object(u.e)(e,r);var o=Object(u.o)(e);Object(u.G)(e,r),Object(u.t)(e,r).winHeight=o.winHeight,Object(u.t)(e,r).winTimestamp=o.winTimestamp,Object(u.t)(e,r).burnAmount=o.burnAmount,Object(u.t)(e,r).forwards=JSON.parse(JSON.stringify(o.forwards)),o.winHeight=0,o.winTimestamp=0,o.burnAmount=0,console.log("ownership transfered from",o.address,"to",r)}else console.log("ownership transfer detected, but no address found")}:R;return{permissions:e?s.map((function(e){return e(r)})):s,conditions:e?c.map((function(e){return e(r)})):c,args:r,info:i,type:o,execute:h}},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a="!so",r={st:e,address:t,tx:n,command:a},o=l.a.SEND_OWNERSHIP,i="Give up ownership to another address",s=[_,j],c=[d,m,f,p,E,k,O],h=e?function(){var t=Object(u.k)(e,n,a),r=null===t||void 0===t?void 0:t.address;if(r){Object(u.j)(e,r)||Object(u.e)(e,r);var o=Object(u.o)(e);Object(u.G)(e,r),Object(u.t)(e,r).winHeight=o.winHeight,Object(u.t)(e,r).winTimestamp=o.winTimestamp,Object(u.t)(e,r).burnAmount=o.burnAmount,o.winHeight=0,o.winTimestamp=0,o.burnAmount=0,console.log("ownership transfered from",o.address,"to",r)}else console.log("ownership transfer detected, but no address found")}:R;return{permissions:e?s.map((function(e){return e(r)})):s,conditions:e?c.map((function(e){return e(r)})):c,args:r,info:i,type:o,execute:h}},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a={st:e,address:t,tx:n},r=l.a.RENEW,o="Extend ownership of this domain",i=[_],s=[d,m,f,p,E,k,h,g],c=e?function(){var t=Object(u.o)(e);t&&(t.winHeight=Object(u.q)(n)),t&&(t.winTimestamp=Object(u.s)(n)),console.log("".concat(e.domain.domainName," : ").concat(Object(u.q)(n)," height: owner extended ownership ").concat(null===t||void 0===t?void 0:t.address))}:R;return{permissions:e?i.map((function(e){return e(a)})):i,conditions:e?s.map((function(e){return e(a)})):s,args:a,info:o,type:r,execute:c}},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a={st:e,address:t,tx:n},r=l.a.ONLY_FORWARDS,o="Only update forwarding information",i=[A],s=[d,m,f,p,E,k],c=e?function(){Object(u.F)(e,n)}:R;return{permissions:e?i.map((function(e){return e(a)})):i,conditions:e?s.map((function(e){return e(a)})):s,args:a,info:o,type:r,execute:c}},P=function(e){var t={st:e};return{info:"Existing ownerships that expire are removed",conditions:[v(t),w(t)],execute:function(){Object(u.d)(e),console.log(e.domain.domainName,Object(u.p)(e),"ownership expired")}}},W=function(e,t){return{info:"Update derivedUtxoList from new tx",conditions:[],execute:function(){Object(u.M)(e,t)}}},F=function(e){var t={st:e};return{info:"Derive the new owner from bidding period",conditions:[b(t),y(t)],execute:function(){Object(u.h)(e),console.log("bidding period is over")}}},R=function(){},D=function(e,t){console.log("currentOwnerRenewAction running:");var n=[L(e,t),B(e,t),C(e,t),T(e,t),I(e,t)],a=[];return n.forEach((function(e){var t=[];e.permissions.forEach((function(e){var n=e.status();t.push(Object(s.a)({isAllowed:n},e))}));var n=[];e.permissions.forEach((function(e){n.push(e)})),e.conditions.forEach((function(e){n.push(e)})),a.push({type:e.type,info:e.info,isUsable:t.every((function(e){return e.isAllowed})),permissionList:t,suggestions:n})})),a},H=function(e,t){[P(e),t?W(e,t):void 0,F(e)].forEach((function(e){e&&(e.conditions.reduce((function(e,t){return e&&t.status()}),!0)&&e.execute())}))},U=function(e,t,n,r){var s,c=JSON.parse(JSON.stringify(i.a));return c.domain.domainName=t,c.chain&&(c.chain.currentHeight=n),c.domain.notificationAddress=(null===(s=Object(o.a)(t,r))||void 0===s?void 0:s.notificationsAddress)||"",c.domain.txHistory=e.slice().reverse().filter((function(e){return Object(u.q)(e)>=a.d})).sort((function(e,t){return e.status.block_height-t.status.block_height})),c.domain.txHistory.forEach((function(e){Object(u.H)(c,Object(u.q)(e)),Object(u.L)(c,e),H(c,e),function(e,t){[L(e,void 0,t),B(e,void 0,t),C(e,void 0,t),T(e,void 0,t),I(e,void 0,t)].forEach((function(e){var t=e.conditions.reduce((function(e,t){return e&&t.status()}),!0),n=e.permissions.reduce((function(e,t){return e&&t.status()}),!0);t&&n&&e.execute()}))}(c,e),Object(u.L)(c,e),Object(u.K)(c)})),Object(u.H)(c,n),H(c,void 0),c},M=function(e){var t=Object(c.a)(e).sort((function(e,t){return e.updateHeight-t.updateHeight})),n={};return t.forEach((function(e){var t=!e.network.startsWith("!"),a=!(""===e.network);t&&a&&(n[e.network]=e),""===e.address&&delete n[e.network]})),Object(c.a)(Object.values(n))},z=function(e,t){for(var n,a=[L(null),B(null),C(null),T(null),I(null)],r=0;r<a.length;r++)if(e.startsWith(a[r].args.command)){n=a[r];break}if(n){for(var o,i=0;i<n.permissions.length;i++)if("get"in n.permissions[i]().info){console.log(n.permissions[i]()),o=n.permissions[i]().info.get.name;break}if(o)return{info:n.info,getterName:o,value:t}}},J=n(54),q=function(e){return Object(J.b)(e,"arbitrary key and iv seeding string").length},V=n(181),Y=function(e){return e.suggestions.filter((function(e){return"get"in e.info}))||[]},G=function(e){return e.suggestions.filter((function(e){return"set"in e.info}))||[]},K=(n(182),n(14)),Q=n(79),Z=n.n(Q),X=n(70),$=n.n(X),ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bitcoin",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=K.networks[t],r=Z.a.mnemonicToSeed(e),o=K.bip32.fromSeed(r,a),i=o.derivePath("m/1001'/0'/".concat(n,"'")),s=i.neutered(),c=s.toBase58(),l=$.a.decode(c);return console.log("xpub bytes:",l.length),l};n.d(t,"c",(function(){return a.g})),n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.c})),n.d(t,"l",(function(){return r})),n.d(t,"d",(function(){return U})),n.d(t,"e",(function(){return o.a})),n.d(t,"l",(function(){return r})),n.d(t,"g",(function(){return M})),n.d(t,"k",(function(){return z})),n.d(t,"n",(function(){return q})),n.d(t,"m",(function(){return D})),n.d(t,"f",(function(){return V.a})),n.d(t,"h",(function(){return Y})),n.d(t,"i",(function(){return G})),n.d(t,"j",(function(){return ee}))},17:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",leftCorner:"Navbar_leftCorner__qPPEV",wallet:"Navbar_wallet__1RkTc",pageNum:"Navbar_pageNum__1amUi",api:"Navbar_api__ArjdL",warning:"Navbar_warning__1HOBZ",overflowMenu:"Navbar_overflowMenu__1dStH",button:"Navbar_button__3Xi0T",selected:"Navbar_selected__10Mm9",collapsitron:"Navbar_collapsitron__2qzRt",dots:"Navbar_dots__1OrSM",menuShown:"Navbar_menuShown__3-TaY",blurme:"Navbar_blurme__2nA1q"}},181:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var a=n(13),r=n(14),o=n(78),i=n(19),s=n(54),c=n(24),l=n(3),u=n(39),d=r.crypto.hash160,m=r.opcodes,f=function t(n,f,p,h){var b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(0===n.utxoList.length)throw new Error("Wallet has no funds (utxo) to use");var v=p.feeRate,g=r.networks[h],_=Object(o.a)(f.domainName,h),w=_.notificationsAddress,E=Math.ceil(b*v),k=p.action.suggestions.reduce((function(e,t){var n=[];return"set"in t.info&&"Bid burn amount"===t.info.set.name&&(n=[].concat(Object(a.a)(n),[t.info.set.value])),"get"in t.info&&"Bid burn amount"===t.info.get.name&&(n=[].concat(Object(a.a)(n),[parseInt(t.info.get.value,10)])),[].concat(Object(a.a)(e),Object(a.a)(n))}),[]),O=Math.max.apply(Math,Object(a.a)(k).concat([0])),y=0,x=p.action.suggestions.reduce((function(e,t){if(t.info.type===c.c.REFUND_BIDDERS&&!0===t.info.get.value){var n=t.info.set.value.split("\n").map((function(e){var t=e.split(" ")[1],n=parseInt(e.split(" ")[0],10);return y+=n,{address:t,amount:n}}));return[].concat(Object(a.a)(e),Object(a.a)(n))}return e}),[]),j=y+O+i.f+E,N=0,S=0,A=0,C=[];f.derivedUtxoList.forEach((function(e){e.from_scriptpubkey_address===n.address&&(C.push(e),N+=e.value,A+=e.value)}));var I=[];if(n.utxoList.forEach((function(e){(N<j||0===I.length)&&(I.push(e),N+=e.value,S+=e.value)})),N<j)throw new Error("Not enough funds available (need: "+(j/1e8).toFixed(8)+" BTC, have: "+(N/1e8).toFixed(8)+" BTC)");var T=r.ECPair.fromWIF(n.WIF,g),B=new r.Psbt({network:g});B.setVersion(2),B.setLocktime(0),I.forEach((function(t){B.addInput({hash:t.txid,index:t.vout,sequence:4294967294,nonWitnessUtxo:e.from(t.hex,"hex")})}));var L=r.script.compile([d(e.from(f.domainName,"utf8")),m.OP_DROP]),P=r.script.compile([m.OP_TRUE]);C.forEach((function(t){if(!t.hex)throw new Error("Utxo is missing hex, txid: ".concat(t.txid,", vout:").concat(t.vout));B.addInput({hash:t.txid,index:t.vout,sequence:4294967294,nonWitnessUtxo:e.from(t.hex,"hex"),witnessScript:L})}));var W=Object(l.m)({domain:f},n.address).toString(),F=f.domainName+n.address+W;console.log("nonce used to encrypt",f.domainName,n.address,W);var R=p.embedString;console.log("string embedded is",'"'+R+'"');var D=Object(s.b)(R,F),H=r.payments.embed({data:[D]});B.addOutput({script:H.output,value:O}),console.log("rules say to burn ",O),B.addOutput({address:w,value:i.f});var U="CHANGE_ADDRESS"===p.action.type?p.action.suggestions.find((function(e){return"get"in e.info})).info.get.value:n.address,M=N-j;B.addOutput({address:U,value:M}),x.forEach((function(e){B.addOutput({address:e.address,value:e.amount})})),I.forEach((function(e,t){if(B.signInput(t,T),!B.validateSignaturesOfInput(t))throw new Error("Signature validation failed for input index "+t.toString())}));for(var z=0;z<I.length;z++)B.finalizeInput(z);for(var J=I.length;J<I.length+C.length;J++)B.finalizeInput(J,Object(u.b)({inputScript:P,network:g}));var q=B.extractTransaction();console.log(q);var V=q.virtualSize(),Y=q.getId(),G=q.toHex(),K=q.ins.length,Q=q.outs.length;return b>=V?(console.log("virtualSize",q.virtualSize()),console.log("byteLength",q.byteLength()),console.log("getId",q.getId()),console.log("hex",q.toHex()),console.log(""),{txid:Y,thisVirtualSize:V,hex:G,valueNeeded:j,fee:E,change:M,burnAmount:O,notifyAmount:i.f,refundsAmount:y,totalGathered:N,gatheredFromWallet:S,gatheredFromOther:A,nInputs:K,nOutputs:Q,nInputsFromWallet:I.length,nInputsFromOther:C.length||0}):t(n,f,p,h,V)}}).call(this,n(2).Buffer)},182:function(e,t,n){"use strict";(function(e){n(16)}).call(this,n(2).Buffer)},19:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l}));var a=80,r=1e3,o=1e3,i=52560,s=144,c=2,l=1662e3},196:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a=n(1),r=n(29),o=n(11),i=n(0),s=n.n(i),c=n(8),l=n(40),u=n(20),d=n.n(u),m=n(5),f=n(7),p=n(15),h=n(28),b=function(){var t,n=s.a.useContext(m.a),i=n.state,u=n.dispatch,b=s.a.useState({network:"",address:""}),v=Object(o.a)(b,2),g=v[0],_=v[1],w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[],a="";Object.keys(t).forEach((function(o){var i=t[o];e.isBuffer(i)?n.push(Object(r.a)({},o,i)):a+=o+" "+i+" "}));var o=(a=a.slice(0,-1))!==i.choices.embedString;o&&Object(f.c)(i,u,{embedString:a})},E=function(){var e=i.choices.embedString,t=function(){var e=i.choices.action,t="";return e.suggestions.forEach((function(e){"command"in e.info&&(t+=e.info.command+" ",t+=e.info.get.value+" ")})),t=t.slice(0,-1)}();return(e+(""===t||""===e?"":" ")+t).split(" ").reduce((function(e,t,n,o){return n%2===1?Object(a.a)({},e,Object(r.a)({},o[n-1],t)):e}),{})};""===i.choices.embedString&&w(E());var k=Object(p.g)((null===(t=Object(m.e)(i))||void 0===t?void 0:t.forwards)||[]).reverse(),O=Object(p.n)(i.choices.embedString),y=p.a-O,x=y<0;return console.log("bytes to embed",O),s.a.createElement("div",{className:d.a.wrapper},s.a.createElement("div",{className:d.a.title},"Update forwarding information"),s.a.createElement("div",{className:d.a.subtitle},"BNS action: ",i.choices.action.info),s.a.createElement("div",{className:d.a.changes},0===Object.keys(E()).length?"no forwarding updates":"planned forwarding updates",!x&&s.a.createElement("div",{className:d.a.bytesLeft},y," Bytes left"),x&&s.a.createElement("div",{className:d.a.bytesOver},"Too much by ",Math.abs(y)," Bytes"),Object.keys(E()).map((function(t){return function(t){var n=E()[t],r=Object(p.n)(t+" "+n),o=s.a.createElement("i",null," ","(",r,"-",r+1,"B)"),i=function(){if(t.startsWith("!")&&!e.isBuffer(n)){var a=Object(p.k)(t,n);return{content:s.a.createElement(s.a.Fragment,null,a?s.a.createElement(s.a.Fragment,null,'"',a.info,'" user action. ',a.getterName," is set to"," ",s.a.createElement("span",null,a.value),"."):"User action",o),allowRemoval:!1}}return""!==n?{content:s.a.createElement(s.a.Fragment,null,"Updating forwarding on ",s.a.createElement("span",null," "+t+" "),"network to address of ",s.a.createElement("span",null," "+n+" "),o),allowRemoval:!0}:""===n?{content:s.a.createElement(s.a.Fragment,null,"Deleting previously set forwarding information for",s.a.createElement("span",null," "+t+" ")," network",o),allowRemoval:!0}:{content:""}};return s.a.createElement("div",{className:d.a.updateItem,key:t,onClick:function(){t.startsWith("!")||_({network:t,address:String(n)})}},s.a.createElement("div",{className:d.a.updateInfo},i().content),i().allowRemoval&&s.a.createElement("div",{className:["btnCircle",d.a.updateCancel,"addTooltipRight"].join(" "),onClick:function(e){var n=Object(a.a)({},E());delete n[t],w(n),e.stopPropagation()}},s.a.createElement("span",null,"\xd7"),s.a.createElement("aside",null,"Remove from planned changes")))}(t)}))),s.a.createElement("div",{className:d.a.editor},g.network.length>0&&s.a.createElement("div",{className:[d.a.btnDelete,"canPress"].join(" "),onClick:function(){w(Object(a.a)({},E(),Object(r.a)({},g.network,""))),_({network:"",address:""})}},"delete old"),s.a.createElement("div",{className:d.a.editorNetwork},s.a.createElement("aside",null,"Network"),s.a.createElement("textarea",{spellCheck:!1,value:g.network,placeholder:"e.g. btc",onChange:function(e){var t=Object(h.a)(e.target.value,["oneline","no_spaces"]);_(Object(a.a)({},g,{network:t}))}})),s.a.createElement("div",{className:d.a.editorAddress},s.a.createElement("aside",null,"Forwarding address"),s.a.createElement("textarea",{spellCheck:!1,value:g.address,placeholder:"e.g. your btc address",onChange:function(e){var t=Object(h.a)(e.target.value,["oneline","no_spaces"]);_(Object(a.a)({},g,{address:t})),console.log("forwarding sanitized:",'"'+t+'"')}})),s.a.createElement("div",{className:["btnCircle",d.a.btnAdd,"canPress","addTooltip"].join(" "),onClick:function(){""!==g.network&&(w(Object(a.a)({},E(),Object(r.a)({},g.network,g.address))),_({network:"",address:""}))}},s.a.createElement("span",null,"+"),s.a.createElement("aside",null,"Add to planned changes"))),s.a.createElement("div",{className:d.a.pastList},s.a.createElement(l.a,{description:"Current forwards (expand for info):"},s.a.createElement("p",null,"Enter the forwarding addresses you want to use (e.g. long bitcoin address) and specify on which network that address should be used (e.g. btc) when someone wants to reach you after looking up your domain alias.",s.a.createElement("br",null),s.a.createElement("br",null),"Submit new updates by hitting [+] button. Remove updates by hitting [x] buttons.",s.a.createElement("br",null),s.a.createElement("br",null),"Below, the currently active forwarding addresses are shown, if any.",s.a.createElement("br",null),s.a.createElement("br",null),"Edit them by reusing the exact same network or remove by setting forwarding address to nothing or hitting [delete old] button under network name text.")),k.map((function(e,t){return s.a.createElement("div",{className:d.a.pastPair,key:t,onClick:function(){_({network:e.network,address:e.address})}},s.a.createElement("div",{className:d.a.pastNetwork},e.network),s.a.createElement("div",{className:d.a.pastAddress},e.address))}))),s.a.createElement("div",{className:d.a.buttonWrapper},s.a.createElement(c.a,{back:"true",onClick:function(){Object(f.d)(i,u,4)}},"Back"),s.a.createElement(c.a,{next:"true",show:O>p.a?"false":"true",onClick:function(){Object(f.d)(i,u,6)}},"Ready"),!k.some((function(e){return"?"===e.network}))&&!1))}}).call(this,n(2).Buffer)},198:function(e,t,n){e.exports=n.p+"static/media/graphic.b15c3267.png"},20:function(e,t,n){e.exports={wrapper:"P5CustomForwards_wrapper__2kAy2",title:"P5CustomForwards_title__29aFH",subtitle:"P5CustomForwards_subtitle__1iqt_",changes:"P5CustomForwards_changes__23bYg",pastList:"P5CustomForwards_pastList__3rXdy",buttonWrapper:"P5CustomForwards_buttonWrapper__3hvwB",editor:"P5CustomForwards_editor__1ZVVF",updateItem:"P5CustomForwards_updateItem__1wAhx",updateCancel:"P5CustomForwards_updateCancel__3b5bW",updateInfo:"P5CustomForwards_updateInfo__2OBcF",editorNetwork:"P5CustomForwards_editorNetwork__1L6UB",editorAddress:"P5CustomForwards_editorAddress__1N25M",btnAdd:"P5CustomForwards_btnAdd__1tiSg",btnDelete:"P5CustomForwards_btnDelete__3NCte",pastPair:"P5CustomForwards_pastPair__3YvIk",pastNetwork:"P5CustomForwards_pastNetwork__35eVe",pastAddress:"P5CustomForwards_pastAddress__3-W_H",bytesLeft:"P5CustomForwards_bytesLeft__2zySr",bytesOver:"P5CustomForwards_bytesOver__ysfMq"}},202:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(1),r=n(14),o=n(55),i=n.n(o),s=function(e){if(!e.network)throw new Error('Must provide network ("bitcoin" or "testnet")');var t=r.networks[e.network],n=new r.Psbt({network:t});return n.setVersion(e.setVersion),n.setLocktime(e.setLocktime),u({tb:e,psbt:n}),l({tb:e,psbt:n}),c({tb:e,psbt:n}),n.extractTransaction()},c=function(e){for(var t=e.tb,n=e.psbt,a=r.networks[t.network],o=Object.keys(t.inputs).length,i=0;i<o;i++){var s=t.inputs[i.toFixed(0)];if(s.canJustSign){if(n.signInput(i,s.keyPair[0]),!n.validateSignaturesOfInput(i))throw new Error("Signature validation failed for input index "+i.toFixed(0));n.finalizeInput(i)}s.canJustSign||n.finalizeInput(i,d({inputScript:s.inputScript,network:a}))}},l=function(e){var t=e.tb,n=e.psbt;if(!t.outputs||0===Object.keys(t.outputs).length)throw new Error("Can't have no outputs");console.log("getTx found ".concat(Object.keys(t.outputs).length.toFixed(0)," outputs"));for(var r=0;r<Object.keys(t.outputs).length;r++){if(void 0===t.outputs[r.toFixed(0)])throw new Error("Missing output at vout index ".concat(r.toFixed(0)))}Object.keys(t.outputs).forEach((function(e,r){if(e!==r.toFixed(0))throw new Error("Badly labeled output with key ".concat(e));var o=t.outputs[e];if(!o.value)throw new Error("Missing value on output #".concat(e));var i={value:o.value};if(!o.address&&!o.script)throw new Error("Missing address OR script on output #".concat(e));o.address&&(i.address=o.address),o.script&&(i.script=o.script),n.addOutput(Object(a.a)({},o))}))},u=function(e){var t=e.tb,n=e.psbt;if(!t.inputs||0===Object.keys(t.inputs).length)throw new Error("Can't have no inputs");console.log("getTx found ".concat(Object.keys(t.inputs).length.toFixed(0)," inputs"));for(var o=0;o<Object.keys(t.inputs).length;o++){if(void 0===t.inputs[o.toFixed(0)])throw new Error("Missing input at vin index ".concat(o.toFixed(0)))}Object.keys(t.inputs).forEach((function(e,o){if(e!==o.toFixed(0))throw new Error("Wrong labeled input with key ".concat(e));var i=t.inputs[e];if(!i.hash)throw new Error("Missing txid on input #".concat(e));if(!i.index)throw new Error("Missing vout on input #".concat(e));if(!i.sequence)throw new Error("Missing sequence on input #".concat(e));if(!i.nonWitnessUtxo)throw new Error("Missing input's full tx hex on input #".concat(e));var s={hash:i.hash,index:i.index,sequence:i.sequence,nonWitnessUtxo:i.nonWitnessUtxo};if(i.witnessScript&&(s.witnessScript=i.witnessScript),i.redeemScript&&(s.redeemScript=i.redeemScript),i.inputScript&&(s.inputScript=r.script.fromASM(s.inputScript).trim().replace(/\s+/g," ")),(i.witnessScript||i.redeemScript)&&!i.inputScript)throw new Error("\n        Missing input script on input #".concat(e," but provided\n        ").concat(i.witnessScript?" witness ":"","\n        ").concat(i.witnessScript&&i.redeemScript?" & ":"","\n        ").concat(i.redeemScript?" redeem ":"","\n        script\n      "));if(!i.witnessScript&&!i.redeemScript&&i.inputScript)throw new Error("Missing witness or redeem scripts but provided input script for input #".concat(e));if(!i.canJustSign&&(!i.inputScript||!i.witnessScript||!i.redeemScript))throw new Error("Can't just sign but no spending scripts either for input #".concat(e));if(i.keyPairs&&(s.keyPairs=i.keyPairs),(!i.keyPairs||!i.keyPairs[0])&&i.canJustSign)throw new Error("Need at least 1 keypair to just sign input #".concat(e));if(i.sighashTypes&&(s.sighashTypes=i.sighashTypes),i.sighashTypes&&i.keyPairs&&i.sighashTypes.length!==i.keyPairs.length)throw new Error("Each key pair needs matching sighash choice. Missing matches on input #".concat(e));i.address&&(s.address=i.address),i.value&&(s.value=i.value),i.confirmed&&(s.confirmed=i.confirmed),i.info&&(s.info=i.info),n.addInput(Object(a.a)({},s))}))},d=function(t){var n=t.inputScript,a=t.network;return function(t,o,s,c,l,u){var d={network:a,output:s,input:n};return u&&c&&(d=r.payments.p2wsh({network:a,redeem:d})),l&&(d=r.payments.p2sh({network:a,redeem:d})),{finalScriptSig:d.input,finalScriptWitness:d.witness&&d.witness.length>0?function(t){var n,a=e.allocUnsafe(0);function r(t){var n=a.length,r=i.a.encodingLength(t);a=e.concat([a,e.allocUnsafe(r)]),i.a.encode(t,a,n)}function o(t){r(t.length),function(t){a=e.concat([a,e.from(t)])}(t)}return r((n=t).length),n.forEach(o),a}(d.witness):void 0}}}}).call(this,n(2).Buffer)},203:function(e,t,n){e.exports=n(404)},208:function(e,t,n){},215:function(e,t){},217:function(e,t){},22:function(e,t,n){e.exports={wrapper:"SearchResults_wrapper__VvaYk",scrollbars:"SearchResults_scrollbars__1zMfY",breakable:"SearchResults_breakable__3r3ay",listContainer:"SearchResults_listContainer__12vQE",listItem:"SearchResults_listItem__3Udwx",key:"SearchResults_key__358jo",expired:"SearchResults_expired__2ptnD",avaiability:"SearchResults_avaiability__3E0Yr",createLink:"SearchResults_createLink__13Wez",describe:"SearchResults_describe__3HACm",ownershipDetails:"SearchResults_ownershipDetails__1Z7p1",balance:"SearchResults_balance__11rok",linkable:"SearchResults_linkable__86qQ2",matches:"SearchResults_matches__CzTtF"}},235:function(e,t){},237:function(e,t){},24:function(e,t,n){"use strict";var a,r,o;!function(e){e.RENEW="RENEW",e.ONLY_FORWARDS="ONLY_FORWARDS",e.BID_FOR_OWNERSHIP="BID_FOR_OWNERSHIP",e.SEND_OWNERSHIP="SEND_OWNERSHIP",e.CHANGE_ADDRESS="CHANGE_ADDRESS",e.REFUND_OTHER_BIDS="REFUND_OTHER_BIDS"}(a||(a={})),function(e){e.REFUND_BIDDERS="REFUND_BIDDERS"}(r||(r={})),function(e){e.BURN="BURN",e.NULL="NULL"}(o||(o={})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}))},25:function(e,t,n){e.exports={wrapper:"P1RestoreOrBackup_wrapper__32TQJ",title:"P1RestoreOrBackup_title__2rH-6",contentWrapper:"P1RestoreOrBackup_contentWrapper__1NT85",buttonWrapper:"P1RestoreOrBackup_buttonWrapper__2ryAq",describe:"P1RestoreOrBackup_describe__1RMqs",orange:"P1RestoreOrBackup_orange__3V9sL",spacer:"P1RestoreOrBackup_spacer__3luud",backup:"P1RestoreOrBackup_backup__357rd",restoreBackup:"P1RestoreOrBackup_restoreBackup__VUHgs"}},26:function(e,t,n){e.exports={wrapper:"P4ActionChoice_wrapper__2u2J5",title:"P4ActionChoice_title__2PdRs",availableActions:"P4ActionChoice_availableActions__1O5aS",inputForms:"P4ActionChoice_inputForms__3vlaZ",okButton:"P4ActionChoice_okButton__lq4sl",unavailableActions:"P4ActionChoice_unavailableActions__3rEYI",buttonWrapper:"P4ActionChoice_buttonWrapper__3Sx3Y",orange:"P4ActionChoice_orange__6-7sA",unavailableActions__title:"P4ActionChoice_unavailableActions__title__2EQ4_",unavailableActions__actionList:"P4ActionChoice_unavailableActions__actionList__1VAc_",unavailableActions__actionList__action:"P4ActionChoice_unavailableActions__actionList__action__GMwoW",unavailableActions__actionList__action__title:"P4ActionChoice_unavailableActions__actionList__action__title__3ljZU",unavailableActions__actionList__action__permissionList:"P4ActionChoice_unavailableActions__actionList__action__permissionList__2pKeq",unavailableActions__actionList__action__permissionList__permission:"P4ActionChoice_unavailableActions__actionList__action__permissionList__permission__2eF7F",breakable:"P4ActionChoice_breakable__x4Qcm"}},27:function(e,t,n){e.exports={wrapper:"P2LoadWallet_wrapper__vI_bb",title:"P2LoadWallet_title__8Dw43",contentWrapper:"P2LoadWallet_contentWrapper__UNLo4",buttonWrapper:"P2LoadWallet_buttonWrapper__1rrct",button:"P2LoadWallet_button__1A8-S",address:"P2LoadWallet_address__37xx2",orange:"P2LoadWallet_orange__UP8xH",imgQr:"P2LoadWallet_imgQr__3Avh3",backAndReady:"P2LoadWallet_backAndReady__3oVit"}},28:function(e,t,n){"use strict";function a(e,t){var n;Array.isArray(t)&&(n=t),"string"===typeof t&&(n=[t]);var a="",r=[];n.forEach((function(e){"numbers"===e&&(a+="0123456789"),"fractions"!==e&&"number"!==e||(a+="0123456789."),"decimal_point"===e&&(a+="."),"hex"===e&&(a+="0123456789abcdefABCDEF"),"lowcaps"===e&&(a+="abcdefghijklmnopqrstuvwxyz"),"highcaps"===e&&(a+="ABCDEFGHIJKLMNOPQRSTUVWYZ"),"spaces"===e&&(a+=" "),"base58"===e&&(a+="12345689ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),"basic"===e&&(a+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),"oneline"===e&&(a+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ,./-_!`~[]{}|@#%^&()-=?$"),"url"!==e&&"string"!==e||(a+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ:/?#[]@!$&'()*+,;=-_.~"),"no_spaces"===e&&r.push((function(e){return e.split("").filter((function(e){return" "!==e})).join("")})),"single_space_width"===e&&r.push((function(e){return e.split(/  */).join(" ")})),"decimal_point"===e&&r.push((function(e){return e.split(".").reduce((function(e,t,n){var a=0===n&&""===t?"0":t;return[e,a].join(1===n?".":"")}),"")})),"no_leading_zeros"===e&&r.push((function(e){return e.split(".").map((function(e,t){return 0===t?(parseInt(e,10)||0).toString():e})).join(".")}))})),0===a.length&&0===r.length&&console.warn("sanitize used w/o any known filters",t);var o="";return o=e.split("").filter((function(e){return a.indexOf(e)>-1})).join(""),r.forEach((function(e){return o=e(o)})),o}n.d(t,"a",(function(){return a}))},3:function(e,t,n){"use strict";(function(e){n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"G",(function(){return h})),n.d(t,"t",(function(){return b})),n.d(t,"o",(function(){return v})),n.d(t,"K",(function(){return g})),n.d(t,"d",(function(){return _})),n.d(t,"p",(function(){return w})),n.d(t,"H",(function(){return E})),n.d(t,"n",(function(){return k})),n.d(t,"l",(function(){return O})),n.d(t,"B",(function(){return y})),n.d(t,"m",(function(){return x})),n.d(t,"s",(function(){return j})),n.d(t,"q",(function(){return N})),n.d(t,"r",(function(){return A})),n.d(t,"L",(function(){return C})),n.d(t,"F",(function(){return I})),n.d(t,"b",(function(){return T})),n.d(t,"A",(function(){return B})),n.d(t,"z",(function(){return L})),n.d(t,"g",(function(){return P})),n.d(t,"v",(function(){return W})),n.d(t,"D",(function(){return F})),n.d(t,"f",(function(){return R})),n.d(t,"c",(function(){return D})),n.d(t,"y",(function(){return H})),n.d(t,"k",(function(){return U})),n.d(t,"M",(function(){return M})),n.d(t,"E",(function(){return z})),n.d(t,"a",(function(){return q})),n.d(t,"x",(function(){return V})),n.d(t,"w",(function(){return Y})),n.d(t,"u",(function(){return G})),n.d(t,"C",(function(){return K})),n.d(t,"I",(function(){return Q})),n.d(t,"J",(function(){return X})),n.d(t,"h",(function(){return $}));var a=n(29),r=n(1),o=n(13),i=n(56),s=n(19),c=n(24),l=n(54),u=n(134),d=function(e){return""!==e.domain.currentOwner},m=function(e,t){return!!e.domain.users[t]},f=function(e,t){e.domain.users[t]=JSON.parse(JSON.stringify(i.b)),e.domain.users[t].address=t},p=function(e){return e.domain.currentOwner||""},h=function(e,t){e.domain.currentOwner=t},b=function e(t,n){return m(t,n)||console.warn("You called",e,"without checking if user exists via existsUser()"),t.domain.users[n]},v=function(e){var t=p(e);if(t)return b(e,t)},g=function(e){e.domain.ownersHistory.push(v(e)||JSON.parse(JSON.stringify(i.b)))},_=function(e){e.domain.currentOwner=""},w=function(e){var t;return(null===(t=e.chain)||void 0===t?void 0:t.parsedHeight)||0},E=function(e,t){e.chain&&(e.chain.parsedHeight=t)},k=function(e){return e.domain.notificationAddress||""},O=function(e){var t;return(null===(t=v(e))||void 0===t?void 0:t.burnAmount)||0},y=function(e){if(!d(e))return!0;var t=v(e);return t?w(e)-t.winHeight>s.g:(console.log("isOwnerExpired: owner exists but no user with such address stored"),!0)},x=function(e,t){return m(e,t)?b(e,t).nonce:0},j=function(e){return e.status.block_time||0},N=function(e){return e.status.block_height||0},S=function(e){var t;return(null===(t=e.vout[0])||void 0===t?void 0:t.value)||0},A=function(e){var t;return(null===(t=e.vin[0])||void 0===t?void 0:t.prevout.scriptpubkey_address)||""},C=function(e,t){var n=A(t);m(e,n)||(f(e,n),console.log("new source created:",n));var a=e.domain.users[n];a.nonce=a.updateHeight,a.updateHeight=N(t)},I=function(t,n){if(B(n)){var a=A(n),r=b(t,a),i=x(t,a).toString(),s=function(e){return B(e)?e.vout[0].scriptpubkey_asm.split(" ").slice(2).join(""):""}(n),c=e.from(s,"hex"),u=t.domain.domainName+r.address+i,d=Object(l.a)(c,u).split(" "),m=[];d.forEach((function(e,t){if(t%2===1){var a=d[t-1],r=e,o={network:encodeURIComponent(a),address:encodeURIComponent(r),updateHeight:N(n),updateTimestamp:j(n)};m.push(o)}})),function(e,t,n){var a=b(e,t);a.forwards=[].concat(Object(o.a)(a.forwards),Object(o.a)(n))}(t,a,m)}else console.log(N(n),": no op_return found for txid")},T=function(e){return e.vout.length>=2},B=function(e){return"OP_RETURN"===e.vout[0].scriptpubkey_asm.split(" ")[0]},L=function(e,t){return function(e){var t;return(null===(t=e.vout[1])||void 0===t?void 0:t.scriptpubkey_address)||""}(t)===k(e)},P=function(e){return function(e){var t;return(null===(t=e.vout[1])||void 0===t?void 0:t.value)||0}(e)>=s.f},W=function(e,t){return p(e)===t},F=function(e,t){return p(e)===A(t)},R=function(e){return S(e)>=s.e},D=function(e,t){return S(t)>=O(e)},H=function(e,t,n){return!!U(e,t,n)},U=function(e,t,n){var a=N(t),r=A(t),o=b(e,r).forwards,i=!0,s=!1,c=void 0;try{for(var l,u=o[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var d=l.value,m=d.network;if(d.updateHeight===a&&m.startsWith(n))return d}}catch(f){s=!0,c=f}finally{try{i||null==u.return||u.return()}finally{if(s)throw c}}},M=function(e,t){var n=k(e);t.vin.forEach((function(t){if(t.prevout.scriptpubkey_address===n){var a=t.txid,r=t.vout,o=e.domain.derivedUtxoList.findIndex((function(e){return e.txid===a&&e.vout===r}));e.domain.derivedUtxoList.splice(o,1)}})),t.vout.forEach((function(a,r){a.scriptpubkey_address===n&&e.domain.derivedUtxoList.push({txid:t.txid,vout:r,status:t.status,value:a.value,from_scriptpubkey_address:A(t)})}))},z=function(e,t){var n=A(t),a=N(t),r=!0,o=!1,i=void 0;try{for(var s,c=e.domain.derivedUtxoList[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value,u=l.from_scriptpubkey_address,d=l.status.block_height<a;if(!u&&console.log("st.domain.derivedUtxoList for some reason has undefined from_scriptpubkey_address"),u===n&&d)return!1}}catch(m){o=!0,i=m}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return!0},J=function(e){e.domain.bidding=Object(r.a)({},JSON.parse(JSON.stringify(i.a.domain.bidding)))},q=function(e,t,n){var a=A(t),r=N(t),o=S(t);r>e.domain.bidding.endHeight&&function(e,t,n){var a=N(t);J(e),e.domain.bidding.startHeight=a,e.domain.bidding.endHeight=a+s.c,e.domain.bidding.type=n,console.log("Bidding period started at height",a,"until",a+s.c)}(e,t,n);var i=e.domain.bidding.bids,c={height:r,timestamp:j(t),address:a,value:o,valueLeftToRefund:o,blockHash:t.status.block_hash};i.push(c),console.log("New bid from",a,"for",o)},V=function(e){var t=e.chain.parsedHeight,n=e.domain.bidding.type,a=e.domain.bidding.endHeight;return n!==c.b.NULL&&a<=t},Y=function(e){if(!e.chain)throw new Error("called st.chain without it defined");var t=e.chain.parsedHeight,n=e.domain.bidding.type,a=e.domain.bidding.endHeight,r=e.domain.bidding.startHeight;return n!==c.b.NULL&&t<a&&t>=r&&(console.log("",t,"Action falls within bidding period."),!0)},G=function(e,t){if(!Y)return!1;for(var n=0;n<e.domain.bidding.bids.length;n++){if(e.domain.bidding.bids[n].address===t)return!0}return!1},K=function(e,t){var n=A(t);return G(e,n)},Q=function(e,t){var n=A(t),a=e.domain.bidding.bids,r={},o=!0,i=!1,s=void 0;try{for(var c,l=t.vout[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value,d=u.scriptpubkey_address,m=u.value;void 0!==d&&n!==d&&(r[d]?r[d]+=m:r[d]=m)}}catch(v){i=!0,s=v}finally{try{o||null==l.return||l.return()}finally{if(i)throw s}}for(var f=0;f<a.length;f++){var p=a[f],h=p.address;if(console.assert(p.height>=e.domain.bidding.startHeight,"Bid height outside allowed range."),console.assert(p.height<e.domain.bidding.endHeight,"Bid height outside allowed range."),void 0!==r[h]){var b=Math.max(Math.min(r[h],p.valueLeftToRefund),0);p.valueLeftToRefund-=b,r[h]-=b}}},Z=function(e){return e.domain.bidding.bids.filter((function(e){return e.valueLeftToRefund>0}))},X=function(e){return Z(e).reduce((function(e,t){var n=t.address,o=t.valueLeftToRefund;return e[n]?Object(r.a)({},e,Object(a.a)({},n,e[n]+o)):Object(r.a)({},e,Object(a.a)({},n,o))}),{})},$=function(e){var t=e.domain.bidding.bids,n=Z(e),a=[],r=!0,o=!1,i=void 0;try{for(var c,l=function(){var t=c.value;console.assert(t.height>=e.domain.bidding.startHeight,"Bid height outside allowed range."),console.assert(t.height<e.domain.bidding.endHeight,"Bid height outside allowed range.");var r=t.height;n.some((function(e){return!(e.height>=r)&&e.address!==t.address}))||a.push(t)},d=t[Symbol.iterator]();!(r=(c=d.next()).done);r=!0)l()}catch(E){o=!0,i=E}finally{try{r||null==d.return||d.return()}finally{if(o)throw i}}for(var m={address:"",height:0,timestamp:0,value:0,valueLeftToRefund:0,blockHash:""},f=[],p=0,b=a.length-1,g=0;g<=b;g++){var _=a[g],w=_.height;_.height>p&&(m=Object(u.a)(f)||m,f=[]),_.value>=s.b*m.value&&f.push(_),p=w,g===b&&(m=Object(u.a)(f)||m)}if(""===m.address)throw new Error("There should be no cases without a winner since at least 1st bid wins");h(e,m.address),v(e).burnAmount=m.value,v(e).winHeight=m.height,v(e).winTimestamp=m.timestamp,console.log("",m.height,"Bidding winner and new owner is",m.address),J(e)}}).call(this,n(2).Buffer)},30:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"f",(function(){return p}));var a=n(13),r=n(11),o=n(4),i=n.n(o),s=n(72),c=n.n(s);function l(e,t){var n,a;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t[e]+"fee-estimates",console.warn(n),r.prev=2,r.next=5,i.a.awrap(c.a.get(n));case 5:return a=r.sent,console.warn("Blockstream.info API getFeeEstimates",a.data),r.abrupt("return",a.data);case 10:throw r.prev=10,r.t0=r.catch(2),console.warn(r.t0),new Error("Blockstream.info API getFeeEstimates failed");case 14:case"end":return r.stop()}}),null,null,[[2,10]])}function u(e,t){var n,a;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t[e]+"blocks/tip/height",console.warn(n),r.prev=2,r.next=5,i.a.awrap(c.a.get(n));case 5:return a=r.sent,console.warn("Blockstream.info API getHeight",a.data),r.abrupt("return",a.data);case 10:throw r.prev=10,r.t0=r.catch(2),console.warn(r.t0),new Error("Blockstream.info API height get failed");case 14:case"end":return r.stop()}}),null,null,[[2,10]])}function d(e,t,n){var a,o,s,l,u,d,m,f,p,b,v,g,_,w=arguments;return i.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:if(a=w.length>3&&void 0!==w[3]?w[3]:h,void 0!==e){E.next=3;break}throw new Error("undefined utxoList when addRawTxToArray was called");case 3:if(o="",0!==(null===e||void 0===e?void 0:e.length)){E.next=6;break}return E.abrupt("return",{utxoList:e,error:"no utxo"});case 6:s=0,l=Object.entries(e);case 7:if(!(s<l.length)){E.next=38;break}u=l[s],d=Object(r.a)(u,2),m=d[0],f=d[1],p=parseInt(m,10),b=2;case 14:if(!(b-- >0)){E.next=35;break}return E.prev=15,v=f.txid,g=n[t]+"tx/"+v+"/hex",console.warn(g),E.next=21,i.a.awrap(c.a.get(g));case 21:return _=E.sent,console.warn("Blockstream.info API addRawTxToArray:",p,"index utxo has raw hex of",_.data),e[p].hex=_.data,E.abrupt("break",35);case 27:E.prev=27,E.t0=E.catch(15),console.warn("fail detected",m,f,b,o,E.t0),o+=m+" ";case 31:return E.next=33,i.a.awrap(a());case 33:E.next=14;break;case 35:s++,E.next=7;break;case 38:return E.abrupt("return",{utxoList:e,erroredOutputs:o});case 39:case"end":return E.stop()}}),null,null,[[15,27]])}function m(e,t,n){var a,r;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(void 0!==e&&""!==e){o.next=2;break}throw new Error("no address when getUTXOList called");case 2:return a=n[t]+"address/"+e+"/utxo",console.warn(a),o.prev=4,o.next=7,i.a.awrap(c.a.get(a));case 7:return r=o.sent,console.warn("Blockstream.info API getUTXOList",r.data),o.abrupt("return",r.data.filter((function(e){return e.status.confirmed})));case 12:throw o.prev=12,o.t0=o.catch(4),console.warn(o.t0),new Error("Blockstream.info API access failed");case 16:case"end":return o.stop()}}),null,null,[[4,12]])}function f(e,t,n){var r,o,s,l,u;return i.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:if(void 0!==e&&""!==e){d.next=2;break}throw new Error("no address when getAddressHistory called");case 2:r=25,o="",s=[],"/txs/chain/",l=n[t]+"address/"+e+"/txs/chain/",console.warn(l),d.prev=8;case 9:return d.next=11,i.a.awrap(c.a.get(l+o));case 11:if(u=d.sent,console.warn("blockstream.info API getAddressHistory",l+o,"\n",u.data),s.push.apply(s,Object(a.a)(u.data)),!(u.data.length>=r)){d.next=21;break}return o=u.data.slice(-1)[0].txid,console.log("Multiple pages of tx detected, lastTxid received is",o),d.next=19,i.a.awrap(h());case 19:d.next=22;break;case 21:o="";case 22:if(""!==o){d.next=9;break}case 23:return d.abrupt("return",s);case 26:throw d.prev=26,d.t0=d.catch(8),console.warn(d.t0),new Error("Blockstream.info API access failed");case 30:case"end":return d.stop()}}),null,null,[[8,26]])}function p(e,t,n){var a,r;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(void 0!==e&&""!==e){o.next=2;break}throw new Error("no content when txPush called");case 2:return a=n[t]+"broadcast",o.prev=3,o.next=6,i.a.awrap(c.a.get(a,{params:{tx:e}}));case 6:return r=o.sent,console.warn("blockstream.info API txPush",r," Broadcasted on",t),o.abrupt("return",{txid:r.data});case 11:throw o.prev=11,o.t0=o.catch(3),console.warn("Failed pushtx",t,o.t0.response.data),new Error("Blockstream.info API access failed\n"+o.t0.response.data);case 15:case"end":return o.stop()}}),null,null,[[3,11]])}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;return new Promise((function(t){return setTimeout(t,e)}))}},38:function(e,t,n){e.exports={wrapper:"P6Broadcast_wrapper__32tq-",title:"P6Broadcast_title__2fzea",fees:"P6Broadcast_fees__STZ2e",txSummary:"P6Broadcast_txSummary__24FzE",status:"P6Broadcast_status__3SsMv",totalCost:"P6Broadcast_totalCost__Agr2T",buttonWrapper:"P6Broadcast_buttonWrapper__ROAk6",status__button:"P6Broadcast_status__button__fFvc3",status__failed:"P6Broadcast_status__failed__1moa8",balance:"P6Broadcast_balance__1ZVur"}},39:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(14),r=n(79),o=n.n(r),i=n(55),s=n.n(i),c=function(e){var t=a.networks[e],n=o.a.generateMnemonic(),r=o.a.mnemonicToSeed(n),i=a.bip32.fromSeed(r,t).derivePath("m/44'/0'/0'").derivePath("0/0").toWIF(),s=a.ECPair.fromWIF(i,t);return{mnemonic:n,WIF:i,address:a.payments.p2wpkh({pubkey:s.publicKey,network:t}).address}},l=function(e,t){var n=a.networks[t],r=o.a.mnemonicToSeed(e),i=a.bip32.fromSeed(r,n).derivePath("m/44'/0'/0'").derivePath("0/0").toWIF(),s=a.ECPair.fromWIF(i,n);return{mnemonic:e,WIF:i,address:a.payments.p2wpkh({pubkey:s.publicKey,network:n}).address}};function u(e){return(null===e||void 0===e?void 0:e.reduce((function(e,t){return e+t.value}),0))||0}var d=function(t){var n=t.inputScript,r=t.network;return function(t,o,i,c,l,u){var d={network:r,output:i,input:n};return u&&c&&(d=a.payments.p2wsh({network:r,redeem:d})),l&&(d=a.payments.p2sh({network:r,redeem:d})),{finalScriptSig:d.input,finalScriptWitness:d.witness&&d.witness.length>0?function(t){var n,a=e.allocUnsafe(0);function r(t){var n=a.length,r=s.a.encodingLength(t);a=e.concat([a,e.allocUnsafe(r)]),s.a.encode(t,a,n)}function o(t){r(t.length),function(t){a=e.concat([a,e.from(t)])}(t)}return r((n=t).length),n.forEach(o),a}(d.witness):void 0}}}}).call(this,n(2).Buffer)},40:function(e,t,n){"use strict";var a=n(11),r=n(0),o=n.n(r),i=n(73),s=n.n(i),c=function(e){var t=o.a.useState("true"===(null===e||void 0===e?void 0:e.show)||!1),n=Object(a.a)(t,2),r=n[0],i=n[1];return o.a.createElement("div",{className:s.a.wrapper},o.a.createElement("div",{className:s.a.buttonWrapper,onClick:function(){i(!r)}},o.a.createElement("div",{className:s.a.toggleDetails},e.title||e.description||"Show details"),o.a.createElement("div",{className:[s.a.arrow,r?s.a.down:""].join(" ")})),o.a.createElement("div",{className:s.a.details,style:{display:r?"block":"none"}},e.children))};n.d(t,"a",(function(){return c}))},403:function(e,t,n){},404:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(197),i=n.n(o),s=n(49),c=(n(208),n(57)),l=n(87),u=n.n(l),d=n(198),m=n.n(d),f=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[u.a.wrapper,"scrollbar"].join(" ")},r.a.createElement("div",{className:u.a.title},r.a.createElement("div",null,"Your ",r.a.createElement("span",null,"Bitcoin")," domain \xa0=\xa0"),r.a.createElement("div",null,"\xa0infinite forwarding addresses")),r.a.createElement("div",{className:u.a.contentWrapper},r.a.createElement("img",{className:u.a.drawing,src:m.a,alt:"graphic"}),r.a.createElement("p",null,r.a.createElement("span",null,"Bitcoin")," Domain System (",r.a.createElement("span",null,"BNS"),"): easy to read custom domain names (i.e. aliases) that can store unlimited forwarding information to long alphanumeric btc addresses or any other types of addreses (e.g. ipfs, https, twitter, ...)."),r.a.createElement("p",null,"All ",r.a.createElement("span",null,"BNS")," data is stored inside transactions on the"," ",r.a.createElement("span",null,"Bitcoin")," blockchain. This means that ",r.a.createElement("span",null,"BNS")," is protected by the most secure, decentralized, permissionless, and censorship resistant public network ever created."),r.a.createElement("a",{href:"https://github.com/ildarmgt/BitcoinNameSystem/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"},"more on github"))))};function p(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null))}var h,b=n(5),v=n(11),g=n(58),_=n.n(g),w=function(){var e=r.a.useContext(b.a).state,t=e.alias+e.extension,n=Object(c.g)(),o=Object(a.useState)(window.innerWidth),i=Object(v.a)(o,2),s=i[0],l=i[1];Object(a.useEffect)((function(){var e=function(){l(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var u=Math.min(Math.floor(1.1*s/t.length),Math.floor(1.1*s/15)),d={height:(.13*s+.4*u).toString()+"px"},m={marginTop:(.02*s-.1*u).toString()+"px"},f={fontSize:u.toString()+"px"};return r.a.createElement("div",{className:_.a.wrapper},r.a.createElement("div",{className:_.a.cutOverflow,style:d},r.a.createElement("div",{className:_.a.bar,style:d})),r.a.createElement("div",{className:_.a.domain,style:m,onClick:function(){n.push("/")}},r.a.createElement("span",{className:_.a.alias,style:f},e.alias),r.a.createElement("span",{className:_.a.ext,style:f},e.extension)),r.a.createElement("div",{className:_.a.spacer}))},E=n(8),k=n(25),O=n.n(k),y=n(7),x=n(28),j=n(40);!function(e){e[e.ROOT=0]="ROOT",e[e.NEW_WALLET=1]="NEW_WALLET",e[e.LOAD_BACKUP=2]="LOAD_BACKUP"}(h||(h={}));var N=function(){var e,t=r.a.useContext(b.a),n=t.state,o=t.dispatch,i=Object(a.useState)(h.ROOT),s=Object(v.a)(i,2),c=s[0],l=s[1],u=Object(a.useState)(""),d=Object(v.a)(u,2),m=d[0],f=d[1],p=m.split(" ").filter((function(e){return""!==e})).length;return r.a.createElement("div",{className:O.a.wrapper},r.a.createElement("div",{style:{display:c===h.ROOT?"block":"none"}},r.a.createElement("div",{className:O.a.title},n.wallet.address?r.a.createElement(r.a.Fragment,null,"Your ",r.a.createElement("span",{className:O.a.orange},"BTC")," wallet for interacting",r.a.createElement("br",null),"with the domains"):r.a.createElement(r.a.Fragment,null,"Need a ",r.a.createElement("span",{className:O.a.orange},"BTC")," wallet for interacting",r.a.createElement("br",null),"with the domains")),r.a.createElement("div",{className:O.a.contentWrapper},r.a.createElement(j.a,{description:"Explain"},r.a.createElement("p",null,r.a.createElement("span",null,"This wallet has the built-in unique functionality to create transactions with custom scripts, inputs, and outputs necessary for this application."),r.a.createElement("span",null,"The wallet's address is how users and owners of the domains are identified and should only be used for this purpose."),r.a.createElement("span",null,"1. BIP39 mnemonic is used from backup or generated"),r.a.createElement("span",null,"2. BIP32 master seed is derived from the mnemonic"),r.a.createElement("span",null,"3. Key pair is derived at the m/44'/0'/0'/0/0 path from master seed"),r.a.createElement("span",null,"4. The p2wpkh (pay-to-witness-public-key-hash) address is derived from key pair")))),r.a.createElement("div",{className:O.a.buttonWrapper},r.a.createElement(E.a,{show:n.wallet.mnemonic.length>0?"false":"true",onClick:function(){l(h.NEW_WALLET),Object(y.e)(n,o)}},"I need a new wallet"),r.a.createElement(E.a,{show:n.wallet.mnemonic.length>0?"true":"false",onClick:function(){l(h.NEW_WALLET)}},"Current mnemonic"),r.a.createElement(E.a,{onClick:function(){l(h.LOAD_BACKUP)}},"Restore from backup"),r.a.createElement(E.a,{show:(!!(null===(e=n.wallet)||void 0===e?void 0:e.address)).toString(),onClick:function(){Object(y.d)(n,o,2)},next:"true"},"Don't change wallet"))),r.a.createElement("div",{className:O.a.title,style:{display:c===h.NEW_WALLET?"inline-block":"none"}},"Randomly generated mnemonic backup for"," ",r.a.createElement("span",{className:O.a.orange},"BTC")," wallet"),r.a.createElement("div",{className:O.a.contentWrapper,style:{display:c===h.NEW_WALLET?"flex":"none"}},r.a.createElement("div",{className:O.a.describe},"Backup this private phrase or you will lose access!"),r.a.createElement("div",{id:"divBackup",spellCheck:!1,className:[O.a.backup,"selectable"].join(" "),onClick:function(){}},n.wallet.mnemonic)),r.a.createElement("div",{className:O.a.buttonWrapper,style:{display:c===h.NEW_WALLET?"flex":"none"}},r.a.createElement(E.a,{onClick:function(){l(h.ROOT)},back:"true"},"Back"),r.a.createElement(E.a,{onClick:function(){l(h.NEW_WALLET),Object(y.e)(n,o)}},"New"),r.a.createElement(E.a,{next:"true",onClick:function(){Object(y.d)(n,o,2)}},"I'm done with backup")),r.a.createElement("div",{style:{display:c===h.LOAD_BACKUP?"block":"none"}},r.a.createElement("div",{className:O.a.title},"Type or paste your backup here"),r.a.createElement("div",{className:O.a.contentWrapper},p.toString()+" words now. 12 minimum."),r.a.createElement("textarea",{className:O.a.restoreBackup,cols:30,rows:3,spellCheck:!1,placeholder:"mnemonic backup",onChange:function(e){var t=Object(x.a)(e.target.value.toLowerCase(),"lowcaps spaces single_space_width".split(" ")).trimLeft();f(t.trim()),e.target.value=t}}),r.a.createElement("div",{className:O.a.buttonWrapper},r.a.createElement(E.a,{onClick:function(){l(h.ROOT)},back:"true"},"Back"),r.a.createElement(E.a,{show:p>=12?"true":"false",next:"true",onClick:function(){Object(y.e)(n,o,m),Object(y.d)(n,o,2)}},"Done"))))},S=n(27),A=n.n(S),C=n(201),I=n.n(C),T=function(){var e,t=r.a.useContext(b.a),n=t.state,o=t.dispatch,i=Object(a.useState)(),s=Object(v.a)(i,2),l=s[0],u=s[1];Object(a.useEffect)((function(){I.a.toDataURL(n.wallet.address,{type:"image/jpeg",color:{dark:"#111133ff"}},(function(e,t){e||u(t)}))}),[n.wallet.address]);var d=Object(c.g)();return r.a.createElement("div",{className:A.a.wrapper},r.a.createElement("div",{className:A.a.title},"Fund your ",r.a.createElement("span",{className:A.a.orange},"BTC")," wallet to interact with domains"),r.a.createElement("div",{className:A.a.contentWrapper},r.a.createElement("div",{className:A.a.imgQr},r.a.createElement("img",{src:l,alt:"QR Code"})),r.a.createElement("div",{className:[A.a.address,"selectable"].join(" ")},n.wallet.address)),r.a.createElement("div",{className:A.a.buttonWrapper},r.a.createElement("div",{className:A.a.backAndReady},r.a.createElement(E.a,{className:A.a.button,back:"true",onClick:function(){Object(y.d)(n,o,1)}},"Back"),r.a.createElement(E.a,{className:A.a.button,next:"true",onClick:function(){Object(y.d)(n,o,3)}},"Ready")),r.a.createElement(E.a,{className:A.a.button,show:(!!(null===(e=n.wallet)||void 0===e?void 0:e.address)).toString(),onClick:function(){d.push("/wallet")},colorbutton:"var(--colorHighlightDark)"},"Withdraw"),r.a.createElement(E.a,{className:A.a.button,colorbutton:"var(--colorHighlightDark)",show:("testnet"===n.network).toString(),onClick:function(){window.open("https://bitcoinfaucet.uo1.net/","_blank")}},"Testnet faucet #1"),r.a.createElement(E.a,{className:A.a.button,colorbutton:"var(--colorHighlightDark)",show:("testnet"===n.network).toString(),onClick:function(){window.open("https://testnet-faucet.mempool.co/","_blank")}},"Testnet faucet #2"),r.a.createElement(E.a,{className:A.a.button,colorbutton:"var(--colorHighlightDark)",onClick:function(){var e="testnet"===n.network?"testnet/":"";window.open("https://blockstream.info/".concat(e,"address/").concat(n.wallet.address),"_blank")}},"Open explorer")))},B=n(41),L=n.n(B),P=n(6),W=n(39),F=function(){var e=r.a.useContext(b.a),t=e.state,n=e.dispatch,a=r.a.useState("ok"),o=Object(v.a)(a,2),i=o[0],s=o[1];r.a.useEffect((function(){s("ok")}),[t.lastTimeStamp]);var c=function(){return t.pageInfo.checkedDomain||t.pageInfo.checkedWallet?!t.pageInfo.checkedDomain&&t.pageInfo.checkedWallet?{isReady:!1,info:"Scan domain to move on"}:t.pageInfo.checkedDomain&&!t.pageInfo.checkedWallet?{isReady:!1,info:"Scan wallet to move on"}:t.pageInfo.checkedDomain&&t.pageInfo.checkedWallet?{isReady:!0,info:""}:{isReady:!1,info:"Unknown status"}:{isReady:!1,info:"Scan both to move on"}};return r.a.createElement("div",{className:L.a.wrapper},r.a.createElement("div",{className:L.a.title},"Must scan the domain and owner addresses"),r.a.createElement("div",{className:L.a.domainInfo},"domain"!==i&&"Domain "+(t.pageInfo.checkedDomain?"\u2713":"needs scan"),"domain"===i&&"Domain scanning..."),r.a.createElement("div",{className:L.a.domainButton},r.a.createElement(E.a,{onClick:function(){"ok"===i&&(s("domain"),Object(y.f)(t,n,P.a.UPDATE_DOMAIN))}},"API Scan")),r.a.createElement("div",{className:L.a.walletInfo},"wallet"!==i&&"Wallet "+(t.pageInfo.checkedWallet?"\u2713":"needs scan"),"wallet"===i&&"Wallet scanning..."),r.a.createElement("div",{className:L.a.walletButton},r.a.createElement(E.a,{onClick:function(){"ok"===i&&(s("wallet"),Object(y.f)(t,n,P.a.UPDATE_WALLET))}},"API Scan")),r.a.createElement("div",{className:L.a.unspent},r.a.createElement("div",{className:L.a.balance},t.pageInfo.checkedWallet?(Object(W.c)(t.wallet.utxoList)/1e8).toFixed(8):"n/a"),"testnet"===t.network?" tBTC":" BTC"),r.a.createElement("div",{className:L.a.ownership},c().info),r.a.createElement("div",{className:L.a.buttonWrapper},r.a.createElement(E.a,{back:"true",onClick:function(){Object(y.d)(t,n,2)}},"Back"),r.a.createElement(E.a,{show:c().isReady?"true":"false",next:"true",onClick:function(){Object(y.d)(t,n,4)}},"Ready")))},R=n(29),D=n(1),H=n(13),U=n(26),M=n.n(U),z=n(15),J=n(59),q=n.n(J),V=function(e){var t=r.a.useState(),n=Object(v.a)(t,2),a=n[0],o=n[1];return void 0===a&&e.thisInputOnChange&&e.thisInputOnChange({target:{value:e.thisInitialValue||""}}),r.a.useEffect((function(){o(e.thisInitialValue||"")}),[e.thisInitialValue]),r.a.createElement("div",{className:[q.a.wrapper,e.className].join(" "),style:e.style},r.a.createElement("div",{className:q.a.shiftRight},r.a.createElement("aside",{className:q.a.label},e.thisInputLabel||""),r.a.createElement("textarea",{className:q.a.textarea,spellCheck:!1,value:a,onChange:function(t){var n=Object(x.a)(t.target.value,e.sanitizeFilters||["oneline"]);o(n),t.target.value=n,e.thisInputOnChange&&e.thisInputOnChange(t)}}),r.a.createElement(E.a,{className:[q.a.button,"false"===e.showButton?q.a.invisible:""].join(" "),next:"true",onClick:function(t){e.thisSubmitButtonOnClick&&e.thisSubmitButtonOnClick(a)}},"OK"),!!e.showBonusInformation&&r.a.createElement("div",{className:q.a.bonusInformation},e.children)))},Y=n(74),G=n.n(Y),K=function(e){var t=r.a.useState(),n=Object(v.a)(t,2),a=n[0],o=n[1],i=[{value:!0,display:"yes",do:function(){console.log("default true chosen")}},{value:!1,display:"no",do:function(){console.log("default false chosen")}}],s=e.choices||i;if(void 0===a){var c=e.initialIndex||0;o(c);var l=s[c].value;console.log(c,l,s),s[c].do&&s[c].do(l)}return r.a.createElement("div",{className:[G.a.wrapper,e.className].join(" ")},r.a.createElement("div",{className:G.a.shiftRight},r.a.createElement("div",{className:G.a.label},e.thisInputLabel||""),r.a.createElement("div",{className:G.a.choiceArea},s.map((function(t,n){return r.a.createElement("div",{key:n,className:[G.a.choice,a===n?G.a.selected:""].join(" "),onClick:function(a){o(n),t.do&&t.do(t.value),e.onClick&&e.onClick(a),console.log("",t.display||String(t.value),"chosen")}},t.display||String(t.value))})))))},Q=function(){var e=r.a.useContext(b.a),t=e.state,n=e.dispatch,a=r.a.useState(),o=Object(v.a)(a,2),i=o[0],s=o[1],c=r.a.useState(),l=Object(v.a)(c,2),u=l[0],d=l[1];if(!u){var m=Object(z.d)(t.domain.txHistory,t.domain.domainName,t.chain.height,t.network);d(Object(z.m)(m,t.wallet.address))}var f=function(e){var n=e.info.get,a=t.network,r=n.units,o=n.min,i=typeof n.value;if("number"===i){var s=o?"satoshi"===r?o/1e8:o:0,c="testnet"===a?"tBTC":"BTC",l="satoshi"===r?n.value/1e8:n.value;return{value:n.value,btcMin:""+s,btcMinFull:s.toFixed(8),type:i,units:r,btcUnits:c,btcValue:l,btcValueFull:l.toFixed(8)}}return{type:i,value:n.value}};r.a.useEffect((function(){if(!i){var e={};u&&u.forEach((function(t){e[t.info]={show:!1}})),s(e)}}),[u,i]);return r.a.createElement("div",{className:M.a.wrapper},r.a.createElement("div",{className:M.a.title},"Available ",r.a.createElement("span",{className:M.a.orange},"BNS")," ",r.a.createElement("br",null),"actions"),r.a.createElement("div",{className:M.a.availableActions},!!u&&u.map((function(e){if(e.isUsable){if(e.suggestions.some((function(e){return e.info.warning})))return"";var a=Object(z.h)(e),o=a.length>0||Object(z.i)(e).length>0;return r.a.createElement("div",{key:e.info},r.a.createElement(E.a,{next:o?void 0:"true",onClick:function(){if(o){if(i){var a=i[e.info].show;s(Object(D.a)({},i,Object(R.a)({},e.info,{show:!a})))}}else Object(y.c)(t,n,{action:JSON.parse(JSON.stringify(e))}),Object(y.d)(t,n,5)}},e.info,o?r.a.createElement(r.a.Fragment,null,"\xa0..."):""),i&&i[e.info].show&&r.a.createElement(r.a.Fragment,null,a.map((function(t){if("boolean"===typeof t.info.get.value){var n=function(n){console.log("updated boolean:",n),u.find((function(t){return t.type===e.type})).suggestions.find((function(e){return e.info.describe===t.info.describe})).info.get.value=n,d(Object(H.a)(u))};return r.a.createElement(K,{key:t.info.describe,thisInputLabel:t.info.describe+": \n  "+t.info.get.name,initialIndex:t.info.get.value?1:0,choices:[{value:!1,display:"No",do:n},{value:!0,display:"Yes",do:n}]})}return r.a.createElement(V,{key:t.info.describe,showButton:"false",className:M.a.inputForms,thisInputLabel:t.info.describe+(t.info.get.min?"\n(at least "+f(t).btcMinFull+" "+f(t).btcUnits+" to get a winning "+"valid bid )".replace(/ /g,"\xa0"):""),thisInitialValue:"number"===typeof t.info.get.value?f(t).btcValueFull:t.info.get.value,sanitizeFilters:[typeof t.info.get.value],thisInputOnChange:function(n){var a;"number"===typeof t.info.get.min||"number"===typeof t.info.get.value?(a=Object(x.a)(n.target.value,["no_spaces","fractions","no_leading_zeros","decimal_point"]),a="satoshi"===t.info.get.units?Math.round(1e8*parseFloat(a)):Math.round(parseFloat(a))):a=Object(x.a)(n.target.value,["basic","no_spaces"]),u.find((function(t){return t.type===e.type})).suggestions.find((function(e){return e.info.describe===t.info.describe})).info.get.value=a,d(Object(H.a)(u)),console.log("Updated suggestionToGet.info.get:",t.info.get)}})})),Object(z.i)(e).length>0&&r.a.createElement(j.a,{description:"Details...",show:"false"},r.a.createElement("p",null,Object(z.i)(e).map((function(e,n){var a=e.info.describe||"",o=e.info.set.name||"";return r.a.createElement("span",{key:a},n+1,". ",a,": ","\n",function(e,n){for(var a=e.info.set,o=e.info.set.value,i=[""],s=String(o).split(/ |\n/),c=a.units.split(" "),l=0;l<s.length;l++){var u=s[l],d=c[l%c.length];l%c.length===0&&0!==l&&(i=[].concat(Object(H.a)(i),["\n"])),l%c.length===0&&n.bullets&&(i=[].concat(Object(H.a)(i),[" + "])),isNaN(Number(u))?n.strings&&(i=[].concat(Object(H.a)(i),[" "],Object(H.a)(n.strings(u)),[" "])):(n.btcValueFull&&(i=[].concat(Object(H.a)(i),"satoshi"===d?[(parseInt(u,10)/1e8).toFixed(8)]:[parseFloat(u).toFixed(8)])),n.btcUnits&&(i=[].concat(Object(H.a)(i),["testnet"===t.network?" tBTC":" BTC"])))}return r.a.createElement(r.a.Fragment,null,i)}(e,{btcValueFull:!0,btcUnits:!0,bullets:!0,strings:function(e){return["for ",r.a.createElement("span",{key:a+e,className:M.a.breakable},e)]}})," "+("("+o+")").replace(/ /g,"\xa0"))}))))),i&&i[e.info].show&&r.a.createElement(E.a,{className:M.a.okButton,next:"true",onClick:function(){Object(y.c)(t,n,{action:e}),Object(y.d)(t,n,5)}},"OK"))}return""}))),r.a.createElement("div",{className:M.a.unavailableActions},r.a.createElement(j.a,{description:"Show unavailable actions",className:M.a.unavailableActions__title},r.a.createElement("div",{className:M.a.unavailableActions__actionList},!!u&&u.map((function(e){return e.isUsable?"":r.a.createElement("div",{className:M.a.unavailableActions__actionList__action,key:e.info},r.a.createElement("div",{className:M.a.unavailableActions__actionList__action__title},e.info),r.a.createElement("div",{className:M.a.unavailableActions__actionList__action__permissionList},e.permissionList.map((function(e){return e.isAllowed?"":r.a.createElement("div",{className:M.a.unavailableActions__actionList__action__permissionList__permission,key:e.info.describe},"- ",e.info.describe)}))))}))))),r.a.createElement("div",{className:M.a.buttonWrapper},r.a.createElement(E.a,{back:"true",onClick:function(){Object(y.d)(t,n,3)}},"Back")))},Z=n(196),X=n(4),$=n.n(X),ee=n(38),te=n.n(ee),ne=n(30),ae=n(60),re=n.n(ae),oe=function(){var e=r.a.useContext(b.a),t=e.state,n=e.dispatch,a=r.a.useState(t.choices.feeRate),o=Object(v.a)(a,2),i=o[0],s=o[1],c=r.a.useState({showSuggestions:!1,apiSuccess:!1,min20:1,min40:1,min60:1}),l=Object(v.a)(c,2),u=l[0],d=l[1];return r.a.createElement("div",{className:re.a.fees},r.a.createElement("div",{className:re.a.fees__rate},r.a.createElement("aside",null,"Fee rate (sat / vByte):"),r.a.createElement("textarea",{spellCheck:!1,value:i,placeholder:"e.g. 1.2",onChange:function(e){var a=Object(x.a)(e.target.value,["numbers","decimal_point","no_leading_zeros"]);s(a);var r=parseFloat(a);Object(y.c)(t,n,{feeRate:r})}})),r.a.createElement("div",{className:re.a.fees__apicall},r.a.createElement(E.a,{onClick:function(){!function(){var e;$.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(u.apiSuccess){a.next=12;break}return a.prev=1,a.next=4,$.a.awrap(Object(y.a)(t,n,(function(){return Object(ne.c)(t.network,t.api.path)})));case 4:e=a.sent,d({min20:e[2],min40:e[4],min60:e[6],apiSuccess:!0,showSuggestions:!0}),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(1);case 10:a.next=13;break;case 12:d(Object(D.a)({},u,{showSuggestions:!u.showSuggestions}));case 13:case"end":return a.stop()}}),null,null,[[1,8]])}()}},"Check online"),u.showSuggestions&&r.a.createElement("div",{className:re.a.fees__feeSelection},r.a.createElement("div",{className:re.a.fees__feeSelection__choice,onClick:function(){s(u.min20),Object(y.c)(t,n,{feeRate:u.min20}),d(Object(D.a)({},u,{showSuggestions:!1}))}},"< ","20 min ( ",u.min20.toFixed(1)," sat / vByte )"),r.a.createElement("div",{className:re.a.fees__feeSelection__choice,onClick:function(){s(u.min40),Object(y.c)(t,n,{feeRate:u.min40}),d(Object(D.a)({},u,{showSuggestions:!1}))}},"< ","40 min ( ",u.min40.toFixed(1)," sat / vByte )"),r.a.createElement("div",{className:re.a.fees__feeSelection__choice,onClick:function(){s(u.min60),Object(y.c)(t,n,{feeRate:u.min60}),d(Object(D.a)({},u,{showSuggestions:!1}))}},"< ","60 min ( ",u.min60.toFixed(1)," sat / vByte )"))))},ie=function(){var e,t,n=r.a.useContext(b.a),a=n.state,o=n.dispatch,i="";try{t=Object(z.f)(a.wallet,a.domain,a.choices,a.network)}catch(h){(i=String(h.message)).endsWith("has no matching Script")&&(i+=" \n(address provided seems invalid)"),console.log("error details if necessary:",h)}var s=a.choices.embedString.split(" ").reduce((function(e,t,n){return n%2===1?e+1:e}),0),c=r.a.useState({ok:!1,txid:"123",reason:""}),l=Object(v.a)(c,2),u=l[0],d=l[1],m="testnet"===a.network?" tBTC ":" BTC ",f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:te.a.balance},(e/1e8).toFixed(8)),m)},p=t?Math.max(t.gatheredFromWallet-t.change,0):void 0;return r.a.createElement("div",{className:te.a.wrapper},r.a.createElement("div",{className:te.a.title},"Finalize transaction details"),r.a.createElement("div",{className:te.a.fees},r.a.createElement(oe,null)),r.a.createElement("div",{className:te.a.totalCost},t?r.a.createElement(r.a.Fragment,null,"Your final cost: ",f(p)):" "),r.a.createElement("div",{className:te.a.txSummary},!!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Action:"),r.a.createElement("td",null,a.choices.action.info)),r.a.createElement("tr",null,r.a.createElement("td",null,"Updates:"),r.a.createElement("td",null,s)),r.a.createElement("tr",null,r.a.createElement("td",null,"Wallet:"),r.a.createElement("td",null,r.a.createElement("p",null,f(Object(W.c)(a.wallet.utxoList))," total across ",a.wallet.utxoList.length," utxo"))),r.a.createElement("tr",null,r.a.createElement("td",null,"Inputs:"),r.a.createElement("td",null,r.a.createElement("p",null,f(t.gatheredFromWallet)," from"," ",t.nInputsFromWallet," wallet utxo"),r.a.createElement("p",null,f(t.gatheredFromOther)," from"," ",t.nInputsFromOther," notification utxo"),r.a.createElement("p",null,f(t.totalGathered)," total (",t.nInputsFromWallet+t.nInputsFromOther," inputs)"))),r.a.createElement("tr",null,r.a.createElement("td",null,"Outputs:"),r.a.createElement("td",null,r.a.createElement("p",null,"Burning ",f(t.burnAmount)," at #0"),r.a.createElement("p",null,"Sending ",f(t.notifyAmount)," at #1 (notification)"),r.a.createElement("p",null,"Change of ",f(t.change)," sent back at #2"),r.a.createElement("p",null,"Refunds of ",f(t.refundsAmount)," total"),r.a.createElement("p",null,f(t.totalGathered-t.fee)," total (",t.nOutputs," outputs)"))),r.a.createElement("tr",null,r.a.createElement("td",null,"Miner fee:"),r.a.createElement("td",null,r.a.createElement("p",null,f(t.fee)," (",(t.fee/t.valueNeeded*100).toFixed(1),"%)"))),r.a.createElement("tr",null,r.a.createElement("td",null,"Size:"),r.a.createElement("td",null,t.thisVirtualSize," vBytes")),r.a.createElement("tr",null,r.a.createElement("td",null,"Cost:"),r.a.createElement("td",null,r.a.createElement("p",null,"+ Transaction requires ",f(t.valueNeeded)),r.a.createElement("p",null,"- Using ",f(t.gatheredFromOther)," from anyone-can-spend utxo"))),r.a.createElement("tr",null,r.a.createElement("td",null,"Net user cost:"),r.a.createElement("td",null,f(t.gatheredFromWallet-t.change))))))),!t&&r.a.createElement("div",{className:te.a.txSummary},"calculation failed ",r.a.createElement("br",null),i)),r.a.createElement("div",{className:te.a.status},u.ok?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[te.a.status__button,"canPress"].join(" "),onClick:function(){var e="https://blockstream.info/"+"".concat("testnet"===a.network?"testnet/":"","tx/")+"".concat(u.txid);window.open(e,"_blank")}},"Success! Open in explorer")):u.reason.length>0?r.a.createElement("div",{className:te.a.status__failed},u.reason):""),r.a.createElement("div",{className:te.a.buttonWrapper},r.a.createElement(E.a,{back:"true",onClick:function(){Object(y.d)(a,o,5)}},"Back"),r.a.createElement(E.a,{show:""!==(null===(e=t)||void 0===e?void 0:e.hex)?"true":"false",onClick:function(){var e;return $.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t||!t.hex){n.next=13;break}return n.prev=1,n.next=4,$.a.awrap(Object(y.a)(a,o,(function(){return Object(ne.f)(t.hex,a.network,a.api.path)})));case 4:e=n.sent,d({ok:!0,txid:e.txid,reason:""}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),d({ok:!1,txid:"",reason:n.t0.message});case 11:n.next=14;break;case 13:d({ok:!1,txid:"",reason:""});case 14:case"end":return n.stop()}}),null,null,[[1,8]])}},"Broadcast")))},se=n(99),ce=n.n(se),le=function(){var e,t=null===(e=r.a.useContext(b.a).state.pageInfo)||void 0===e?void 0:e.current;return!t&&console.log("Unknown Page"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[ce.a.wrapper].join(" ")},r.a.createElement(w,null),r.a.createElement("div",{className:[ce.a.scroller,"scrollbar"].join(" ")},r.a.createElement("div",{className:[ce.a.horizontalScaler].join(" ")},1===t&&r.a.createElement(N,null),2===t&&r.a.createElement(T,null),3===t&&r.a.createElement(F,null),4===t&&r.a.createElement(Q,null),5===t&&r.a.createElement(Z.a,null),6===t&&r.a.createElement(ie,null)))))};function ue(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,null))}var de=n(22),me=n.n(de);function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=e-t,a=n<=0;n=Math.abs(n);var r=Math.floor(n/864e5);n-=864e5*r;var o=Math.floor(n/36e5)%24;n-=36e5*o;var i=Math.floor(n/6e4)%60;return{dhm:"".concat(r," days ").concat(o," hours ").concat(i," min"),dh:"".concat(r," days ").concat(o," hours"),isExpired:a,msDiff:n,timestampMsec:e,referenceTimestampMsec:t}}var pe=function(){var e=r.a.useContext(b.a).state,t={isExpired:!0,dh:"",msDiff:0},n=Object(b.e)(e);n&&(t=fe(10*(n.winHeight+z.c-e.chain.height)*60*1e3,0));var a,o="testnet"===e.network?" tBTC ":" BTC ",i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:me.a.balance},(e/1e8).toFixed(8)),o)},c=r.a.createElement("span",{className:[me.a.breakable,me.a.linkable].join(" "),key:"notify1",onClick:function(){var t="testnet"===e.network?"testnet/":"";window.open("https://blockstream.info/".concat(t,"address/").concat(e.domain.notificationAddress),"_blank")}},e.domain.notificationAddress),l=0,u=n?[[["Owner"],[[(a=n.address,r.a.createElement("span",{className:[me.a.breakable,me.a.linkable].join(" "),key:a+l++,onClick:function(){var t="testnet"===e.network?"testnet/":"";window.open("https://blockstream.info/".concat(t,"address/").concat(a),"_blank")}},a))]]],[["Notifications"],[[c]]],[["Ownership extended"],[[n.winHeight+" block height"],[new Date(1e3*n.winTimestamp).toUTCString()],[fe(1e3*n.winTimestamp).dh+" ago"],[r.a.createElement(r.a.Fragment,{key:"ownership1"},i(n.burnAmount)," winning bid")]]],[["Ownership expires"],[[n.winHeight+z.c+" block height"],["\u2248 "+new Date(1e3*(10*z.c*60+n.winTimestamp)).toUTCString()],["in \u2248 "+t.dh]]]]:[],d=Object(b.d)(e),m=d.isBurn,f=d.bidding,p=m?[[["Owner"],[["Owner will be determined when bidding period ends"]]],[["Notifications"],[[c]]],[["Bidding start"],[[f.startHeight+" block height"],[new Date(1e3*f.bids[0].timestamp).toUTCString()],[fe(1e3*f.bids[0].timestamp).dh+" ago"]]],[["Bidding ends"],[[f.endHeight+" block height"],["\u2248 "+new Date(1e3*f.bids[0].timestamp+10*z.b*60*1e3).toUTCString()],["in \u2248 "+fe(1e3*f.bids[0].timestamp+10*z.b*60*1e3).dh]]],[["Bidders"],Object(H.a)(f.bids.map((function(e,t){return[r.a.createElement(r.a.Fragment,{key:"bidding"+t},i(e.value)," burned by"," ",r.a.createElement("span",{className:me.a.breakable},e.address))]})))]]:[],h=[[["Owner"],[["No owner. No bids."]]],[["Notifications"],[[c]]]],v=function(e,t){return 0===e.length?"":r.a.createElement("div",{className:me.a.ownershipDetails},r.a.createElement(j.a,{description:t},r.a.createElement("table",null,r.a.createElement("tbody",null,e.map((function(e,t){return r.a.createElement("tr",{key:e[0][0]},r.a.createElement("td",null,e[0][0]),r.a.createElement("td",null,e[1].map((function(e,n){return r.a.createElement("p",{key:[t,n].join(" ")},e)}))))}))))))},g=n?Object(z.g)(n.forwards):[];return r.a.createElement("div",{className:me.a.wrapper},r.a.createElement("div",{className:me.a.matches},r.a.createElement("div",null,e.domain.txHistory.length," transaction",1===e.domain.txHistory.length?"":"s"," found on"," ",e.network),r.a.createElement("div",null,g.length," current forward",1===g.length?"":"s")),r.a.createElement("div",{className:[me.a.scrollbars,"scrollbar"].join(" ")},r.a.createElement("div",{className:me.a.listContainer},r.a.createElement("div",{className:me.a.describe},!!m&&v(p,"Bidding period domain details"),!m&&!n&&v(h,"Unowned domain details"),!!n&&v(u,"Owned domain details")),g.map((function(e){var t=Object(z.l)(e);return t.render?r.a.createElement("a",{key:e.network,className:me.a.listItem,href:(null===t||void 0===t?void 0:t.link)||void 0,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:me.a.key},t.where),t.what):""})),!!n&&r.a.createElement("a",{className:me.a.listItem,href:Object(z.l)({network:"btc",address:e.domain.currentOwner,updateHeight:0,updateTimestamp:0},e.network).link||void 0,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:me.a.key},"control address: "),e.domain.currentOwner),r.a.createElement("div",{className:me.a.avaiability},!n&&r.a.createElement(s.b,{to:"/create",className:me.a.createLink},m?"Join bidding":"Domain available!")))))},he=n(51),be=n.n(he),ve=function(e){var t,n,o=r.a.useContext(b.a),i=o.state,s=o.dispatch,l=Object(c.g)(),u=null===e||void 0===e?void 0:null===(t=e.match)||void 0===t?void 0:null===(n=t.params)||void 0===n?void 0:n.alias,d=window.location.hash;u&&"#/"!==d&&(console.log("alias id detected in url:",u,d),Object(y.g)(Object(D.a)({},i,{alias:u}),s,l));var m=function(){return i.pageInfo.checkedLightSearch},f=Object(a.useRef)(null);return Object(a.useEffect)((function(){f&&f.current&&(f.current.selectionEnd=f.current.value.length,f.current.selectionStart=f.current.value.length,f.current.focus())}),[]),r.a.createElement("div",{className:be.a.wrapper},u&&"#/"!==d&&r.a.createElement(c.a,{to:"/"}),r.a.createElement("div",{className:m()?[be.a.lblMainTitle,be.a.lblMainTitleAfter].join(" "):[be.a.lblMainTitle].join(" ")},r.a.createElement("span",null,"Bitcoin")," Name System"),r.a.createElement("div",{className:m()?[be.a.divSearch,be.a.divSearchAfter].join(" "):be.a.divSearch},r.a.createElement("textarea",{id:"txtSearch",className:be.a.txtSearch,cols:30,rows:1,spellCheck:!1,value:i.alias,placeholder:"e.g. satoshi",ref:f,onChange:function(e){var t;return Object(y.b)(i,s,null===e||void 0===e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},onKeyPress:function(e){"Enter"===e.key&&Object(y.g)(i,s)}}),r.a.createElement(E.a,{sizebutton:"2.6",onClick:function(){Object(y.g)(i,s)}},".btc")),!!m()&&r.a.createElement(pe,null))},ge=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,e))},_e=n(100),we=n.n(_e),Ee=function(){var e=r.a.useContext(b.a),t=e.state,n=e.dispatch;return r.a.createElement("div",{className:[we.a.wrapper,"scrollbar"].join(" ")},r.a.createElement("div",{className:we.a.contentWrapper},r.a.createElement("div",{className:we.a.title},"Settings"),r.a.createElement("div",null,"(todo)"),"subject to changes until launch high chance of bugs and losses, especially until reviewed",r.a.createElement("div",null,"Network:",r.a.createElement(K,{choices:[{value:"testnet",do:function(){n({type:P.a.LOAD_STATE,payload:Object(D.a)({},t,{network:"testnet"})})}},{value:"mainnet",do:function(){n({type:P.a.LOAD_STATE,payload:Object(D.a)({},t,{network:"bitcoin"})})}}]})),r.a.createElement(V,{style:{width:"80%"},thisInputLabel:"Path for full node with esplora API",thisInitialValue:t.api.path[t.network],showBonusInformation:"true",sanitizeFilters:["url"],thisSubmitButtonOnClick:function(e){t.api.path[t.network]=e,console.log("click set value to ",e),n({type:P.a.LOAD_STATE,payload:Object(D.a)({},t)})}},t.network," : ",t.api.path[t.network]),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,"Automatically save data to browser (local storage) ? (todo)",r.a.createElement("br",null),r.a.createElement(K,{choices:[{value:"not allow"},{value:"allow"}]})),r.a.createElement("div",null,"(if yes) Provide a password to encrypt local storage ",r.a.createElement("br",null),"with to hide it from other applications (todo)",r.a.createElement("br",null)," [todo textbox form]")))},ke=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,null))},Oe=n(75),ye=n.n(Oe),xe=function(){var e=r.a.useContext(b.a),t=e.state,n=e.dispatch,a=r.a.useState("ok"),o=Object(v.a)(a,2),i=o[0],s=o[1];return r.a.createElement("div",{className:ye.a.wrapper},"(NOT DONE)",r.a.createElement("div",{className:ye.a.title},"Withdraw from wallet"),r.a.createElement("div",{className:ye.a.request},!t.pageInfo.checkedWallet&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{onClick:function(){"ok"===i&&(s("wallet"),Object(y.f)(t,n,P.a.UPDATE_WALLET))}},"Scan wallet"))),t.pageInfo.checkedWallet&&r.a.createElement("div",{className:ye.a.fees},r.a.createElement(oe,null)),t.pageInfo.checkedWallet&&r.a.createElement("div",{className:ye.a.total},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:ye.a.balance},Object(b.g)(e))," "+Object(b.i)(t)+" ")}(Object(W.c)(t.wallet.utxoList))),r.a.createElement("div",null,"to address"),r.a.createElement("div",null,"to amount"),r.a.createElement("div",null,"returned amount"),r.a.createElement("div",null,"broadcast button"))},je=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,e))},Ne=n(17),Se=n.n(Ne),Ae=n(137),Ce=n.n(Ae),Ie=n(202),Te=n(61),Be=n.n(Te),Le=function(e){return r.a.createElement("div",{className:[Be.a.outershell2,e.className].join(" "),style:{"--btcLogoInputSize":e.size?e.size.toString():"calc(10 * (0.5vw + 0.5vh))"}},r.a.createElement("div",{className:[Be.a.btcLogo,Be.a.cutoffs].join(" ")},r.a.createElement("div",{className:[Be.a.btcLogo,Be.a.background].join(" ")}),r.a.createElement("div",{className:[Be.a.btcLogo,Be.a.theB].join(" ")},"B")))},Pe=function(e){var t=r.a.useState(null),n=Object(v.a)(t,2),a=n[0],o=n[1];null===a&&o(Object(D.a)({},qe,{},e.txBuilder?e.txBuilder:{}));var i=r.a.useState({text:""}),s=Object(v.a)(i,2),c=(s[0],s[1]),l=r.a.useState({}),u=Object(v.a)(l,2),d=u[0],m=u[1];return r.a.useEffect((function(){return We(d,m)}),[d]),r.a.useEffect((function(){return De(d,m,a,o)}),[d,a]),r.a.useEffect((function(){return He({txBuilder:a,setTxBuilder:o,setInfo:c})}),[a]),r.a.createElement("div",{className:[Ce.a.wrapper,e.className||""].join(" "),onClick:function(){console.log({params:d,txBuilder:a})}},Je&&r.a.createElement("div",null,r.a.createElement(Le,{className:Ce.a.logo,size:"var(--wallet__logo_size)"})))},We=function(e,t){return Fe(e,t),function(){Re(e,t),ze()}},Fe=function(e,t){window.addEventListener("storage",Ue(e,t)),window.addEventListener("hashchange",Me(e,t))},Re=function(e,t){window.removeEventListener("storage",Ue(e,t)),window.removeEventListener("hashchange",Me(e,t))},De=function(e,t,n,a){Object.keys(e).length>0&&(a(Object(D.a)({},n,{params:e})),t({}))},He=function(e){var t=e.txBuilder,n=e.setInfo;try{var a=Object(Ie.a)(t);console.log("successful psbt:",a)}catch(r){console.log("can not do psbt yet:",r.message),n({text:r.message})}},Ue=function(e,t){return function(){Re(e,t);var n={};if(Object.keys(JSON.parse(JSON.stringify(window.sessionStorage))).forEach((function(e){if("fromWallet"!==e){var t=JSON.parse(window.sessionStorage[e]);n[e]=t,sessionStorage.removeItem(e)}})),Object.keys(n).length>0){var a=Object(D.a)({},e,{},n);console.log("new params added:",a),t(a)}Fe(e,t)}},Me=function(e,t){return function(){var n=window.location.hash.split("#").slice(1).join("").split("?").slice(1).join("").split("&").reduce((function(t,n){var a=n.split("="),r=a[0],o=decodeURIComponent(a[1]);return""===r?t:r in e&&e[r]===o?t:(console.log(r),Object(D.a)({},t,Object(R.a)({},r,o)))}),{});if(Object.keys(n).length>0){var a=Object(D.a)({},e,{},n);console.log("new params added:",a),t(a)}ze()}},ze=function(){window.history.pushState({},"","".concat(window.location.href.split("?")[0]))},Je=!1,qe={network:null,setVersion:2,setLocktime:0,feeRate:1,minFeeRate:1,maxFeeRate:1e3,minOutputValue:500,result:{tx:null,hex:null,virtualSize:0},inputs:{},fillInputs:null,outputs:{},changeAddress:null},Ve=n(101),Ye=n.n(Ve),Ge=n(102),Ke=n.n(Ge),Qe=function(e){return r.a.createElement("div",{className:[Ke.a.spinner,e.className].join(" "),style:{"--widthSpinner":e.width?e.width:"20vw"}},r.a.createElement("div",{className:Ke.a.block}),r.a.createElement("div",{className:Ke.a.chain}))};console.log("VisualApi component imported");var Ze={props:{},loops:{}},Xe=function(e){return void 0!==e.processId&&(Ze.props.processId=e.processId),Ze.props.setProcessId=e.setProcessId,Ze.props.tasks=e.tasks,Ze.props.setTasks=e.setTasks,Ze.props.setBusy=e.setBusy,Ze.props.busy=e.busy,r.a.useEffect((function(){var t=Ze.props.processId;if(void 0!==Ze.props.processId&&void 0!==Ze.props.setProcessId&&void 0!==Ze.props.tasks&&void 0!==Ze.props.setTasks&&void 0!==Ze.props.setBusy&&void 0!==Ze.props.busy&&null===t){var n=e.delayStandby,a=e.delayBusy;!function(){var t,r,o;$.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,$.a.awrap($e({delayBusy:a,delayStandby:n}));case 2:(t=i.sent)&&(r=t(),o=r.id,(0,r.launch)(),e.setProcessId(o));case 4:case"end":return i.stop()}}))}()}}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:e.onClick,className:[Ye.a.wrapper,e.className||""].join(" ")},r.a.createElement("div",{className:Ye.a.text,onClick:function(){console.log(Object.keys(Ze.loops).map((function(e){return Object(D.a)({},Ze.loops[e],{timedOut:Date.now()-Ze.loops[e].time>2e3})})))}},e.message)),e.tasks.length>0&&r.a.createElement(Qe,{className:Ye.a.spinner,width:"calc(15 * var(--s))"}))},$e=function e(t){var n,a,r,o,i,s,c,l,u,d,m,f,p,h,b;return $.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:if(n=t.delayStandby,a=void 0===n?1e3:n,r=t.delayBusy,o=void 0===r?5e3:r,i=t.id,s=void 0===i?null:i){v.next=4;break}return c=Date.now(),v.abrupt("return",(function(){return{id:c,launch:function(){return e({delayStandby:a,delayBusy:o,id:c})}}}));case 4:if(l=Ze.props.tasks,u=Ze.props.setTasks,d=Ze.props.processId,!et(s)){v.next=9;break}return v.abrupt("return",void 0);case 9:if(m=Date.now(),f={id:s,time:m,terminate:!1},Ze.loops[s.toString()]=f,tt({time:m,processId:d,id:s}),!(p=l&&d&&s===d&&!Ze.props.busy)){v.next=33;break}if(!(h=l[0])){v.next=33;break}return v.prev=17,Ze.props.setBusy(!0),console.log("apiloop #".concat(s," executing api call"),JSON.stringify(Ze,null,2)),v.next=22,$.a.awrap(h.run({delay:function(){return nt({ms:o})}}));case 22:b=v.sent,h.resolve(b),v.next=30;break;case 26:v.prev=26,v.t0=v.catch(17),console.warn(v.t0),h.reject(v.t0);case 30:u(l.slice(1)),nt({ms:o}),Ze.props.setBusy(!1);case 33:if(p&&0!==l.length){v.next=36;break}return v.next=36,$.a.awrap(nt({ms:a}));case 36:if(!et(s)){v.next=38;break}return v.abrupt("return",void 0);case 38:e({delayStandby:a,delayBusy:o,id:s});case 39:case"end":return v.stop()}}),null,null,[[17,26]])},et=function(e){var t;return!(null===(t=Ze.loops[e.toString()])||void 0===t||!t.terminate)&&(console.log("apiloop #".concat(e," following termination request"),JSON.stringify(Ze,null,2)),!0)},tt=function(e){var t=e.time,n=e.processId,a=e.id,r=!1,o=!0;Object.keys(Ze.loops).forEach((function(e){var i=Ze.loops[e];t-i.time<2e3&&n&&i.id!==n&&(r=!0),i.id<a&&(i.terminate=!0,o=!1)})),n&&a!==n&&!r&&o&&(console.log("".concat(a," is new api loop replacing ").concat(n),JSON.stringify(Ze.loops,null,2),Ze),Ze.loops[a.toString()].terminate=!1,Ze.props.setProcessId(a))},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ms:500},t=e.callsPerSec,n=void 0===t?void 0:t,a=e.ms,r=void 0===a?void 0:a;return new Promise((function(e){return setTimeout(e,r||1e3/n)}))},at=function(){var e=r.a.useContext(b.a),t=e.state,n=e.dispatch,a=Object(c.g)(),o=r.a.useRef(null),i=r.a.useRef(null),s=r.a.useRef(null),l=r.a.useState({buttonWidth:o.current?o.current.offsetWidth:void 0,showCollapsed:!1,resizeTimer:0}),u=Object(v.a)(l,2),d=u[0],m=u[1];d.buttonWidth||window.setTimeout((function(){window.dispatchEvent(new Event("resize"))}),200);var f="/create"===Object(c.g)().location.pathname,p="/"===Object(c.g)().location.pathname,h="/about"===Object(c.g)().location.pathname,g="/settings"===Object(c.g)().location.pathname,_="/wallet"===Object(c.g)().location.pathname;r.a.useEffect((function(){window.setTimeout((function(){if(i.current&&s.current){var e=s.current.getBoundingClientRect(),t=i.current.getBoundingClientRect(),n=Math.round(t.left+.5*t.width-.5*e.width),a=Math.round(t.top-e.height-.4*t.height);s.current.style.top=a+"px",s.current.style.left=n+"px",s.current.style.opacity="var(--finalOpacity)"}}),100);var e=function(){if(o.current){document.body.classList.add("resize-animation-stopper"),clearTimeout(d.resizeTimer);var e=setTimeout((function(){document.body.classList.remove("resize-animation-stopper")}),400);m(Object(D.a)({},d,{resizeTimer:e,showCollapsed:!1,buttonWidth:o.current.getBoundingClientRect().width}))}};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[d]),r.a.useEffect((function(){var e=function(){d.showCollapsed&&m(Object(D.a)({},d,{showCollapsed:!1}))};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[d]);var w=[[r.a.createElement("div",{key:"search",ref:o,className:[Se.a.button,p?Se.a.selected:""].join(" "),onClick:function(){!p&&a.push("/")}},"search")],[r.a.createElement("div",{key:"create",className:[Se.a.button,f?Se.a.selected:""].join(" "),onClick:function(){!f&&a.push("/create")}},"users")],[r.a.createElement("div",{key:"git",className:[Se.a.button].join(" "),onClick:function(){window.open("https://github.com/ildarmgt/BitcoinNameSystem","_blank")}},"<","source",">")],[r.a.createElement("div",{key:"about",className:[Se.a.button,h?Se.a.selected:""].join(" "),onClick:function(){!h&&a.push("/about")}},"about")],[r.a.createElement("div",{key:"settings",className:[Se.a.button,g?Se.a.selected:""].join(" "),onClick:function(){!g&&a.push("/settings")}},"settings")],[r.a.createElement("div",{key:"wallet",className:[Se.a.button,_?Se.a.selected:""].join(" "),onClick:function(){!_&&a.push("/wallet")}},"wallet")]],E=window.innerWidth,k=.25*(.005*(window.innerWidth+window.innerHeight)),O=d.buttonWidth?Math.min(Math.max(Math.floor(.5*E/(1.5*d.buttonWidth+2*k)),1),4):1,y=w.filter((function(e,t){return t<=O-1})),x=w.filter((function(e,t){return t>O-1}))||[];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Se.a.warning},r.a.createElement("input",{type:"checkbox",id:"closewarning"}),r.a.createElement("label",{htmlFor:"closewarning"},"\u2715"),r.a.createElement("div",null,!1,"not reviewed for use")),r.a.createElement("div",{className:Se.a.leftCorner},r.a.createElement("div",{className:Se.a.wallet},r.a.createElement(Pe,{txBuilder:{network:t.network}})),f&&r.a.createElement("div",{className:Se.a.pageNum},"Page ",t.pageInfo.current,"/6"),r.a.createElement("div",{className:Se.a.api},r.a.createElement(Xe,{processId:t.api.processId,setProcessId:function(e){e&&Object(b.h)(t,n,{processId:e})},tasks:t.api.tasks,setTasks:function(e){return Object(b.h)(t,n,{tasks:e})},busy:t.api.running,setBusy:function(e){Object(b.h)(t,n,{running:e}),console.log("setbusy:",e)},delayBusy:1e3/t.api.rateLimit,delayStandby:100,message:t.network}))),r.a.createElement("div",{className:Se.a.nav},!!x.length&&r.a.createElement("div",{className:[Se.a.collapsitron,d.showCollapsed?Se.a.menuShown:""].join(" "),ref:i,onClick:function(){m(Object(D.a)({},d,{showCollapsed:!d.showCollapsed}))}},"\xa0\xa0\xa0\xa0\xa0",r.a.createElement("div",{className:Se.a.dots},r.a.createElement("div",null))),y.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"nevbarbuttons"+t},e[0])})).reverse()),d.showCollapsed&&r.a.createElement("div",{className:Se.a.overflowMenu,ref:s},r.a.createElement("div",null,x.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"overflowbuttons"+t},e[0])})).reverse())))},rt=(n(403),function(){var e=new URLSearchParams(window.location.search).keys().next().value;return e&&console.log("search param detected after ?",e),e&&window.history.pushState({},"",window.location.pathname+"#/id/"+e),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"content"},r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/id/:alias",component:ge}),r.a.createElement(c.b,{exact:!0,path:"/id/",component:ge}),r.a.createElement(c.b,{path:"/about",component:p}),r.a.createElement(c.b,{path:"/create",component:ue}),r.a.createElement(c.b,{path:"/wallet",component:je}),r.a.createElement(c.b,{path:"/settings",component:ke}),r.a.createElement(c.b,{path:"/:noise",component:ge}),r.a.createElement(c.b,{exact:!0,path:"/",component:ge}))),r.a.createElement(at,null))}),ot=n(62),it=n.n(ot);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b.b,null,r.a.createElement(s.a,null,r.a.createElement(rt,null)),r.a.createElement((function(e){var t=r.a.useContext(b.a),n=t.state,o=t.dispatch,i=Object(a.useState)(!1),s=Object(v.a)(i,2),c=s[0],l=s[1];Object(a.useEffect)((function(){var e=function(e){var t;if("`"===e.key)l(!c);else if("txtSearch"!==(null===(t=document.activeElement)||void 0===t?void 0:t.id)){var n=document.getElementById("txtSearch");null===n||void 0===n||n.focus()}};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[c]);return r.a.createElement("div",Object.assign({className:[it.a.divDev,c?"":it.a.hidden].join(" ")},e),r.a.createElement("div",null,r.a.createElement("b",null,"DevPanel")),r.a.createElement("div",{className:[it.a.btnOutline,it.a.button].join(" "),onClick:function(){var e="outliner",t=document.getElementById(e);if(t){var n;null===(n=t.parentNode)||void 0===n||n.removeChild(t)}else{var a=document.createElement("style");a.type="text/css",a.id=e,a.appendChild(document.createTextNode("* {box-shadow: 0 0 0 1px red;}")),document.head.appendChild(a)}}},"Outline"),r.a.createElement("div",{className:[it.a.button].join(" "),onClick:function(){localStorage.setItem("state",JSON.stringify(n))}},"Save localStorage"),r.a.createElement("div",{className:[it.a.button].join(" "),onClick:function(){var e=JSON.parse(localStorage.getItem("state")||"");e&&o({type:P.a.LOAD_STATE,payload:Object(D.a)({},e,{api:Object(D.a)({},e.api,{processId:null})})})}},"Load localStorage"),r.a.createElement("div",{className:it.a.button,onClick:function(){console.log(n)}},"Console State"))}),null))),document.getElementById("root"))},41:function(e,t,n){e.exports={wrapper:"P3DomainAndWallet_wrapper__1ElFg",contentWrapper:"P3DomainAndWallet_contentWrapper__vm5qp",title:"P3DomainAndWallet_title__3ing2",domainInfo:"P3DomainAndWallet_domainInfo__3p2aJ",domainButton:"P3DomainAndWallet_domainButton__2PIDz",walletInfo:"P3DomainAndWallet_walletInfo__2cQY0",walletButton:"P3DomainAndWallet_walletButton__MmLZ3",unspent:"P3DomainAndWallet_unspent__bUWZW",buttonWrapper:"P3DomainAndWallet_buttonWrapper__djJkL",ownership:"P3DomainAndWallet_ownership__lSY6a",balance:"P3DomainAndWallet_balance__2fns7"}},5:function(e,t,n){"use strict";var a=n(11),r=n(0),o=n.n(r),i=n(1),s=n(6),c=s.a.STORE_SEARCH_RESULTS_FAIL,l=s.a.STORE_SEARCH_RESULTS,u=s.a.TYPING,d=s.a.NEW_WALLET,m=s.a.CHANGE_PAGE_INFO,f=s.a.UPDATE_WALLET,p=s.a.UPDATE_DOMAIN,h=s.a.ACTION_FAIL,b=s.a.LOAD_STATE,v=s.a.CHOICES_BNS_ACTION,g=s.a.SET_API;function _(e,t){var n=t.payload;switch(t.type){case g:return Object(i.a)({},e,{api:Object(i.a)({},e.api,{},n)});case v:return Object(i.a)({},e,{choices:Object(i.a)({},e.choices,{},n),lastTimeStamp:Date.now()});case f:return Object(i.a)({},e,{wallet:Object(i.a)({},e.wallet,{txHistory:n.wallet.txHistory,utxoList:n.wallet.utxoList}),pageInfo:Object(i.a)({},e.pageInfo,{checkedWallet:!0}),lastTimeStamp:Date.now()});case p:return Object(i.a)({},e,{domain:Object(i.a)({},n.domain),chain:{height:n.chain.height},pageInfo:Object(i.a)({},e.pageInfo,{checkedDomain:!0}),lastTimeStamp:Date.now()});case m:return Object(i.a)({},e,{pageInfo:Object(i.a)({},e.pageInfo,{current:n})});case d:return Object(i.a)({},e,{wallet:Object(i.a)({},w.wallet,{address:n.address,mnemonic:n.mnemonic,WIF:n.WIF}),pageInfo:Object(i.a)({},e.pageInfo,{checkedWallet:!1}),lastTimeStamp:Date.now()});case l:return Object(i.a)({},e,{alias:n.alias,domain:Object(i.a)({},w.domain,{},n.domain),chain:{height:n.chain.height},pageInfo:Object(i.a)({},e.pageInfo,{checkedDomain:!1,checkedLightSearch:!0}),lastTimeStamp:Date.now()});case c:return Object(i.a)({},e,{alias:n.alias,domain:Object(i.a)({},w.domain,{domainName:n.domainName,notificationAddress:n.notificationAddress}),pageInfo:Object(i.a)({},e.pageInfo,{checkedDomain:!1,checkedLightSearch:!1}),lastTimeStamp:Date.now()});case u:return Object(i.a)({},e,{alias:n,domain:w.domain,pageInfo:Object(i.a)({},e.pageInfo,{current:1,checkedDomain:!1,checkedLightSearch:!1}),lastTimeStamp:Date.now()});case h:return Object(i.a)({},e,{lastTimeStamp:Date.now()});case b:return Object(i.a)({},n,{lastTimeStamp:Date.now()});default:return console.warn("Unknown action type"),e}}var w={network:"testnet",alias:"satoshi",extension:".btc",domain:n(56).a.domain,wallet:{address:"",mnemonic:"",WIF:"",txHistory:[],utxoList:[]},chain:{height:0},pageInfo:{current:1,checkedDomain:!1,checkedWallet:!1,checkedLightSearch:!1},choices:{action:{},feeRate:1.1,txHex:"",embedString:"",embedBuffers:[]},api:{path:{bitcoin:"https://blockstream.info/api/",testnet:"https://blockstream.info/testnet/api/"},running:!1,tasks:[],rateLimit:4,processId:null},lastTimeStamp:Date.now()},E=o.a.createContext(w);function k(e){var t=e.children,n=o.a.useReducer(_,w),r=Object(a.a)(n,2),i=r[0],s=r[1];return o.a.createElement(E.Provider,{value:{state:i,dispatch:s}},t)}var O=n(13),y=function(e){var t=e.domain.currentOwner;return e.domain.users[t]},x=function(e){var t=e.domain.bidding;return{isBurn:t.type===s.b.BURN,bidding:t}},j=function(e){return"testnet"===e.network?"tBTC":"BTC"},N=function(e){var t=(e/1e8).toFixed(8).split("");return t=[].concat(Object(O.a)(t.slice(0,-5)),["\xa0"],Object(O.a)(t.slice(-5))),(t=[].concat(Object(O.a)(t.slice(0,-2)),["\xa0"],Object(O.a)(t.slice(-2)))).join("")},S=n(7);n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return k})),n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return x})),n.d(t,"i",(function(){return j})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return S.h})),n.d(t,"c",(function(){return S.a}))},50:function(e,t,n){e.exports={roundButtonWrap:"RoundButton_roundButtonWrap__2X50a",roundButton:"RoundButton_roundButton__tfjmf",overhead:"RoundButton_overhead__As9JW",nextArrowPad:"RoundButton_nextArrowPad__20zeF",nextArrow:"RoundButton_nextArrow__SS6Nl",backArrowPad:"RoundButton_backArrowPad__3Epn7",backArrow:"RoundButton_backArrow__2MJJm",back:"RoundButton_back__3z3jD"}},51:function(e,t,n){e.exports={lblMainTitle:"HomeContent_lblMainTitle__1LqCG",results:"HomeContent_results__3QLFo",divSearch:"HomeContent_divSearch__3dKw5",txtSearch:"HomeContent_txtSearch__3HpSp",lblMainTitleAfter:"HomeContent_lblMainTitleAfter__J9CsB",divSearchAfter:"HomeContent_divSearchAfter__2MAMf",wrapper:"HomeContent_wrapper__mPINc"}},54:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(16),r=n.n(a),o=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,o=r.a.createHash("sha256").update(n).digest(),i=r.a.createHash("sha256").update(a).digest().slice(0,16),s=r.a.createCipheriv("aes-256-ctr",o,i),c=s.update(e.from(t));return c=e.concat([c,s.final()])},i=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,o=r.a.createHash("sha256").update(n).digest(),i=r.a.createHash("sha256").update(a).digest().slice(0,16),s=r.a.createDecipheriv("aes-256-ctr",o,i),c=s.update(t);return(c=e.concat([c,s.final()])).toString("utf8")}}).call(this,n(2).Buffer)},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a={domain:{domainName:"",notificationAddress:"",txHistory:[],derivedUtxoList:[],utxoList:[],users:{},currentOwner:"",bidding:{startHeight:0,endHeight:0,type:n(24).b.NULL,bids:[]},ownersHistory:[]},chain:{parsedHeight:0,currentHeight:0}},r={address:"",forwards:[],burnAmount:0,winHeight:0,winTimestamp:0,nonce:0,updateHeight:0}},58:function(e,t,n){e.exports={bar:"CreateHeader_bar__27ge1",domain:"CreateHeader_domain__1TQ7L",alias:"CreateHeader_alias__1dNdj",ext:"CreateHeader_ext__17sc6",cutOverflow:"CreateHeader_cutOverflow__3s_72",spacer:"CreateHeader_spacer__3tstm",wrapper:"CreateHeader_wrapper__3cPTN"}},59:function(e,t,n){e.exports={wrapper:"InputForm_wrapper__3RO9S",shiftRight:"InputForm_shiftRight__16j42",label:"InputForm_label__2VQbz",textarea:"InputForm_textarea__3jY9y",button:"InputForm_button__1gilQ",bonusInformation:"InputForm_bonusInformation__J6QjS",invisible:"InputForm_invisible__1fPsX"}},6:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a,r=n(24);n.d(t,"b",(function(){return r.b})),function(e){e.STORE_SEARCH_RESULTS="STORE_SEARCH_RESULTS",e.STORE_SEARCH_RESULTS_FAIL="STORE_SEARCH_RESULTS_FAIL",e.TYPING="TYPING",e.NEW_WALLET="NEW_WALLET",e.CHANGE_PAGE_INFO="CHANGE_PAGE_INFO",e.UPDATE_WALLET="UPDATE_WALLET",e.UPDATE_DOMAIN="UPDATE_DOMAIN",e.ACTION_FAIL="ACTION_FAIL",e.LOAD_STATE="LOAD_STATE",e.CHOICES_BNS_ACTION="CHOICES_BNS_ACTION",e.SET_API="SET_API"}(a||(a={}))},60:function(e,t,n){e.exports={fees:"FeesSelection_fees__aYPBm",fees__rate:"FeesSelection_fees__rate__ho27f",fees__apicall:"FeesSelection_fees__apicall__14yZr",fees__feeSelection:"FeesSelection_fees__feeSelection__26meY",fees__feeSelection__choice:"FeesSelection_fees__feeSelection__choice__1Ba9j"}},61:function(e,t,n){e.exports={outershell2:"Logo_outershell2__ojy1V",btcLogo:"Logo_btcLogo__367Q4",cutoffs:"Logo_cutoffs__XLLfg",background:"Logo_background__3SgWH",theB:"Logo_theB__2iXnu"}},62:function(e,t,n){e.exports={divDev:"DevPanel_divDev__2q66m",hidden:"DevPanel_hidden__Wlj3v",btnOutline:"DevPanel_btnOutline__2FJLx",button:"DevPanel_button__1DKHt"}},7:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(28),i=n(6),s=i.a.TYPING,c=function(e,t,n){var a,i;return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n,i=Object(o.a)(a,"url"),e.abrupt("return",t({type:s,payload:i}));case 3:case"end":return e.stop()}}))},l=n(15),u=n(30),d=n(13),m=n(1),f=i.a.SET_API,p=function(e,t,n){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise((function(a,r){var o={run:n,resolve:a,reject:r,timestamp:Date.now()},i=Object(m.a)({},e.api,{tasks:[].concat(Object(d.a)(e.api.tasks),[o])});t({type:f,payload:i})})));case 1:case"end":return a.stop()}}))},h=i.a.STORE_SEARCH_RESULTS_FAIL,b=i.a.STORE_SEARCH_RESULTS,v=function(e,t){var n,a,o,i,s,c,d,m,f,v=arguments;return r.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(n=v.length>2&&void 0!==v[2]?v[2]:void 0,a=e.alias+e.extension,o=e.api.path,e.alias){g.next=6;break}return console.log("lost alias"),g.abrupt("return",void 0);case 6:return i=Object(l.e)(a,e.network),s=i.notificationsAddress,g.prev=7,g.next=10,r.a.awrap(p(e,t,(function(){return Object(u.d)(e.network,o)})));case 10:return c=g.sent,g.next=13,r.a.awrap(p(e,t,(function(){return Object(u.b)(s,e.network,o)})));case 13:d=g.sent,m=Object(l.d)(d,a,c,e.network),f=m.domain,t({type:b,payload:{alias:e.alias,domain:f,chain:{height:c}}}),"#/"!==window.location.hash&&n.push("/"),g.next=24;break;case 19:g.prev=19,g.t0=g.catch(7),console.log("searchAction issue found:",g.t0),t({type:h,payload:{alias:e.alias,domainName:a,notificationsAddress:s}}),"#/"!==window.location.hash&&n.push("/");case 24:case"end":return g.stop()}}),null,null,[[7,19]])},g=n(39),_=i.a.NEW_WALLET,w=function(e,t){var n,a,o,i,s,c=arguments;return r.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:"",a=""===n?Object(g.a)(e.network):Object(g.d)(n,e.network),o=a.mnemonic,i=a.WIF,s=a.address,r.abrupt("return",t({type:_,payload:{mnemonic:o,WIF:i,address:s}}));case 3:case"end":return r.stop()}}))},E=i.a.CHANGE_PAGE_INFO,k=function(e,t,n){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:E,payload:n}));case 1:case"end":return e.stop()}}))},O=n(5),y=i.a.UPDATE_WALLET,x=i.a.UPDATE_DOMAIN,j=i.a.ACTION_FAIL,N=function(e,t,n){var a,o,i,s,c,d,m,f,p,h,b,v,g,_,w;return r.a.async((function(E){for(;;)switch(E.prev=E.next){case 0:if(a=e.alias+e.extension,n!==y){E.next=24;break}return E.prev=2,o=e.wallet.address,E.next=6,r.a.awrap(Object(O.c)(e,t,(function(){return Object(u.b)(o,e.network,e.api.path)})));case 6:return i=E.sent,E.next=9,r.a.awrap(Object(O.c)(e,t,(function(){return Object(u.e)(o,e.network,e.api.path)})));case 9:return s=E.sent,E.next=12,r.a.awrap(Object(O.c)(e,t,(function(t){var n=t.delay;return Object(u.a)(s,e.network,e.api.path,n)})));case 12:return c=E.sent,d=c.utxoList,(m=c.erroredOutputs)&&console.log("API had issues during hex utxo scan:",m),E.abrupt("return",t({type:y,payload:{wallet:{txHistory:i,utxoList:d}}}));case 19:return E.prev=19,E.t0=E.catch(2),console.log("Wallet address scan failed"),console.log(E.t0),E.abrupt("return",t({type:j,payload:{}}));case 24:if(n!==x){E.next=47;break}return E.prev=25,E.next=28,r.a.awrap(Object(O.c)(e,t,(function(){return Object(u.d)(e.network,e.api.path)})));case 28:return f=E.sent,p=Object(l.e)(a,e.network),h=p.notificationsAddress,E.next=32,r.a.awrap(Object(O.c)(e,t,(function(){return Object(u.b)(h,e.network,e.api.path)})));case 32:return b=E.sent,v=Object(l.d)(b,a,f,e.network),g=v.domain,E.next=36,r.a.awrap(Object(O.c)(e,t,(function(t){var n=t.delay;return Object(u.a)(g.derivedUtxoList,e.network,e.api.path,n)})));case 36:return _=E.sent,(w=_.erroredOutputs)&&console.log("API had issues during hex utxo scan:",w),E.abrupt("return",t({type:x,payload:{domain:g,chain:{height:f}}}));case 42:return E.prev=42,E.t1=E.catch(25),console.log("Notification address scan failed"),console.log(E.t1),E.abrupt("return",t({type:j,payload:{}}));case 47:throw new Error("unexpected address type");case 48:case"end":return E.stop()}}),null,null,[[2,19],[25,42]])},S=i.a.CHOICES_BNS_ACTION,A=function(e,t,n){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:S,payload:n}));case 1:case"end":return e.stop()}}))},C=i.a.SET_API,I=function(e,t,n){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:C,payload:n}));case 1:case"end":return e.stop()}}))};n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return k})),n.d(t,"f",(function(){return N})),n.d(t,"c",(function(){return A})),n.d(t,"h",(function(){return I})),n.d(t,"a",(function(){return p}))},73:function(e,t,n){e.exports={wrapper:"Details_wrapper__32nmX",buttonWrapper:"Details_buttonWrapper__12FS5",toggleDetails:"Details_toggleDetails__2jgtb",arrow:"Details_arrow__2N1IF",down:"Details_down__2irBp",details:"Details_details__1lwEd"}},74:function(e,t,n){e.exports={wrapper:"Switch_wrapper__13KFe",shiftRight:"Switch_shiftRight__1BAPW",label:"Switch_label__ZC9Fh",choiceArea:"Switch_choiceArea__2lIss",choice:"Switch_choice__HlPt4",selected:"Switch_selected__ynsKV"}},75:function(e,t,n){e.exports={wrapper:"Withdraw_wrapper__3h_E8",title:"Withdraw_title__1DTCX",request:"Withdraw_request__2EjrZ",request__total:"Withdraw_request__total__6UrOm",balance:"Withdraw_balance__2xjDM",fees:"Withdraw_fees__1uZhm"}},78:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(14),r=a.opcodes,o=a.crypto.hash160,i=function(t,n){var i=a.networks[n],s=e.from(t,"utf8"),c=a.script.compile([o(s),r.OP_DROP]);return{notificationsAddress:a.payments.p2wsh({redeem:{output:c,network:i},network:i}).address}}}).call(this,n(2).Buffer)},8:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(50),i=n.n(o),s=function(e){return r.a.createElement("div",Object.assign({style:{display:"false"===(null===e||void 0===e?void 0:e.show)?"none":"inline-block","--colorThisButton":e.colorbutton?e.colorbutton:"var(--colorBitcoinOrange)","--colorThisButtonText":e.colorbuttontext?e.colorbuttontext:"var(--colorButtonText)","--sizeButton":e.sizebutton?"calc(".concat(e.sizebutton,"/2.9 * var(--s))"):"calc(2.5/2.9 * var(--s))"}},e,{className:[i.a.roundButtonWrap,e.back?i.a.back:"",e.className].join(" ")}),r.a.createElement("div",{className:[i.a.roundButton,e.back?i.a.backArrowPad:void 0,e.next?i.a.nextArrowPad:void 0].join(" ")},e.back&&r.a.createElement("div",{className:i.a.backArrow}),e.children,e.next&&r.a.createElement("div",{className:i.a.nextArrow}),r.a.createElement("div",{className:i.a.overhead})))};n.d(t,"a",(function(){return s}))},87:function(e,t,n){e.exports={wrapper:"AboutContent_wrapper__1kfnm",title:"AboutContent_title__16tUj",contentWrapper:"AboutContent_contentWrapper__2XHS2",drawing:"AboutContent_drawing__1qDTH"}},99:function(e,t,n){e.exports={wrapper:"CreateNavigator_wrapper__24rTe",scroller:"CreateNavigator_scroller__2q-0N",horizontalScaler:"CreateNavigator_horizontalScaler__2qmoi"}}},[[203,1,2]]]);
//# sourceMappingURL=main.dcc96627.chunk.js.map