(this.webpackJsonpbns=this.webpackJsonpbns||[]).push([[0],{12:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",leftCorner:"Navbar_leftCorner__qPPEV",wallet:"Navbar_wallet__1RkTc",pageNum:"Navbar_pageNum__1amUi",api:"Navbar_api__ArjdL",warning:"Navbar_warning__1HOBZ",overflowMenu:"Navbar_overflowMenu__1dStH",button:"Navbar_button__3Xi0T",selected:"Navbar_selected__10Mm9",collapsitron:"Navbar_collapsitron__2qzRt",dots:"Navbar_dots__1OrSM",menuShown:"Navbar_menuShown__3-TaY",blurme:"Navbar_blurme__2nA1q"}},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){if(void 0!==e&&0!==e.length){if(1===e.length)return e[0];var t=0,n=e.map((function(e){var n={min:t,max:t+e.value,weight:e.value,bid:e};return t+=e.value,n})),a=e[0].blockHash;e.some((function(e){return e.blockHash!==a}))&&console.warn("bidArray should have same height txs but txs contained different block hashes!!!",e);for(var r=BigInt("0x"+a)%BigInt(t),o=0;o<n.length;o++)if(BigInt(n[o].min)<=r&&BigInt(n[o].max)<r)return n[o].bid;console.warn("something went wrong and no winner was found",n,e,t)}}},129:function(e,t,n){e.exports={wrapper:"Wallet_wrapper__3F0wa",logo:"Wallet_logo__1MF_4"}},14:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l}));var a=80,r=1e3,o=1e3,i=52560,s=144,c=2,l=1662e3},15:function(e,t,n){e.exports={wrapper:"P5CustomForwards_wrapper__2kAy2",title:"P5CustomForwards_title__29aFH",subtitle:"P5CustomForwards_subtitle__1iqt_",changes:"P5CustomForwards_changes__23bYg",pastList:"P5CustomForwards_pastList__3rXdy",buttonWrapper:"P5CustomForwards_buttonWrapper__3hvwB",editor:"P5CustomForwards_editor__1ZVVF",updateItem:"P5CustomForwards_updateItem__1wAhx",updateCancel:"P5CustomForwards_updateCancel__3b5bW",updateInfo:"P5CustomForwards_updateInfo__2OBcF",editorNetwork:"P5CustomForwards_editorNetwork__1L6UB",editorAddress:"P5CustomForwards_editorAddress__1N25M",btnAdd:"P5CustomForwards_btnAdd__1tiSg",btnDelete:"P5CustomForwards_btnDelete__3NCte",pastPair:"P5CustomForwards_pastPair__3YvIk",pastNetwork:"P5CustomForwards_pastNetwork__35eVe",pastAddress:"P5CustomForwards_pastAddress__3-W_H",bytesLeft:"P5CustomForwards_bytesLeft__2zySr",bytesOver:"P5CustomForwards_bytesOver__ysfMq"}},17:function(e,t,n){e.exports={wrapper:"SearchResults_wrapper__VvaYk",scrollbars:"SearchResults_scrollbars__1zMfY",breakable:"SearchResults_breakable__3r3ay",listContainer:"SearchResults_listContainer__12vQE",listItem:"SearchResults_listItem__3Udwx",key:"SearchResults_key__358jo",expired:"SearchResults_expired__2ptnD",avaiability:"SearchResults_avaiability__3E0Yr",createLink:"SearchResults_createLink__13Wez",describe:"SearchResults_describe__3HACm",ownershipDetails:"SearchResults_ownershipDetails__1Z7p1",balance:"SearchResults_balance__11rok",linkable:"SearchResults_linkable__86qQ2",matches:"SearchResults_matches__CzTtF"}},173:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a=n(8),r=n(10),o=n(70),i=n(14),s=n(47),c=n(19),l=n(3),u=n(33),d=r.crypto.hash160,m=r.opcodes,p=function t(n,p,f,h){var v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(0===n.utxoList.length)throw new Error("Wallet has no funds (utxo) to use");var b=f.feeRate,g=r.networks[h],w=Object(o.a)(p.domainName,h),_=w.notificationsAddress,E=Math.ceil(v*b),k=f.action.suggestions.reduce((function(e,t){var n=[];return"set"in t.info&&"Bid burn amount"===t.info.set.name&&(n=[].concat(Object(a.a)(n),[t.info.set.value])),"get"in t.info&&"Bid burn amount"===t.info.get.name&&(n=[].concat(Object(a.a)(n),[parseInt(t.info.get.value,10)])),[].concat(Object(a.a)(e),Object(a.a)(n))}),[]),y=Math.max.apply(Math,Object(a.a)(k).concat([0])),x=0,O=f.action.suggestions.reduce((function(e,t){if(t.info.type===c.c.REFUND_BIDDERS&&!0===t.info.get.value){var n=t.info.set.value.split("\n").map((function(e){var t=e.split(" ")[1],n=parseInt(e.split(" ")[0],10);return x+=n,{address:t,amount:n}}));return[].concat(Object(a.a)(e),Object(a.a)(n))}return e}),[]),N=x+y+i.f+E,S=0,j=0,A=0,C=[];p.derivedUtxoList.forEach((function(e){e.from_scriptpubkey_address===n.address&&(C.push(e),S+=e.value,A+=e.value)}));var I=[];if(n.utxoList.forEach((function(e){(S<N||0===I.length)&&(I.push(e),S+=e.value,j+=e.value)})),S<N)throw new Error("Not enough funds available (need: "+(N/1e8).toFixed(8)+" BTC, have: "+(S/1e8).toFixed(8)+" BTC)");var B=r.ECPair.fromWIF(n.WIF,g),T=new r.Psbt({network:g});T.setVersion(2),T.setLocktime(0),I.forEach((function(t){T.addInput({hash:t.txid,index:t.vout,sequence:4294967294,nonWitnessUtxo:e.from(t.hex,"hex")})}));var L=r.script.compile([d(e.from(p.domainName,"utf8")),m.OP_DROP]),P=r.script.compile([m.OP_TRUE]);C.forEach((function(t){if(!t.hex)throw new Error("Utxo is missing hex, txid: ".concat(t.txid,", vout:").concat(t.vout));T.addInput({hash:t.txid,index:t.vout,sequence:4294967294,nonWitnessUtxo:e.from(t.hex,"hex"),witnessScript:L})}));var W=Object(l.m)({domain:p},n.address).toString(),F=p.domainName+n.address+W;console.log("nonce used to encrypt",p.domainName,n.address,W);for(var R=e.from(f.embedString),D=e.from([]),H=0;H<f.embedBuffers.length;H++)D=e.concat([D,e.from(f.embedBuffers[H].network),e.from(" "),e.from(f.embedBuffers[H].address),e.from(" ")]);var U=D;U=R.length>0?e.concat([U,R]):U.slice(0,-1);var M=Object(s.c)(U,F);if(console.log("total embedded data is",'"'+U+'", bytes:',U.length),console.log("after encryption embedded data is",'"'+M+'", bytes:',M.length),M.length>80)throw new Error("Embedded data is larger than standardness 80 byte limit rule");var z=r.payments.embed({data:[M]});T.addOutput({script:z.output,value:y}),console.log("rules say to burn ",y),T.addOutput({address:_,value:i.f});var J="CHANGE_ADDRESS"===f.action.type?f.action.suggestions.find((function(e){return"get"in e.info})).info.get.value:n.address,q=S-N;T.addOutput({address:J,value:q}),O.forEach((function(e){T.addOutput({address:e.address,value:e.amount})})),I.forEach((function(e,t){if(T.signInput(t,B),!T.validateSignaturesOfInput(t))throw new Error("Signature validation failed for input index "+t.toString())}));for(var V=0;V<I.length;V++)T.finalizeInput(V);for(var Y=I.length;Y<I.length+C.length;Y++)T.finalizeInput(Y,Object(u.b)({inputScript:P,network:g}));var G=T.extractTransaction();console.log(G);var K=G.virtualSize(),Q=G.getId(),Z=G.toHex(),X=G.ins.length,$=G.outs.length;return v>=K?(console.log("virtualSize",G.virtualSize()),console.log("byteLength",G.byteLength()),console.log("getId",G.getId()),console.log("hex",G.toHex()),console.log(""),{txid:Q,thisVirtualSize:K,hex:Z,valueNeeded:N,fee:E,change:q,burnAmount:y,notifyAmount:i.f,refundsAmount:x,totalGathered:S,gatheredFromWallet:j,gatheredFromOther:A,nInputs:X,nOutputs:$,nInputsFromWallet:I.length,nInputsFromOther:C.length||0}):t(n,p,f,h,K)}}).call(this,n(2).Buffer)},174:function(e,t,n){"use strict";(function(e){n(11)}).call(this,n(2).Buffer)},189:function(e,t,n){e.exports=n.p+"static/media/graphic.b15c3267.png"},19:function(e,t,n){"use strict";var a,r,o;!function(e){e.RENEW="RENEW",e.ONLY_FORWARDS="ONLY_FORWARDS",e.BID_FOR_OWNERSHIP="BID_FOR_OWNERSHIP",e.SEND_OWNERSHIP="SEND_OWNERSHIP",e.CHANGE_ADDRESS="CHANGE_ADDRESS",e.REFUND_OTHER_BIDS="REFUND_OTHER_BIDS"}(a||(a={})),function(e){e.REFUND_BIDDERS="REFUND_BIDDERS"}(r||(r={})),function(e){e.BURN="BURN",e.NULL="NULL"}(o||(o={})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}))},193:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(1),r=n(10),o=n(48),i=n.n(o),s=function(e){if(!e.network)throw new Error('Must provide network ("bitcoin" or "testnet")');var t=r.networks[e.network],n=new r.Psbt({network:t});return n.setVersion(e.setVersion),n.setLocktime(e.setLocktime),u({tb:e,psbt:n}),l({tb:e,psbt:n}),c({tb:e,psbt:n}),n.extractTransaction()},c=function(e){for(var t=e.tb,n=e.psbt,a=r.networks[t.network],o=Object.keys(t.inputs).length,i=0;i<o;i++){var s=t.inputs[i.toFixed(0)];if(s.canJustSign){if(n.signInput(i,s.keyPair[0]),!n.validateSignaturesOfInput(i))throw new Error("Signature validation failed for input index "+i.toFixed(0));n.finalizeInput(i)}s.canJustSign||n.finalizeInput(i,d({inputScript:s.inputScript,network:a}))}},l=function(e){var t=e.tb,n=e.psbt;if(!t.outputs||0===Object.keys(t.outputs).length)throw new Error("Can't have no outputs");console.log("getTx found ".concat(Object.keys(t.outputs).length.toFixed(0)," outputs"));for(var r=0;r<Object.keys(t.outputs).length;r++){if(void 0===t.outputs[r.toFixed(0)])throw new Error("Missing output at vout index ".concat(r.toFixed(0)))}Object.keys(t.outputs).forEach((function(e,r){if(e!==r.toFixed(0))throw new Error("Badly labeled output with key ".concat(e));var o=t.outputs[e];if(!o.value)throw new Error("Missing value on output #".concat(e));var i={value:o.value};if(!o.address&&!o.script)throw new Error("Missing address OR script on output #".concat(e));o.address&&(i.address=o.address),o.script&&(i.script=o.script),n.addOutput(Object(a.a)({},o))}))},u=function(e){var t=e.tb,n=e.psbt;if(!t.inputs||0===Object.keys(t.inputs).length)throw new Error("Can't have no inputs");console.log("getTx found ".concat(Object.keys(t.inputs).length.toFixed(0)," inputs"));for(var o=0;o<Object.keys(t.inputs).length;o++){if(void 0===t.inputs[o.toFixed(0)])throw new Error("Missing input at vin index ".concat(o.toFixed(0)))}Object.keys(t.inputs).forEach((function(e,o){if(e!==o.toFixed(0))throw new Error("Wrong labeled input with key ".concat(e));var i=t.inputs[e];if(!i.hash)throw new Error("Missing txid on input #".concat(e));if(!i.index)throw new Error("Missing vout on input #".concat(e));if(!i.sequence)throw new Error("Missing sequence on input #".concat(e));if(!i.nonWitnessUtxo)throw new Error("Missing input's full tx hex on input #".concat(e));var s={hash:i.hash,index:i.index,sequence:i.sequence,nonWitnessUtxo:i.nonWitnessUtxo};if(i.witnessScript&&(s.witnessScript=i.witnessScript),i.redeemScript&&(s.redeemScript=i.redeemScript),i.inputScript&&(s.inputScript=r.script.fromASM(s.inputScript).trim().replace(/\s+/g," ")),(i.witnessScript||i.redeemScript)&&!i.inputScript)throw new Error("\n        Missing input script on input #".concat(e," but provided\n        ").concat(i.witnessScript?" witness ":"","\n        ").concat(i.witnessScript&&i.redeemScript?" & ":"","\n        ").concat(i.redeemScript?" redeem ":"","\n        script\n      "));if(!i.witnessScript&&!i.redeemScript&&i.inputScript)throw new Error("Missing witness or redeem scripts but provided input script for input #".concat(e));if(!i.canJustSign&&(!i.inputScript||!i.witnessScript||!i.redeemScript))throw new Error("Can't just sign but no spending scripts either for input #".concat(e));if(i.keyPairs&&(s.keyPairs=i.keyPairs),(!i.keyPairs||!i.keyPairs[0])&&i.canJustSign)throw new Error("Need at least 1 keypair to just sign input #".concat(e));if(i.sighashTypes&&(s.sighashTypes=i.sighashTypes),i.sighashTypes&&i.keyPairs&&i.sighashTypes.length!==i.keyPairs.length)throw new Error("Each key pair needs matching sighash choice. Missing matches on input #".concat(e));i.address&&(s.address=i.address),i.value&&(s.value=i.value),i.confirmed&&(s.confirmed=i.confirmed),i.info&&(s.info=i.info),n.addInput(Object(a.a)({},s))}))},d=function(t){var n=t.inputScript,a=t.network;return function(t,o,s,c,l,u){var d={network:a,output:s,input:n};return u&&c&&(d=r.payments.p2wsh({network:a,redeem:d})),l&&(d=r.payments.p2sh({network:a,redeem:d})),{finalScriptSig:d.input,finalScriptWitness:d.witness&&d.witness.length>0?function(t){var n,a=e.allocUnsafe(0);function r(t){var n=a.length,r=i.a.encodingLength(t);a=e.concat([a,e.allocUnsafe(r)]),i.a.encode(t,a,n)}function o(t){r(t.length),function(t){a=e.concat([a,e.from(t)])}(t)}return r((n=t).length),n.forEach(o),a}(d.witness):void 0}}}}).call(this,n(2).Buffer)},194:function(e,t,n){e.exports=n(395)},199:function(e,t,n){},20:function(e,t,n){e.exports={wrapper:"P1RestoreOrBackup_wrapper__32TQJ",title:"P1RestoreOrBackup_title__2rH-6",contentWrapper:"P1RestoreOrBackup_contentWrapper__1NT85",buttonWrapper:"P1RestoreOrBackup_buttonWrapper__2ryAq",describe:"P1RestoreOrBackup_describe__1RMqs",orange:"P1RestoreOrBackup_orange__3V9sL",spacer:"P1RestoreOrBackup_spacer__3luud",backup:"P1RestoreOrBackup_backup__357rd",restoreBackup:"P1RestoreOrBackup_restoreBackup__VUHgs"}},206:function(e,t){},208:function(e,t){},21:function(e,t,n){e.exports={wrapper:"P4ActionChoice_wrapper__2u2J5",title:"P4ActionChoice_title__2PdRs",availableActions:"P4ActionChoice_availableActions__1O5aS",inputForms:"P4ActionChoice_inputForms__3vlaZ",okButton:"P4ActionChoice_okButton__lq4sl",unavailableActions:"P4ActionChoice_unavailableActions__3rEYI",buttonWrapper:"P4ActionChoice_buttonWrapper__3Sx3Y",orange:"P4ActionChoice_orange__6-7sA",unavailableActions__title:"P4ActionChoice_unavailableActions__title__2EQ4_",unavailableActions__actionList:"P4ActionChoice_unavailableActions__actionList__1VAc_",unavailableActions__actionList__action:"P4ActionChoice_unavailableActions__actionList__action__GMwoW",unavailableActions__actionList__action__title:"P4ActionChoice_unavailableActions__actionList__action__title__3ljZU",unavailableActions__actionList__action__permissionList:"P4ActionChoice_unavailableActions__actionList__action__permissionList__2pKeq",unavailableActions__actionList__action__permissionList__permission:"P4ActionChoice_unavailableActions__actionList__action__permissionList__permission__2eF7F",breakable:"P4ActionChoice_breakable__x4Qcm"}},22:function(e,t,n){e.exports={wrapper:"P2LoadWallet_wrapper__vI_bb",title:"P2LoadWallet_title__8Dw43",contentWrapper:"P2LoadWallet_contentWrapper__UNLo4",buttonWrapper:"P2LoadWallet_buttonWrapper__1rrct",button:"P2LoadWallet_button__1A8-S",address:"P2LoadWallet_address__37xx2",orange:"P2LoadWallet_orange__UP8xH",imgQr:"P2LoadWallet_imgQr__3Avh3",backAndReady:"P2LoadWallet_backAndReady__3oVit"}},226:function(e,t){},228:function(e,t){},3:function(e,t,n){"use strict";(function(e){n.d(t,"i",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"G",(function(){return b})),n.d(t,"t",(function(){return g})),n.d(t,"o",(function(){return w})),n.d(t,"K",(function(){return _})),n.d(t,"d",(function(){return E})),n.d(t,"p",(function(){return k})),n.d(t,"H",(function(){return y})),n.d(t,"n",(function(){return x})),n.d(t,"l",(function(){return O})),n.d(t,"B",(function(){return N})),n.d(t,"m",(function(){return S})),n.d(t,"s",(function(){return j})),n.d(t,"q",(function(){return A})),n.d(t,"r",(function(){return I})),n.d(t,"L",(function(){return B})),n.d(t,"F",(function(){return T})),n.d(t,"b",(function(){return L})),n.d(t,"A",(function(){return P})),n.d(t,"z",(function(){return W})),n.d(t,"g",(function(){return F})),n.d(t,"v",(function(){return R})),n.d(t,"D",(function(){return D})),n.d(t,"f",(function(){return H})),n.d(t,"c",(function(){return U})),n.d(t,"y",(function(){return M})),n.d(t,"k",(function(){return z})),n.d(t,"M",(function(){return J})),n.d(t,"E",(function(){return q})),n.d(t,"a",(function(){return Y})),n.d(t,"x",(function(){return G})),n.d(t,"w",(function(){return K})),n.d(t,"u",(function(){return Q})),n.d(t,"C",(function(){return Z})),n.d(t,"I",(function(){return X})),n.d(t,"J",(function(){return ee})),n.d(t,"h",(function(){return te}));var a=n(24),r=n(1),o=n(8),i=n(32),s=n.n(i),c=n(49),l=n(14),u=n(19),d=n(47),m=n(126),p=function(e){return""!==e.domain.currentOwner},f=function(e,t){return!!e.domain.users[t]},h=function(e,t){e.domain.users[t]=JSON.parse(JSON.stringify(c.b)),e.domain.users[t].address=t},v=function(e){return e.domain.currentOwner||""},b=function(e,t){e.domain.currentOwner=t},g=function e(t,n){return f(t,n)||console.warn("You called",e,"without checking if user exists via existsUser()"),t.domain.users[n]},w=function(e){var t=v(e);if(t)return g(e,t)},_=function(e){e.domain.ownersHistory.push(w(e)||JSON.parse(JSON.stringify(c.b)))},E=function(e){e.domain.currentOwner=""},k=function(e){var t;return(null===(t=e.chain)||void 0===t?void 0:t.parsedHeight)||0},y=function(e,t){e.chain&&(e.chain.parsedHeight=t)},x=function(e){return e.domain.notificationAddress||""},O=function(e){var t;return(null===(t=w(e))||void 0===t?void 0:t.burnAmount)||0},N=function(e){if(!p(e))return!0;var t=w(e);return t?k(e)-t.winHeight>l.g:(console.log("isOwnerExpired: owner exists but no user with such address stored"),!0)},S=function(e,t){return f(e,t)?g(e,t).nonce:0},j=function(e){return e.status.block_time||0},A=function(e){return e.status.block_height||0},C=function(e){var t;return(null===(t=e.vout[0])||void 0===t?void 0:t.value)||0},I=function(e){var t;return(null===(t=e.vin[0])||void 0===t?void 0:t.prevout.scriptpubkey_address)||""},B=function(e,t){var n=I(t);f(e,n)||(h(e,n),console.log("new source created:",n));var a=e.domain.users[n];a.nonce=a.updateHeight,a.updateHeight=A(t)},T=function(t,n){if(P(n)){for(var a=I(n),r=g(t,a),i=S(t,a).toString(),c=function(e){return P(e)?e.vout[0].scriptpubkey_asm.split(" ").slice(2).join(""):""}(n),l=e.from(c,"hex"),u=t.domain.domainName+r.address+i,m=Object(d.a)(l,u),p=e.from(" "),f=[],h=0;h<m.length;h++){var v=m.slice(h,h+1),b=0===e.compare(p,v);if((b||0===h)&&f.push(e.from([])),!b||0===h){var w=f.length-1;f[w]=e.concat([f[w],v])}}var _=[];f.forEach((function(e,t){if(t%2===1){var a=f[t-1].toString("utf8"),r="?"===a?s.a.encode(e):e.toString("utf8"),o={network:encodeURIComponent(a),address:encodeURIComponent(r),updateHeight:A(n),updateTimestamp:j(n)};_.push(o)}})),function(e,t,n){var a=g(e,t);a.forwards=[].concat(Object(o.a)(a.forwards),Object(o.a)(n))}(t,a,_)}else console.log(A(n),": no op_return found for txid")},L=function(e){return e.vout.length>=2},P=function(e){return"OP_RETURN"===e.vout[0].scriptpubkey_asm.split(" ")[0]},W=function(e,t){return function(e){var t;return(null===(t=e.vout[1])||void 0===t?void 0:t.scriptpubkey_address)||""}(t)===x(e)},F=function(e){return function(e){var t;return(null===(t=e.vout[1])||void 0===t?void 0:t.value)||0}(e)>=l.f},R=function(e,t){return v(e)===t},D=function(e,t){return v(e)===I(t)},H=function(e){return C(e)>=l.e},U=function(e,t){return C(t)>=O(e)},M=function(e,t,n){return!!z(e,t,n)},z=function(e,t,n){var a=A(t),r=I(t),o=g(e,r).forwards,i=!0,s=!1,c=void 0;try{for(var l,u=o[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var d=l.value,m=d.network;if(d.updateHeight===a&&m.startsWith(n))return d}}catch(p){s=!0,c=p}finally{try{i||null==u.return||u.return()}finally{if(s)throw c}}},J=function(e,t){var n=x(e);t.vin.forEach((function(t){if(t.prevout.scriptpubkey_address===n){var a=t.txid,r=t.vout,o=e.domain.derivedUtxoList.findIndex((function(e){return e.txid===a&&e.vout===r}));e.domain.derivedUtxoList.splice(o,1)}})),t.vout.forEach((function(a,r){a.scriptpubkey_address===n&&e.domain.derivedUtxoList.push({txid:t.txid,vout:r,status:t.status,value:a.value,from_scriptpubkey_address:I(t)})}))},q=function(e,t){var n=I(t),a=A(t),r=!0,o=!1,i=void 0;try{for(var s,c=e.domain.derivedUtxoList[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value,u=l.from_scriptpubkey_address,d=l.status.block_height<a;if(!u&&console.log("st.domain.derivedUtxoList for some reason has undefined from_scriptpubkey_address"),u===n&&d)return!1}}catch(m){o=!0,i=m}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return!0},V=function(e){e.domain.bidding=Object(r.a)({},JSON.parse(JSON.stringify(c.a.domain.bidding)))},Y=function(e,t,n){var a=I(t),r=A(t),o=C(t);r>e.domain.bidding.endHeight&&function(e,t,n){var a=A(t);V(e),e.domain.bidding.startHeight=a,e.domain.bidding.endHeight=a+l.c,e.domain.bidding.type=n,console.log("Bidding period started at height",a,"until",a+l.c)}(e,t,n);var i=e.domain.bidding.bids,s={height:r,timestamp:j(t),address:a,value:o,valueLeftToRefund:o,blockHash:t.status.block_hash};i.push(s),console.log("New bid from",a,"for",o)},G=function(e){var t=e.chain.parsedHeight,n=e.domain.bidding.type,a=e.domain.bidding.endHeight;return n!==u.b.NULL&&a<=t},K=function(e){if(!e.chain)throw new Error("called st.chain without it defined");var t=e.chain.parsedHeight,n=e.domain.bidding.type,a=e.domain.bidding.endHeight,r=e.domain.bidding.startHeight;return n!==u.b.NULL&&t<a&&t>=r&&(console.log("",t,"Action falls within bidding period."),!0)},Q=function(e,t){if(!K)return!1;for(var n=0;n<e.domain.bidding.bids.length;n++){if(e.domain.bidding.bids[n].address===t)return!0}return!1},Z=function(e,t){var n=I(t);return Q(e,n)},X=function(e,t){var n=I(t),a=e.domain.bidding.bids,r={},o=!0,i=!1,s=void 0;try{for(var c,l=t.vout[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var u=c.value,d=u.scriptpubkey_address,m=u.value;void 0!==d&&n!==d&&(r[d]?r[d]+=m:r[d]=m)}}catch(b){i=!0,s=b}finally{try{o||null==l.return||l.return()}finally{if(i)throw s}}for(var p=0;p<a.length;p++){var f=a[p],h=f.address;if(console.assert(f.height>=e.domain.bidding.startHeight,"Bid height outside allowed range."),console.assert(f.height<e.domain.bidding.endHeight,"Bid height outside allowed range."),void 0!==r[h]){var v=Math.max(Math.min(r[h],f.valueLeftToRefund),0);f.valueLeftToRefund-=v,r[h]-=v}}},$=function(e){return e.domain.bidding.bids.filter((function(e){return e.valueLeftToRefund>0}))},ee=function(e){return $(e).reduce((function(e,t){var n=t.address,o=t.valueLeftToRefund;return e[n]?Object(r.a)({},e,Object(a.a)({},n,e[n]+o)):Object(r.a)({},e,Object(a.a)({},n,o))}),{})},te=function(e){var t=e.domain.bidding.bids,n=$(e),a=[],r=!0,o=!1,i=void 0;try{for(var s,c=function(){var t=s.value;console.assert(t.height>=e.domain.bidding.startHeight,"Bid height outside allowed range."),console.assert(t.height<e.domain.bidding.endHeight,"Bid height outside allowed range.");var r=t.height;n.some((function(e){return!(e.height>=r)&&e.address!==t.address}))||a.push(t)},u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)c()}catch(E){o=!0,i=E}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}for(var d={address:"",height:0,timestamp:0,value:0,valueLeftToRefund:0,blockHash:""},p=[],f=0,h=a.length-1,v=0;v<=h;v++){var g=a[v],_=g.height;g.height>f&&(d=Object(m.a)(p)||d,p=[]),g.value>=l.b*d.value&&p.push(g),f=_,v===h&&(d=Object(m.a)(p)||d)}if(""===d.address)throw new Error("There should be no cases without a winner since at least 1st bid wins");b(e,d.address),w(e).burnAmount=d.value,w(e).winHeight=d.height,w(e).winTimestamp=d.timestamp,console.log("",d.height,"Bidding winner and new owner is",d.address),V(e)}}).call(this,n(2).Buffer)},31:function(e,t,n){e.exports={wrapper:"P6Broadcast_wrapper__32tq-",title:"P6Broadcast_title__2fzea",fees:"P6Broadcast_fees__STZ2e",txSummary:"P6Broadcast_txSummary__24FzE",status:"P6Broadcast_status__3SsMv",totalCost:"P6Broadcast_totalCost__Agr2T",buttonWrapper:"P6Broadcast_buttonWrapper__ROAk6",status__button:"P6Broadcast_status__button__fFvc3",status__failed:"P6Broadcast_status__failed__1moa8",balance:"P6Broadcast_balance__1ZVur"}},33:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(10),r=n(71),o=n.n(r),i=n(48),s=n.n(i),c=function(e){var t=a.networks[e],n=o.a.generateMnemonic(),r=o.a.mnemonicToSeed(n),i=a.bip32.fromSeed(r,t).derivePath("m/44'/0'/0'").derivePath("0/0").toWIF(),s=a.ECPair.fromWIF(i,t);return{mnemonic:n,WIF:i,address:a.payments.p2wpkh({pubkey:s.publicKey,network:t}).address}},l=function(e,t){var n=a.networks[t],r=o.a.mnemonicToSeed(e),i=a.bip32.fromSeed(r,n).derivePath("m/44'/0'/0'").derivePath("0/0").toWIF(),s=a.ECPair.fromWIF(i,n);return{mnemonic:e,WIF:i,address:a.payments.p2wpkh({pubkey:s.publicKey,network:n}).address}};function u(e){return(null===e||void 0===e?void 0:e.reduce((function(e,t){return e+t.value}),0))||0}var d=function(t){var n=t.inputScript,r=t.network;return function(t,o,i,c,l,u){var d={network:r,output:i,input:n};return u&&c&&(d=a.payments.p2wsh({network:r,redeem:d})),l&&(d=a.payments.p2sh({network:r,redeem:d})),{finalScriptSig:d.input,finalScriptWitness:d.witness&&d.witness.length>0?function(t){var n,a=e.allocUnsafe(0);function r(t){var n=a.length,r=s.a.encodingLength(t);a=e.concat([a,e.allocUnsafe(r)]),s.a.encode(t,a,n)}function o(t){r(t.length),function(t){a=e.concat([a,e.from(t)])}(t)}return r((n=t).length),n.forEach(o),a}(d.witness):void 0}}}}).call(this,n(2).Buffer)},34:function(e,t,n){e.exports={wrapper:"P3DomainAndWallet_wrapper__1ElFg",contentWrapper:"P3DomainAndWallet_contentWrapper__vm5qp",title:"P3DomainAndWallet_title__3ing2",domainInfo:"P3DomainAndWallet_domainInfo__3p2aJ",domainButton:"P3DomainAndWallet_domainButton__2PIDz",walletInfo:"P3DomainAndWallet_walletInfo__2cQY0",walletButton:"P3DomainAndWallet_walletButton__MmLZ3",unspent:"P3DomainAndWallet_unspent__bUWZW",buttonWrapper:"P3DomainAndWallet_buttonWrapper__djJkL",ownership:"P3DomainAndWallet_ownership__lSY6a",balance:"P3DomainAndWallet_balance__2fns7"}},394:function(e,t,n){},395:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(188),i=n.n(o),s=n(42),c=(n(199),n(50)),l=n(79),u=n.n(l),d=n(189),m=n.n(d),p=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[u.a.wrapper,"scrollbar"].join(" ")},r.a.createElement("div",{className:u.a.title},r.a.createElement("div",null,"Your ",r.a.createElement("span",null,"Bitcoin")," domain \xa0=\xa0"),r.a.createElement("div",null,"\xa0infinite forwarding addresses")),r.a.createElement("div",{className:u.a.contentWrapper},r.a.createElement("img",{className:u.a.drawing,src:m.a,alt:"graphic"}),r.a.createElement("p",null,r.a.createElement("span",null,"Bitcoin")," Domain System (",r.a.createElement("span",null,"BNS"),"): easy to read custom domain names (i.e. aliases) that can store unlimited forwarding information to long alphanumeric btc addresses or any other types of addreses (e.g. ipfs, https, twitter, ...)."),r.a.createElement("p",null,"All ",r.a.createElement("span",null,"BNS")," data is stored inside transactions on the"," ",r.a.createElement("span",null,"Bitcoin")," blockchain. This means that ",r.a.createElement("span",null,"BNS")," is protected by the most secure, decentralized, permissionless, and censorship resistant public network ever created."),r.a.createElement("a",{href:"https://github.com/ildarmgt/BitcoinNameSystem/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"},"more on github"))))};function f(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null))}var h,v=n(7),b=n(1),g=n(19);!function(e){e.STORE_SEARCH_RESULTS="STORE_SEARCH_RESULTS",e.STORE_SEARCH_RESULTS_FAIL="STORE_SEARCH_RESULTS_FAIL",e.TYPING="TYPING",e.NEW_WALLET="NEW_WALLET",e.CHANGE_PAGE_INFO="CHANGE_PAGE_INFO",e.UPDATE_WALLET="UPDATE_WALLET",e.UPDATE_DOMAIN="UPDATE_DOMAIN",e.ACTION_FAIL="ACTION_FAIL",e.LOAD_STATE="LOAD_STATE",e.CHOICES_BNS_ACTION="CHOICES_BNS_ACTION",e.SET_API="SET_API"}(h||(h={}));var w=h.STORE_SEARCH_RESULTS_FAIL,_=h.STORE_SEARCH_RESULTS,E=h.TYPING,k=h.NEW_WALLET,y=h.CHANGE_PAGE_INFO,x=h.UPDATE_WALLET,O=h.UPDATE_DOMAIN,N=h.ACTION_FAIL,S=h.LOAD_STATE,j=h.CHOICES_BNS_ACTION,A=h.SET_API;function C(e,t){var n=t.payload;switch(t.type){case A:return Object(b.a)({},e,{api:Object(b.a)({},e.api,{},n)});case j:return Object(b.a)({},e,{choices:Object(b.a)({},e.choices,{},n),lastTimeStamp:Date.now()});case x:return Object(b.a)({},e,{wallet:Object(b.a)({},e.wallet,{txHistory:n.wallet.txHistory,utxoList:n.wallet.utxoList}),pageInfo:Object(b.a)({},e.pageInfo,{checkedWallet:!0}),lastTimeStamp:Date.now()});case O:return Object(b.a)({},e,{domain:Object(b.a)({},n.domain),chain:{height:n.chain.height},pageInfo:Object(b.a)({},e.pageInfo,{checkedDomain:!0}),lastTimeStamp:Date.now()});case y:return Object(b.a)({},e,{pageInfo:Object(b.a)({},e.pageInfo,{current:n})});case k:return Object(b.a)({},e,{wallet:Object(b.a)({},B.wallet,{address:n.address,mnemonic:n.mnemonic,WIF:n.WIF}),pageInfo:Object(b.a)({},e.pageInfo,{checkedWallet:!1}),lastTimeStamp:Date.now()});case _:return Object(b.a)({},e,{alias:n.alias,domain:Object(b.a)({},B.domain,{},n.domain),chain:{height:n.chain.height},pageInfo:Object(b.a)({},e.pageInfo,{checkedDomain:!1,checkedLightSearch:!0}),lastTimeStamp:Date.now()});case w:return Object(b.a)({},e,{alias:n.alias,domain:Object(b.a)({},B.domain,{domainName:n.domainName,notificationAddress:n.notificationAddress}),pageInfo:Object(b.a)({},e.pageInfo,{checkedDomain:!1,checkedLightSearch:!1}),lastTimeStamp:Date.now()});case E:return Object(b.a)({},e,{alias:n,domain:B.domain,pageInfo:Object(b.a)({},e.pageInfo,{current:1,checkedDomain:!1,checkedLightSearch:!1}),lastTimeStamp:Date.now()});case N:return Object(b.a)({},e,{lastTimeStamp:Date.now()});case S:return Object(b.a)({},n,{lastTimeStamp:Date.now()});default:return console.warn("Unknown action type"),e}}var I=n(49),B={network:"testnet",alias:"satoshi",extension:".btc",domain:I.a.domain,wallet:{address:"",mnemonic:"",WIF:"",txHistory:[],utxoList:[]},chain:{height:0},pageInfo:{current:1,checkedDomain:!1,checkedWallet:!1,checkedLightSearch:!1},choices:{action:{},feeRate:1.1,txHex:"",embedString:"",embedBuffers:[]},api:{path:{bitcoin:"https://blockstream.info/api/",testnet:"https://blockstream.info/testnet/api/"},running:!1,tasks:[],rateLimit:4,processId:null},lastTimeStamp:Date.now()},T=r.a.createContext(B);var L=n(8),P=function(e){var t=e.domain.currentOwner;return e.domain.users[t]},W=function(e){return"testnet"===e.network?"tBTC":"BTC"},F=function(e){var t=(e/1e8).toFixed(8).split("");return t=[].concat(Object(L.a)(t.slice(0,-5)),["\xa0"],Object(L.a)(t.slice(-5))),(t=[].concat(Object(L.a)(t.slice(0,-2)),["\xa0"],Object(L.a)(t.slice(-2)))).join("")},R=n(4),D=n.n(R);function H(e,t){var n;Array.isArray(t)&&(n=t),"string"===typeof t&&(n=[t]);var a="",r=[];n.forEach((function(e){"numbers"===e&&(a+="0123456789"),"fractions"!==e&&"number"!==e||(a+="0123456789."),"decimal_point"===e&&(a+="."),"hex"===e&&(a+="0123456789abcdefABCDEF"),"lowcaps"===e&&(a+="abcdefghijklmnopqrstuvwxyz"),"highcaps"===e&&(a+="ABCDEFGHIJKLMNOPQRSTUVWYZ"),"spaces"===e&&(a+=" "),"base58"===e&&(a+="12345689ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),"basic"===e&&(a+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),"oneline"===e&&(a+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ,./-_!`~[]{}|@#%^&()-=?$"),"url"!==e&&"string"!==e||(a+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ:/?#[]@!$&'()*+,;=-_.~"),"no_spaces"===e&&r.push((function(e){return e.split("").filter((function(e){return" "!==e})).join("")})),"single_space_width"===e&&r.push((function(e){return e.split(/  */).join(" ")})),"decimal_point"===e&&r.push((function(e){return e.split(".").reduce((function(e,t,n){var a=0===n&&""===t?"0":t;return[e,a].join(1===n?".":"")}),"")})),"no_leading_zeros"===e&&r.push((function(e){return e.split(".").map((function(e,t){return 0===t?(parseInt(e,10)||0).toString():e})).join(".")}))})),0===a.length&&0===r.length&&console.warn("sanitize used w/o any known filters",t);var o="";return o=e.split("").filter((function(e){return a.indexOf(e)>-1})).join(""),r.forEach((function(e){return o=e(o)})),o}var U=h.TYPING,M=n(14);function z(e,t){if(""===e.network||""===e.address||e.network.startsWith("!"))return{render:!1};var n=e.network.split("!")[0];if("p2wsh"===n||"btc"===n||"p2pkh"===n||"p2wpkh"===n||"p2sh"===n)return{where:"btc:",what:e.address,link:"https://blockstream.info/".concat("testnet"===t?"testnet/":"","address/")+e.address,render:!0};if("?"===decodeURIComponent(n)){var a=decodeURIComponent(e.address).replace(">","").replace("<","");return{where:"stealth-address:",what:"".concat(a.slice(0,7),"...").concat(a.slice(-7)),link:void 0,render:!0}}return"http"===n||"https"===n||"url"===n||"web"===n||"forums"===n?{where:"https://",what:e.address,link:"https://"+e.address,render:!0}:"twitter"===n?{where:"twitter.com/",what:e.address,link:"https://twitter.com/"+e.address,render:!0}:"github"===n?{where:"github.com/",what:e.address,link:"https://github.com/"+e.address,render:!0}:"youtube"===n?{where:"youtu.be/",what:e.address,link:"https://www.youtube.com/watch?v="+e.address,render:!0}:"email"===n||"e-mail"===n?{where:"mailto:",what:e.address.replace("%40","@"),link:"mailto:"+e.address,render:!0}:{where:n+" :",what:" "+e.address,link:void 0,render:!0}}var J=n(70),q=n(3),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tx,n=void 0===t?void 0:t;return{status:function(){return Object(q.b)(n)},info:{describe:"Must have 2+ outputs"}}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tx,n=void 0===t?void 0:t;return{status:function(){return Object(q.A)(n)},info:{describe:"Must have OP_RETURN @ output[0]"}}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=e.tx,a=void 0===n?void 0:n;return{status:function(){return Object(q.z)(t,a)},info:{describe:"Must have notification address @ output[1]"}}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tx,n=void 0===t?void 0:t;return{status:function(){return Object(q.g)(n)},info:{describe:"Notification output amount must not be lower than the BNS minimum",set:{value:M.f,name:"Notification minimum",units:"satoshi"}}}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tx,n=void 0===t?void 0:t;return{status:function(){return Object(q.f)(n)},info:{describe:"Must burn (i.e. bid) at least the BNS minimum amount",set:{value:M.e,units:"satoshi",name:"Bid burn amount"}}}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st;return{status:function(){return!Object(q.i)(t)},info:{describe:"There must not be an existing owner"}}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st;return{status:function(){return Object(q.i)(t)},info:{describe:"There must be existing owner"}}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=e.tx,a=void 0===n?void 0:n;return{status:function(){return Object(q.c)(t,a)},info:{describe:"Tx must burn the last ownership winning burn amount",set:{value:Object(q.l)(t),name:"Bid burn amount",units:"satoshi"}}}},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=e.address,a=e.tx,r=void 0===a?void 0:a;return{status:function(){return r?Object(q.D)(t,r):Object(q.v)(t,n)},info:{describe:"User's address must match owner's address"}}},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st;return{status:function(){return Object(q.B)(t)},info:{describe:"Ownership must be expired at current parsed height"}}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=e.tx,a=void 0===n?void 0:n;return{status:function(){return Object(q.E)(t,a)},info:{describe:"There must not be any remaining notification address utxo created by sender"}}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=e.tx,a=void 0===n?void 0:n;return{status:function(){return Object(q.n)(t)!==Object(q.r)(a)},info:{describe:"Do not accidentally send from notification address at input[0]"}}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=e.command,a=e.tx,r=void 0===a?void 0:a;return{status:function(){return Object(q.y)(t,r,n)},info:{describe:"Checks forwards for a specific command issued at this height"}}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st;return{status:function(){return Object(q.x)(t)},info:{describe:"The bidding period must be over but not resolved"}}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.command;return{status:function(){return!0},info:{describe:"Submit your new address (forwards are kept)",get:{value:"",name:"Your new address"},command:t}}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.command;return{status:function(){return!0},info:{describe:"Submit new owner's address (forwards are not copied)",get:{value:"",name:"New owner's address"},command:t}}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=t?t.domain.bidding.bids.length>0?Math.ceil(Math.max.apply(Math,Object(L.a)(t.domain.bidding.bids.map((function(e){return e.value}))))*M.b):M.e:void 0;return{status:function(){return!0},info:{describe:"Submit your bid burn amount",get:{value:n||0,name:"Bid burn amount",min:n,units:"satoshi"}}}},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.st,n=e.address,a=void 0===n?void 0:n,r="Must refund all prior bids for bid to count as valid at the end of the bidding period. Refunds can be done separately or during the bid",o="";if(t){var i=a,s=Object(q.J)(t);for(var c in s)i&&c!==i&&(o+=s[c]+" "+c+"\n");o=o.slice(0,-1)}return""===o?{status:function(){return!0},info:{describe:r}}:{status:function(){return!0},info:{describe:r,type:g.c.REFUND_BIDDERS,get:{value:!1,name:"Refund now?"},set:{value:o,name:"Amount & address to refund",units:"satoshi address"}}}},ue=function(e){var t;return{status:function(){return!0},info:{describe:"Action not recommended for non-owners",warning:(null===(t=ee(e))||void 0===t?void 0:t.status())?void 0:"Useless unless you are the owner or will be owner in future"}}},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a={st:e,tx:n,address:t},r=g.a.BID_FOR_OWNERSHIP,o="Bid for ownership of a domain",i=[Z,ce,le],s=[V,Y,G,K,ne,ae,Q],c=e?function(){Object(q.a)(e,n,g.b.BURN)}:we;return{permissions:e?i.map((function(e){return e(a)})):i,conditions:e?s.map((function(e){return e(a)})):s,args:a,info:o,type:r,execute:c}},me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a="!ca",r={st:e,address:t,tx:n,command:a},o=g.a.CHANGE_ADDRESS,i="Update your ownership address",s=[ee,ie],c=[V,Y,G,K,ne,ae,re],l=e?function(){var t=Object(q.k)(e,n,a),r=null===t||void 0===t?void 0:t.address;if(r){Object(q.j)(e,r)||Object(q.e)(e,r);var o=Object(q.o)(e);Object(q.G)(e,r),Object(q.t)(e,r).winHeight=o.winHeight,Object(q.t)(e,r).winTimestamp=o.winTimestamp,Object(q.t)(e,r).burnAmount=o.burnAmount,Object(q.t)(e,r).forwards=JSON.parse(JSON.stringify(o.forwards)),o.winHeight=0,o.winTimestamp=0,o.burnAmount=0,console.log("ownership transfered from",o.address,"to",r)}else console.log("ownership transfer detected, but no address found")}:we;return{permissions:e?s.map((function(e){return e(r)})):s,conditions:e?c.map((function(e){return e(r)})):c,args:r,info:i,type:o,execute:l}},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a="!so",r={st:e,address:t,tx:n,command:a},o=g.a.SEND_OWNERSHIP,i="Give up ownership to another address",s=[ee,se],c=[V,Y,G,K,ne,ae,re],l=e?function(){var t=Object(q.k)(e,n,a),r=null===t||void 0===t?void 0:t.address;if(r){Object(q.j)(e,r)||Object(q.e)(e,r);var o=Object(q.o)(e);Object(q.G)(e,r),Object(q.t)(e,r).winHeight=o.winHeight,Object(q.t)(e,r).winTimestamp=o.winTimestamp,Object(q.t)(e,r).burnAmount=o.burnAmount,o.winHeight=0,o.winTimestamp=0,o.burnAmount=0,console.log("ownership transfered from",o.address,"to",r)}else console.log("ownership transfer detected, but no address found")}:we;return{permissions:e?s.map((function(e){return e(r)})):s,conditions:e?c.map((function(e){return e(r)})):c,args:r,info:i,type:o,execute:l}},fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a={st:e,address:t,tx:n},r=g.a.RENEW,o="Extend ownership of this domain",i=[ee],s=[V,Y,G,K,ne,ae,Q,$],c=e?function(){var t=Object(q.o)(e);t&&(t.winHeight=Object(q.q)(n)),t&&(t.winTimestamp=Object(q.s)(n)),console.log("".concat(e.domain.domainName," : ").concat(Object(q.q)(n)," height: owner extended ownership ").concat(null===t||void 0===t?void 0:t.address))}:we;return{permissions:e?i.map((function(e){return e(a)})):i,conditions:e?s.map((function(e){return e(a)})):s,args:a,info:o,type:r,execute:c}},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a={st:e,address:t,tx:n},r=g.a.ONLY_FORWARDS,o="Only update forwarding information",i=[ue],s=[V,Y,G,K,ne,ae],c=e?function(){Object(q.F)(e,n)}:we;return{permissions:e?i.map((function(e){return e(a)})):i,conditions:e?s.map((function(e){return e(a)})):s,args:a,info:o,type:r,execute:c}},ve=function(e){var t={st:e};return{info:"Existing ownerships that expire are removed",conditions:[X(t),te(t)],execute:function(){Object(q.d)(e),console.log(e.domain.domainName,Object(q.p)(e),"ownership expired")}}},be=function(e,t){return{info:"Update derivedUtxoList from new tx",conditions:[],execute:function(){Object(q.M)(e,t)}}},ge=function(e){var t={st:e};return{info:"Derive the new owner from bidding period",conditions:[Z(t),oe(t)],execute:function(){Object(q.h)(e),console.log("bidding period is over")}}},we=function(){},_e=function(e,t){[ve(e),t?be(e,t):void 0,ge(e)].forEach((function(e){e&&(e.conditions.reduce((function(e,t){return e&&t.status()}),!0)&&e.execute())}))},Ee=function(e,t,n,a){var r,o=JSON.parse(JSON.stringify(I.a));return o.domain.domainName=t,o.chain&&(o.chain.currentHeight=n),o.domain.notificationAddress=(null===(r=Object(J.a)(t,a))||void 0===r?void 0:r.notificationsAddress)||"",o.domain.txHistory=e.slice().reverse().filter((function(e){return Object(q.q)(e)>=M.d})).sort((function(e,t){return e.status.block_height-t.status.block_height})),o.domain.txHistory.forEach((function(e){Object(q.H)(o,Object(q.q)(e)),Object(q.L)(o,e),_e(o,e),function(e,t){[he(e,void 0,t),fe(e,void 0,t),de(e,void 0,t),pe(e,void 0,t),me(e,void 0,t)].forEach((function(e){var t=e.conditions.reduce((function(e,t){return e&&t.status()}),!0),n=e.permissions.reduce((function(e,t){return e&&t.status()}),!0);t&&n&&e.execute()}))}(o,e),Object(q.L)(o,e),Object(q.K)(o)})),Object(q.H)(o,n),_e(o,void 0),o},ke=function(e){var t=Object(L.a)(e).sort((function(e,t){return e.updateHeight-t.updateHeight})),n={};return t.forEach((function(e){var t=!e.network.startsWith("!"),a=!(""===e.network);t&&a&&(n[e.network]=e),""===e.address&&delete n[e.network]})),Object(L.a)(Object.values(n))},ye=function(e,t){for(var n,a=[he(null),fe(null),de(null),pe(null),me(null)],r=0;r<a.length;r++)if(e.startsWith(a[r].args.command)){n=a[r];break}if(n){for(var o,i=0;i<n.permissions.length;i++)if("get"in n.permissions[i]().info){console.log(n.permissions[i]()),o=n.permissions[i]().info.get.name;break}if(o)return{info:n.info,getterName:o,value:t}}},xe=n(47),Oe=function(e){return Object(xe.b)(e,"arbitrary key and iv seeding string").length},Ne=n(173),Se=function(e){return e.suggestions.filter((function(e){return"set"in e.info}))||[]},je=(n(174),n(10),n(71),n(32)),Ae=n.n(je),Ce=n(64),Ie=n.n(Ce);function Be(e,t){var n,a;return D.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t[e]+"fee-estimates",console.warn(n),r.prev=2,r.next=5,D.a.awrap(Ie.a.get(n));case 5:return a=r.sent,console.warn("Blockstream.info API getFeeEstimates",a.data),r.abrupt("return",a.data);case 10:throw r.prev=10,r.t0=r.catch(2),console.warn(r.t0),new Error("Blockstream.info API getFeeEstimates failed");case 14:case"end":return r.stop()}}),null,null,[[2,10]])}function Te(e,t){var n,a;return D.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t[e]+"blocks/tip/height",console.warn(n),r.prev=2,r.next=5,D.a.awrap(Ie.a.get(n));case 5:return a=r.sent,console.warn("Blockstream.info API getHeight",a.data),r.abrupt("return",a.data);case 10:throw r.prev=10,r.t0=r.catch(2),console.warn(r.t0),new Error("Blockstream.info API height get failed");case 14:case"end":return r.stop()}}),null,null,[[2,10]])}function Le(e,t,n){var a,r,o,i,s,c,l,u,d,m,p,f,h,b=arguments;return D.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(a=b.length>3&&void 0!==b[3]?b[3]:De,void 0!==e){g.next=3;break}throw new Error("undefined utxoList when addRawTxToArray was called");case 3:if(r="",0!==(null===e||void 0===e?void 0:e.length)){g.next=6;break}return g.abrupt("return",{utxoList:e,error:"no utxo"});case 6:o=0,i=Object.entries(e);case 7:if(!(o<i.length)){g.next=38;break}s=i[o],c=Object(v.a)(s,2),l=c[0],u=c[1],d=parseInt(l,10),m=2;case 14:if(!(m-- >0)){g.next=35;break}return g.prev=15,p=u.txid,f=n[t]+"tx/"+p+"/hex",console.warn(f),g.next=21,D.a.awrap(Ie.a.get(f));case 21:return h=g.sent,console.warn("Blockstream.info API addRawTxToArray:",d,"index utxo has raw hex of",h.data),e[d].hex=h.data,g.abrupt("break",35);case 27:g.prev=27,g.t0=g.catch(15),console.warn("fail detected",l,u,m,r,g.t0),r+=l+" ";case 31:return g.next=33,D.a.awrap(a());case 33:g.next=14;break;case 35:o++,g.next=7;break;case 38:return g.abrupt("return",{utxoList:e,erroredOutputs:r});case 39:case"end":return g.stop()}}),null,null,[[15,27]])}function Pe(e,t,n){var a,r;return D.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(void 0!==e&&""!==e){o.next=2;break}throw new Error("no address when getUTXOList called");case 2:return a=n[t]+"address/"+e+"/utxo",console.warn(a),o.prev=4,o.next=7,D.a.awrap(Ie.a.get(a));case 7:return r=o.sent,console.warn("Blockstream.info API getUTXOList",r.data),o.abrupt("return",r.data.filter((function(e){return e.status.confirmed})));case 12:throw o.prev=12,o.t0=o.catch(4),console.warn(o.t0),new Error("Blockstream.info API access failed");case 16:case"end":return o.stop()}}),null,null,[[4,12]])}function We(e,t,n){var a,r,o,i,s;return D.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(void 0!==e&&""!==e){c.next=2;break}throw new Error("no address when getAddressHistory called");case 2:a=25,r="",o=[],"/txs/chain/",i=n[t]+"address/"+e+"/txs/chain/",console.warn(i),c.prev=8;case 9:return c.next=11,D.a.awrap(Ie.a.get(i+r));case 11:if(s=c.sent,console.warn("blockstream.info API getAddressHistory",i+r,"\n",s.data),o.push.apply(o,Object(L.a)(s.data)),!(s.data.length>=a)){c.next=21;break}return r=s.data.slice(-1)[0].txid,console.log("Multiple pages of tx detected, lastTxid received is",r),c.next=19,D.a.awrap(De());case 19:c.next=22;break;case 21:r="";case 22:if(""!==r){c.next=9;break}case 23:return c.abrupt("return",o);case 26:throw c.prev=26,c.t0=c.catch(8),console.warn(c.t0),new Error("Blockstream.info API access failed");case 30:case"end":return c.stop()}}),null,null,[[8,26]])}function Fe(e,t,n){var a,r;return D.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(void 0!==e&&""!==e){o.next=2;break}throw new Error("no content when txPush called");case 2:return a=n[t]+"broadcast",o.prev=3,o.next=6,D.a.awrap(Ie.a.get(a,{params:{tx:e}}));case 6:return r=o.sent,console.warn("blockstream.info API txPush",r," Broadcasted on",t),o.abrupt("return",{txid:r.data});case 11:throw o.prev=11,o.t0=o.catch(3),console.warn("Failed pushtx",t,o.t0.response.data),new Error("Blockstream.info API access failed\n"+o.t0.response.data);case 15:case"end":return o.stop()}}),null,null,[[3,11]])}var Re,De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;return new Promise((function(t){return setTimeout(t,e)}))},He=h.SET_API,Ue=function(e,t,n){return D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise((function(a,r){var o={run:n,resolve:a,reject:r,timestamp:Date.now()},i=Object(b.a)({},e.api,{tasks:[].concat(Object(L.a)(e.api.tasks),[o])});t({type:He,payload:i})})));case 1:case"end":return a.stop()}}))},Me=h.STORE_SEARCH_RESULTS_FAIL,ze=h.STORE_SEARCH_RESULTS,Je=function(e,t){var n,a,r,o,i,s,c,l,u,d=arguments;return D.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if(n=d.length>2&&void 0!==d[2]?d[2]:void 0,a=e.alias+e.extension,r=e.api.path,e.alias){m.next=6;break}return console.log("lost alias"),m.abrupt("return",void 0);case 6:return o=Object(J.a)(a,e.network),i=o.notificationsAddress,m.prev=7,m.next=10,D.a.awrap(Ue(e,t,(function(){return Te(e.network,r)})));case 10:return s=m.sent,m.next=13,D.a.awrap(Ue(e,t,(function(){return We(i,e.network,r)})));case 13:c=m.sent,l=Ee(c,a,s,e.network),u=l.domain,t({type:ze,payload:{alias:e.alias,domain:u,chain:{height:s}}}),"#/"!==window.location.hash&&n.push("/"),m.next=24;break;case 19:m.prev=19,m.t0=m.catch(7),console.log("searchAction issue found:",m.t0),t({type:Me,payload:{alias:e.alias,domainName:a,notificationsAddress:i}}),"#/"!==window.location.hash&&n.push("/");case 24:case"end":return m.stop()}}),null,null,[[7,19]])},qe=n(33),Ve=h.NEW_WALLET,Ye=function(e,t){var n,a,r,o,i,s=arguments;return D.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:"",a=""===n?Object(qe.a)(e.network):Object(qe.d)(n,e.network),r=a.mnemonic,o=a.WIF,i=a.address,c.abrupt("return",t({type:Ve,payload:{mnemonic:r,WIF:o,address:i}}));case 3:case"end":return c.stop()}}))},Ge=h.CHANGE_PAGE_INFO,Ke=function(e,t,n){return D.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:Ge,payload:n}));case 1:case"end":return e.stop()}}))},Qe=h.UPDATE_WALLET,Ze=h.UPDATE_DOMAIN,Xe=h.ACTION_FAIL,$e=function(e,t,n){var a,r,o,i,s,c,l,u,d,m,p,f,h,v,b;return D.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(a=e.alias+e.extension,n!==Qe){g.next=24;break}return g.prev=2,r=e.wallet.address,g.next=6,D.a.awrap(Ue(e,t,(function(){return We(r,e.network,e.api.path)})));case 6:return o=g.sent,g.next=9,D.a.awrap(Ue(e,t,(function(){return Pe(r,e.network,e.api.path)})));case 9:return i=g.sent,g.next=12,D.a.awrap(Ue(e,t,(function(t){var n=t.delay;return Le(i,e.network,e.api.path,n)})));case 12:return s=g.sent,c=s.utxoList,(l=s.erroredOutputs)&&console.log("API had issues during hex utxo scan:",l),g.abrupt("return",t({type:Qe,payload:{wallet:{txHistory:o,utxoList:c}}}));case 19:return g.prev=19,g.t0=g.catch(2),console.log("Wallet address scan failed"),console.log(g.t0),g.abrupt("return",t({type:Xe,payload:{}}));case 24:if(n!==Ze){g.next=47;break}return g.prev=25,g.next=28,D.a.awrap(Ue(e,t,(function(){return Te(e.network,e.api.path)})));case 28:return u=g.sent,d=Object(J.a)(a,e.network),m=d.notificationsAddress,g.next=32,D.a.awrap(Ue(e,t,(function(){return We(m,e.network,e.api.path)})));case 32:return p=g.sent,f=Ee(p,a,u,e.network),h=f.domain,g.next=36,D.a.awrap(Ue(e,t,(function(t){var n=t.delay;return Le(h.derivedUtxoList,e.network,e.api.path,n)})));case 36:return v=g.sent,(b=v.erroredOutputs)&&console.log("API had issues during hex utxo scan:",b),g.abrupt("return",t({type:Ze,payload:{domain:h,chain:{height:u}}}));case 42:return g.prev=42,g.t1=g.catch(25),console.log("Notification address scan failed"),console.log(g.t1),g.abrupt("return",t({type:Xe,payload:{}}));case 47:throw new Error("unexpected address type");case 48:case"end":return g.stop()}}),null,null,[[2,19],[25,42]])},et=h.CHOICES_BNS_ACTION,tt=function(e,t,n){return D.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:et,payload:n}));case 1:case"end":return e.stop()}}))},nt=h.SET_API,at=function(e,t,n){return D.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:nt,payload:n}));case 1:case"end":return e.stop()}}))},rt=n(51),ot=n.n(rt),it=function(){var e=r.a.useContext(T).state,t=e.alias+e.extension,n=Object(c.g)(),o=Object(a.useState)(window.innerWidth),i=Object(v.a)(o,2),s=i[0],l=i[1];Object(a.useEffect)((function(){var e=function(){l(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var u=Math.min(Math.floor(1.1*s/t.length),Math.floor(1.1*s/15)),d={height:(.13*s+.4*u).toString()+"px"},m={marginTop:(.02*s-.1*u).toString()+"px"},p={fontSize:u.toString()+"px"};return r.a.createElement("div",{className:ot.a.wrapper},r.a.createElement("div",{className:ot.a.cutOverflow,style:d},r.a.createElement("div",{className:ot.a.bar,style:d})),r.a.createElement("div",{className:ot.a.domain,style:m,onClick:function(){n.push("/")}},r.a.createElement("span",{className:ot.a.alias,style:p},e.alias),r.a.createElement("span",{className:ot.a.ext,style:p},e.extension)),r.a.createElement("div",{className:ot.a.spacer}))},st=n(43),ct=n.n(st),lt=function(e){return r.a.createElement("div",Object.assign({style:{display:"false"===(null===e||void 0===e?void 0:e.show)?"none":"inline-block","--colorThisButton":e.colorbutton?e.colorbutton:"var(--colorBitcoinOrange)","--colorThisButtonText":e.colorbuttontext?e.colorbuttontext:"var(--colorButtonText)","--sizeButton":e.sizebutton?"calc(".concat(e.sizebutton,"/2.9 * var(--s))"):"calc(2.5/2.9 * var(--s))"}},e,{className:[ct.a.roundButtonWrap,e.back?ct.a.back:"",e.className].join(" ")}),r.a.createElement("div",{className:[ct.a.roundButton,e.back?ct.a.backArrowPad:void 0,e.next?ct.a.nextArrowPad:void 0].join(" ")},e.back&&r.a.createElement("div",{className:ct.a.backArrow}),e.children,e.next&&r.a.createElement("div",{className:ct.a.nextArrow}),r.a.createElement("div",{className:ct.a.overhead})))},ut=n(20),dt=n.n(ut),mt=n(65),pt=n.n(mt),ft=function(e){var t=r.a.useState("true"===(null===e||void 0===e?void 0:e.show)||!1),n=Object(v.a)(t,2),a=n[0],o=n[1];return r.a.createElement("div",{className:pt.a.wrapper},r.a.createElement("div",{className:pt.a.buttonWrapper,onClick:function(){o(!a)}},r.a.createElement("div",{className:pt.a.toggleDetails},e.title||e.description||"Show details"),r.a.createElement("div",{className:[pt.a.arrow,a?pt.a.down:""].join(" ")})),r.a.createElement("div",{className:pt.a.details,style:{display:a?"block":"none"}},e.children))};!function(e){e[e.ROOT=0]="ROOT",e[e.NEW_WALLET=1]="NEW_WALLET",e[e.LOAD_BACKUP=2]="LOAD_BACKUP"}(Re||(Re={}));var ht=function(){var e,t=r.a.useContext(T),n=t.state,o=t.dispatch,i=Object(a.useState)(Re.ROOT),s=Object(v.a)(i,2),c=s[0],l=s[1],u=Object(a.useState)(""),d=Object(v.a)(u,2),m=d[0],p=d[1],f=m.split(" ").filter((function(e){return""!==e})).length;return r.a.createElement("div",{className:dt.a.wrapper},r.a.createElement("div",{style:{display:c===Re.ROOT?"block":"none"}},r.a.createElement("div",{className:dt.a.title},n.wallet.address?r.a.createElement(r.a.Fragment,null,"Your ",r.a.createElement("span",{className:dt.a.orange},"BTC")," wallet for interacting",r.a.createElement("br",null),"with the domains"):r.a.createElement(r.a.Fragment,null,"Need a ",r.a.createElement("span",{className:dt.a.orange},"BTC")," wallet for interacting",r.a.createElement("br",null),"with the domains")),r.a.createElement("div",{className:dt.a.contentWrapper},r.a.createElement(ft,{description:"Explain"},r.a.createElement("p",null,r.a.createElement("span",null,"This wallet has the built-in unique functionality to create transactions with custom scripts, inputs, and outputs necessary for this application."),r.a.createElement("span",null,"The wallet's address is how users and owners of the domains are identified and should only be used for this purpose."),r.a.createElement("span",null,"1. BIP39 mnemonic is used from backup or generated"),r.a.createElement("span",null,"2. BIP32 master seed is derived from the mnemonic"),r.a.createElement("span",null,"3. Key pair is derived at the m/44'/0'/0'/0/0 path from master seed"),r.a.createElement("span",null,"4. The p2wpkh (pay-to-witness-public-key-hash) address is derived from key pair")))),r.a.createElement("div",{className:dt.a.buttonWrapper},r.a.createElement(lt,{show:n.wallet.mnemonic.length>0?"false":"true",onClick:function(){l(Re.NEW_WALLET),Ye(n,o)}},"I need a new wallet"),r.a.createElement(lt,{show:n.wallet.mnemonic.length>0?"true":"false",onClick:function(){l(Re.NEW_WALLET)}},"Current mnemonic"),r.a.createElement(lt,{onClick:function(){l(Re.LOAD_BACKUP)}},"Restore from backup"),r.a.createElement(lt,{show:(!!(null===(e=n.wallet)||void 0===e?void 0:e.address)).toString(),onClick:function(){Ke(0,o,2)},next:"true"},"Don't change wallet"))),r.a.createElement("div",{className:dt.a.title,style:{display:c===Re.NEW_WALLET?"inline-block":"none"}},"Randomly generated mnemonic backup for"," ",r.a.createElement("span",{className:dt.a.orange},"BTC")," wallet"),r.a.createElement("div",{className:dt.a.contentWrapper,style:{display:c===Re.NEW_WALLET?"flex":"none"}},r.a.createElement("div",{className:dt.a.describe},"Backup this private phrase or you will lose access!"),r.a.createElement("div",{id:"divBackup",spellCheck:!1,className:[dt.a.backup,"selectable"].join(" "),onClick:function(){}},n.wallet.mnemonic)),r.a.createElement("div",{className:dt.a.buttonWrapper,style:{display:c===Re.NEW_WALLET?"flex":"none"}},r.a.createElement(lt,{onClick:function(){l(Re.ROOT)},back:"true"},"Back"),r.a.createElement(lt,{onClick:function(){l(Re.NEW_WALLET),Ye(n,o)}},"New"),r.a.createElement(lt,{next:"true",onClick:function(){Ke(0,o,2)}},"I'm done with backup")),r.a.createElement("div",{style:{display:c===Re.LOAD_BACKUP?"block":"none"}},r.a.createElement("div",{className:dt.a.title},"Type or paste your backup here"),r.a.createElement("div",{className:dt.a.contentWrapper},f.toString()+" words now. 12 minimum."),r.a.createElement("textarea",{className:dt.a.restoreBackup,cols:30,rows:3,spellCheck:!1,placeholder:"mnemonic backup",onChange:function(e){var t=H(e.target.value.toLowerCase(),"lowcaps spaces single_space_width".split(" ")).trimLeft();p(t.trim()),e.target.value=t}}),r.a.createElement("div",{className:dt.a.buttonWrapper},r.a.createElement(lt,{onClick:function(){l(Re.ROOT)},back:"true"},"Back"),r.a.createElement(lt,{show:f>=12?"true":"false",next:"true",onClick:function(){Ye(n,o,m),Ke(0,o,2)}},"Done"))))},vt=n(22),bt=n.n(vt),gt=n(192),wt=n.n(gt),_t=function(){var e,t=r.a.useContext(T),n=t.state,o=t.dispatch,i=Object(a.useState)(),s=Object(v.a)(i,2),l=s[0],u=s[1];Object(a.useEffect)((function(){wt.a.toDataURL(n.wallet.address,{type:"image/jpeg",color:{dark:"#111133ff"}},(function(e,t){e||u(t)}))}),[n.wallet.address]);var d=Object(c.g)();return r.a.createElement("div",{className:bt.a.wrapper},r.a.createElement("div",{className:bt.a.title},"Fund your ",r.a.createElement("span",{className:bt.a.orange},"BTC")," wallet to interact with domains"),r.a.createElement("div",{className:bt.a.contentWrapper},r.a.createElement("div",{className:bt.a.imgQr},r.a.createElement("img",{src:l,alt:"QR Code"})),r.a.createElement("div",{className:[bt.a.address,"selectable"].join(" ")},n.wallet.address)),r.a.createElement("div",{className:bt.a.buttonWrapper},r.a.createElement("div",{className:bt.a.backAndReady},r.a.createElement(lt,{className:bt.a.button,back:"true",onClick:function(){Ke(0,o,1)}},"Back"),r.a.createElement(lt,{className:bt.a.button,next:"true",onClick:function(){Ke(0,o,3)}},"Ready")),r.a.createElement(lt,{className:bt.a.button,show:(!!(null===(e=n.wallet)||void 0===e?void 0:e.address)).toString(),onClick:function(){d.push("/wallet")},colorbutton:"var(--colorHighlightDark)"},"Withdraw"),r.a.createElement(lt,{className:bt.a.button,colorbutton:"var(--colorHighlightDark)",show:("testnet"===n.network).toString(),onClick:function(){window.open("https://bitcoinfaucet.uo1.net/","_blank")}},"Testnet faucet #1"),r.a.createElement(lt,{className:bt.a.button,colorbutton:"var(--colorHighlightDark)",show:("testnet"===n.network).toString(),onClick:function(){window.open("https://testnet-faucet.mempool.co/","_blank")}},"Testnet faucet #2"),r.a.createElement(lt,{className:bt.a.button,colorbutton:"var(--colorHighlightDark)",onClick:function(){var e="testnet"===n.network?"testnet/":"";window.open("https://blockstream.info/".concat(e,"address/").concat(n.wallet.address),"_blank")}},"Open explorer")))},Et=n(34),kt=n.n(Et),yt=function(){var e=r.a.useContext(T),t=e.state,n=e.dispatch,a=r.a.useState("ok"),o=Object(v.a)(a,2),i=o[0],s=o[1];r.a.useEffect((function(){s("ok")}),[t.lastTimeStamp]);var c=function(){return t.pageInfo.checkedDomain||t.pageInfo.checkedWallet?!t.pageInfo.checkedDomain&&t.pageInfo.checkedWallet?{isReady:!1,info:"Scan domain to move on"}:t.pageInfo.checkedDomain&&!t.pageInfo.checkedWallet?{isReady:!1,info:"Scan wallet to move on"}:t.pageInfo.checkedDomain&&t.pageInfo.checkedWallet?{isReady:!0,info:""}:{isReady:!1,info:"Unknown status"}:{isReady:!1,info:"Scan both to move on"}};return r.a.createElement("div",{className:kt.a.wrapper},r.a.createElement("div",{className:kt.a.title},"Must scan the domain and owner addresses"),r.a.createElement("div",{className:kt.a.domainInfo},"domain"!==i&&"Domain "+(t.pageInfo.checkedDomain?"\u2713":"needs scan"),"domain"===i&&"Domain scanning..."),r.a.createElement("div",{className:kt.a.domainButton},r.a.createElement(lt,{onClick:function(){"ok"===i&&(s("domain"),$e(t,n,h.UPDATE_DOMAIN))}},"API Scan")),r.a.createElement("div",{className:kt.a.walletInfo},"wallet"!==i&&"Wallet "+(t.pageInfo.checkedWallet?"\u2713":"needs scan"),"wallet"===i&&"Wallet scanning..."),r.a.createElement("div",{className:kt.a.walletButton},r.a.createElement(lt,{onClick:function(){"ok"===i&&(s("wallet"),$e(t,n,h.UPDATE_WALLET))}},"API Scan")),r.a.createElement("div",{className:kt.a.unspent},r.a.createElement("div",{className:kt.a.balance},t.pageInfo.checkedWallet?(Object(qe.c)(t.wallet.utxoList)/1e8).toFixed(8):"n/a"),"testnet"===t.network?" tBTC":" BTC"),r.a.createElement("div",{className:kt.a.ownership},c().info),r.a.createElement("div",{className:kt.a.buttonWrapper},r.a.createElement(lt,{back:"true",onClick:function(){Ke(0,n,2)}},"Back"),r.a.createElement(lt,{show:c().isReady?"true":"false",next:"true",onClick:function(){Ke(0,n,4)}},"Ready")))},xt=n(24),Ot=n(21),Nt=n.n(Ot),St=n(52),jt=n.n(St),At=function(e){var t=r.a.useState(),n=Object(v.a)(t,2),a=n[0],o=n[1];return void 0===a&&e.thisInputOnChange&&e.thisInputOnChange({target:{value:e.thisInitialValue||""}}),r.a.useEffect((function(){o(e.thisInitialValue||"")}),[e.thisInitialValue]),r.a.createElement("div",{className:[jt.a.wrapper,e.className].join(" "),style:e.style},r.a.createElement("div",{className:jt.a.shiftRight},r.a.createElement("aside",{className:jt.a.label},e.thisInputLabel||""),r.a.createElement("textarea",{className:jt.a.textarea,spellCheck:!1,value:a,onChange:function(t){var n=H(t.target.value,e.sanitizeFilters||["oneline"]);o(n),t.target.value=n,e.thisInputOnChange&&e.thisInputOnChange(t)}}),r.a.createElement(lt,{className:[jt.a.button,"false"===e.showButton?jt.a.invisible:""].join(" "),next:"true",onClick:function(t){e.thisSubmitButtonOnClick&&e.thisSubmitButtonOnClick(a)}},"OK"),!!e.showBonusInformation&&r.a.createElement("div",{className:jt.a.bonusInformation},e.children)))},Ct=n(66),It=n.n(Ct),Bt=function(e){var t=r.a.useState(),n=Object(v.a)(t,2),a=n[0],o=n[1],i=[{value:!0,display:"yes",do:function(){console.log("default true chosen")}},{value:!1,display:"no",do:function(){console.log("default false chosen")}}],s=e.choices||i;if(void 0===a){var c=e.initialIndex||0;o(c);var l=s[c].value;console.log(c,l,s),s[c].do&&s[c].do(l)}return r.a.createElement("div",{className:[It.a.wrapper,e.className].join(" ")},r.a.createElement("div",{className:It.a.shiftRight},r.a.createElement("div",{className:It.a.label},e.thisInputLabel||""),r.a.createElement("div",{className:It.a.choiceArea},s.map((function(t,n){return r.a.createElement("div",{key:n,className:[It.a.choice,a===n?It.a.selected:""].join(" "),onClick:function(a){o(n),t.do&&t.do(t.value),e.onClick&&e.onClick(a),console.log("",t.display||String(t.value),"chosen")}},t.display||String(t.value))})))))},Tt=function(){var e=r.a.useContext(T),t=e.state,n=e.dispatch,a=r.a.useState(),o=Object(v.a)(a,2),i=o[0],s=o[1],c=r.a.useState(),l=Object(v.a)(c,2),u=l[0],d=l[1];if(!u){var m=Ee(t.domain.txHistory,t.domain.domainName,t.chain.height,t.network);d(function(e,t){console.log("currentOwnerRenewAction running:");var n=[he(e,t),fe(e,t),de(e,t),pe(e,t),me(e,t)],a=[];return n.forEach((function(e){var t=[];e.permissions.forEach((function(e){var n=e.status();t.push(Object(b.a)({isAllowed:n},e))}));var n=[];e.permissions.forEach((function(e){n.push(e)})),e.conditions.forEach((function(e){n.push(e)})),a.push({type:e.type,info:e.info,isUsable:t.every((function(e){return e.isAllowed})),permissionList:t,suggestions:n})})),a}(m,t.wallet.address))}var p=function(e){var n=e.info.get,a=t.network,r=n.units,o=n.min,i=typeof n.value;if("number"===i){var s=o?"satoshi"===r?o/1e8:o:0,c="testnet"===a?"tBTC":"BTC",l="satoshi"===r?n.value/1e8:n.value;return{value:n.value,btcMin:""+s,btcMinFull:s.toFixed(8),type:i,units:r,btcUnits:c,btcValue:l,btcValueFull:l.toFixed(8)}}return{type:i,value:n.value}};r.a.useEffect((function(){if(!i){var e={};u&&u.forEach((function(t){e[t.info]={show:!1}})),s(e)}}),[u,i]);return r.a.createElement("div",{className:Nt.a.wrapper},r.a.createElement("div",{className:Nt.a.title},"Available ",r.a.createElement("span",{className:Nt.a.orange},"BNS")," ",r.a.createElement("br",null),"actions"),r.a.createElement("div",{className:Nt.a.availableActions},!!u&&u.map((function(e){if(e.isUsable){if(e.suggestions.some((function(e){return e.info.warning})))return"";var a=function(e){return e.suggestions.filter((function(e){return"get"in e.info}))||[]}(e),o=a.length>0||Se(e).length>0;return r.a.createElement("div",{key:e.info},r.a.createElement(lt,{next:o?void 0:"true",onClick:function(){if(o){if(i){var t=i[e.info].show;s(Object(b.a)({},i,Object(xt.a)({},e.info,{show:!t})))}}else tt(0,n,{action:JSON.parse(JSON.stringify(e))}),Ke(0,n,5)}},e.info,o?r.a.createElement(r.a.Fragment,null,"\xa0..."):""),i&&i[e.info].show&&r.a.createElement(r.a.Fragment,null,a.map((function(t){if("boolean"===typeof t.info.get.value){var n=function(n){console.log("updated boolean:",n),u.find((function(t){return t.type===e.type})).suggestions.find((function(e){return e.info.describe===t.info.describe})).info.get.value=n,d(Object(L.a)(u))};return r.a.createElement(Bt,{key:t.info.describe,thisInputLabel:t.info.describe+": \n  "+t.info.get.name,initialIndex:t.info.get.value?1:0,choices:[{value:!1,display:"No",do:n},{value:!0,display:"Yes",do:n}]})}return r.a.createElement(At,{key:t.info.describe,showButton:"false",className:Nt.a.inputForms,thisInputLabel:t.info.describe+(t.info.get.min?"\n(at least "+p(t).btcMinFull+" "+p(t).btcUnits+" to get a winning "+"valid bid )".replace(/ /g,"\xa0"):""),thisInitialValue:"number"===typeof t.info.get.value?p(t).btcValueFull:t.info.get.value,sanitizeFilters:[typeof t.info.get.value],thisInputOnChange:function(n){var a;"number"===typeof t.info.get.min||"number"===typeof t.info.get.value?(a=H(n.target.value,["no_spaces","fractions","no_leading_zeros","decimal_point"]),a="satoshi"===t.info.get.units?Math.round(1e8*parseFloat(a)):Math.round(parseFloat(a))):a=H(n.target.value,["basic","no_spaces"]),u.find((function(t){return t.type===e.type})).suggestions.find((function(e){return e.info.describe===t.info.describe})).info.get.value=a,d(Object(L.a)(u)),console.log("Updated suggestionToGet.info.get:",t.info.get)}})})),Se(e).length>0&&r.a.createElement(ft,{description:"Details...",show:"false"},r.a.createElement("p",null,Se(e).map((function(e,n){var a=e.info.describe||"",o=e.info.set.name||"";return r.a.createElement("span",{key:a},n+1,". ",a,": ","\n",function(e,n){for(var a=e.info.set,o=e.info.set.value,i=[""],s=String(o).split(/ |\n/),c=a.units.split(" "),l=0;l<s.length;l++){var u=s[l],d=c[l%c.length];l%c.length===0&&0!==l&&(i=[].concat(Object(L.a)(i),["\n"])),l%c.length===0&&n.bullets&&(i=[].concat(Object(L.a)(i),[" + "])),isNaN(Number(u))?n.strings&&(i=[].concat(Object(L.a)(i),[" "],Object(L.a)(n.strings(u)),[" "])):(n.btcValueFull&&(i=[].concat(Object(L.a)(i),"satoshi"===d?[(parseInt(u,10)/1e8).toFixed(8)]:[parseFloat(u).toFixed(8)])),n.btcUnits&&(i=[].concat(Object(L.a)(i),["testnet"===t.network?" tBTC":" BTC"])))}return r.a.createElement(r.a.Fragment,null,i)}(e,{btcValueFull:!0,btcUnits:!0,bullets:!0,strings:function(e){return["for ",r.a.createElement("span",{key:a+e,className:Nt.a.breakable},e)]}})," "+("("+o+")").replace(/ /g,"\xa0"))}))))),i&&i[e.info].show&&r.a.createElement(lt,{className:Nt.a.okButton,next:"true",onClick:function(){tt(0,n,{action:e}),Ke(0,n,5)}},"OK"))}return""}))),r.a.createElement("div",{className:Nt.a.unavailableActions},r.a.createElement(ft,{description:"Show unavailable actions",className:Nt.a.unavailableActions__title},r.a.createElement("div",{className:Nt.a.unavailableActions__actionList},!!u&&u.map((function(e){return e.isUsable?"":r.a.createElement("div",{className:Nt.a.unavailableActions__actionList__action,key:e.info},r.a.createElement("div",{className:Nt.a.unavailableActions__actionList__action__title},e.info),r.a.createElement("div",{className:Nt.a.unavailableActions__actionList__action__permissionList},e.permissionList.map((function(e){return e.isAllowed?"":r.a.createElement("div",{className:Nt.a.unavailableActions__actionList__action__permissionList__permission,key:e.info.describe},"- ",e.info.describe)}))))}))))),r.a.createElement("div",{className:Nt.a.buttonWrapper},r.a.createElement(lt,{back:"true",onClick:function(){Ke(0,n,3)}},"Back")))},Lt=n(15),Pt=n.n(Lt),Wt=function(){var e,t=r.a.useContext(T),n=t.state,a=t.dispatch,o=r.a.useState({network:"",address:""}),i=Object(v.a)(o,2),s=i[0],c=i[1],l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";Object.keys(e).forEach((function(n){var a=e[n];t+=n+" "+a+" "}));var r=(t=t.slice(0,-1))!==n.choices.embedString;r&&tt(0,a,{embedString:t})},u=function(){var e=n.choices.embedString,t=function(){var e=n.choices.action,t="";return e.suggestions.forEach((function(e){"command"in e.info&&(t+=e.info.command+" ",t+=e.info.get.value+" ")})),t=t.slice(0,-1)}();return(e+(""===t||""===e?"":" ")+t).split(" ").reduce((function(e,t,n,a){return n%2===1?Object(b.a)({},e,Object(xt.a)({},a[n-1],t)):e}),{})};""===n.choices.embedString&&l(u());var d=ke((null===(e=P(n))||void 0===e?void 0:e.forwards)||[]).reverse(),m=Oe(n.choices.embedString)+n.choices.embedBuffers.reduce((function(e,t){return e+t.network.length+t.address.length+1}),0),p=M.a-m,f=p<0,h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{embededBuffer:null},o=t.embededBuffer,i=o?"".concat(o.address.length," bytes long"):u()[e],s=o?o.network.length+1+o.address.length:Oe(e+" "+i),d=r.a.createElement("i",null," ","(",s,"-",s+1,"B)"),m=function(){if(e.startsWith("!")){var t=ye(e,i);return{content:r.a.createElement(r.a.Fragment,null,t?r.a.createElement(r.a.Fragment,null,'"',t.info,'" user action. ',t.getterName," is set to"," ",r.a.createElement("span",null,t.value),"."):"User action",d),allowRemoval:!1}}if(o&&"?"===e){var n=Ae.a.encode(o.address);return{content:r.a.createElement(r.a.Fragment,null,"Updating ",r.a.createElement("span",null,"stealth address")," to an address",r.a.createElement("span",null," "+n.slice(0,7)+"..."+n.slice(-7)+" "),d),allowRemoval:!0}}return""!==i?{content:r.a.createElement(r.a.Fragment,null,"Updating forwarding on ",r.a.createElement("span",null," "+e+" "),"network to an address of ",r.a.createElement("span",null," "+i+" "),d),allowRemoval:!0}:""===i?{content:r.a.createElement(r.a.Fragment,null,"Deleting previously set forwarding information for",r.a.createElement("span",null," "+e+" ")," network",d),allowRemoval:!0}:{content:""}};return r.a.createElement("div",{className:Pt.a.updateItem,key:e,onClick:function(){e.startsWith("!")||o||c({network:e,address:String(i)})}},r.a.createElement("div",{className:Pt.a.updateInfo},m().content),m().allowRemoval&&r.a.createElement("div",{className:["btnCircle",Pt.a.updateCancel,"addTooltipRight"].join(" "),onClick:function(t){if(o){var r=n.choices.embedBuffers.filter((function(e){return o.network!==e.network}));tt(0,a,{embedBuffers:r})}else{var i=Object(b.a)({},u());delete i[e],l(i)}t.stopPropagation()}},r.a.createElement("span",null,"\xd7"),r.a.createElement("aside",null,"Remove from planned changes")))};return console.log("bytes to embed",m),r.a.createElement("div",{className:Pt.a.wrapper},r.a.createElement("div",{className:Pt.a.title},"Update forwarding information"),r.a.createElement("div",{className:Pt.a.subtitle},"BNS action: ",n.choices.action.info),r.a.createElement("div",{className:Pt.a.changes},0===n.choices.embedString.length&&0===n.choices.embedBuffers.length?"no forwarding updates":"planned forwarding updates",!f&&r.a.createElement("div",{className:Pt.a.bytesLeft},p," Bytes left"),f&&r.a.createElement("div",{className:Pt.a.bytesOver},"Too much by ",Math.abs(p)," Bytes"),Object.keys(u()).map((function(e){return h(e)})),n.choices.embedBuffers.map((function(e){return h(e.network,{embededBuffer:e})}))),r.a.createElement("div",{className:Pt.a.editor},s.network.length>0&&r.a.createElement("div",{className:[Pt.a.btnDelete,"canPress"].join(" "),onClick:function(){l(Object(b.a)({},u(),Object(xt.a)({},s.network,""))),c({network:"",address:""})}},"delete old"),r.a.createElement("div",{className:Pt.a.editorNetwork},r.a.createElement("aside",null,"Network"),r.a.createElement("textarea",{spellCheck:!1,value:s.network,placeholder:"e.g. btc",onChange:function(e){var t=H(e.target.value,["oneline","no_spaces"]);c(Object(b.a)({},s,{network:t}))}})),r.a.createElement("div",{className:Pt.a.editorAddress},r.a.createElement("aside",null,"Forwarding address"),r.a.createElement("textarea",{spellCheck:!1,value:s.address,placeholder:"e.g. your btc address",onChange:function(e){var t=H(e.target.value,["oneline","no_spaces"]);c(Object(b.a)({},s,{address:t})),console.log("forwarding sanitized:",'"'+t+'"')}})),r.a.createElement("div",{className:["btnCircle",Pt.a.btnAdd,"canPress","addTooltip"].join(" "),onClick:function(){""!==s.network&&(l(Object(b.a)({},u(),Object(xt.a)({},s.network,s.address))),c({network:"",address:""}))}},r.a.createElement("span",null,"+"),r.a.createElement("aside",null,"Add to planned changes"))),r.a.createElement("div",{className:Pt.a.pastList},r.a.createElement(ft,{description:"Current forwards (expand for info):"},r.a.createElement("p",null,"Enter the forwarding addresses you want to use (e.g. long bitcoin address) and specify on which network that address should be used (e.g. btc) when someone wants to reach you after looking up your domain alias.",r.a.createElement("br",null),r.a.createElement("br",null),"Submit new updates by hitting [+] button. Remove updates by hitting [x] buttons.",r.a.createElement("br",null),r.a.createElement("br",null),"Below, the currently active forwarding addresses are shown, if any.",r.a.createElement("br",null),r.a.createElement("br",null),"Edit them by reusing the exact same network or remove by setting forwarding address to nothing or hitting [delete old] button under network name text.")),d.map((function(e,t){return r.a.createElement("div",{className:Pt.a.pastPair,key:t,onClick:function(){c({network:e.network,address:e.address})}},r.a.createElement("div",{className:Pt.a.pastNetwork},e.network),r.a.createElement("div",{className:Pt.a.pastAddress},e.address))}))),r.a.createElement("div",{className:Pt.a.buttonWrapper},r.a.createElement(lt,{back:"true",onClick:function(){Ke(0,a,4)}},"Back"),r.a.createElement(lt,{next:"true",show:m>M.a?"false":"true",onClick:function(){Ke(0,a,6)}},"Ready"),!n.choices.embedBuffers.some((function(e){return"?"===e.network}))&&!1))},Ft=n(31),Rt=n.n(Ft),Dt=n(53),Ht=n.n(Dt),Ut=function(){var e=r.a.useContext(T),t=e.state,n=e.dispatch,a=r.a.useState(t.choices.feeRate),o=Object(v.a)(a,2),i=o[0],s=o[1],c=r.a.useState({showSuggestions:!1,apiSuccess:!1,min20:1,min40:1,min60:1}),l=Object(v.a)(c,2),u=l[0],d=l[1];return r.a.createElement("div",{className:Ht.a.fees},r.a.createElement("div",{className:Ht.a.fees__rate},r.a.createElement("aside",null,"Fee rate (sat / vByte):"),r.a.createElement("textarea",{spellCheck:!1,value:i,placeholder:"e.g. 1.2",onChange:function(e){var t=H(e.target.value,["numbers","decimal_point","no_leading_zeros"]);s(t);var a=parseFloat(t);tt(0,n,{feeRate:a})}})),r.a.createElement("div",{className:Ht.a.fees__apicall},r.a.createElement(lt,{onClick:function(){!function(){var e;D.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(u.apiSuccess){a.next=12;break}return a.prev=1,a.next=4,D.a.awrap(Ue(t,n,(function(){return Be(t.network,t.api.path)})));case 4:e=a.sent,d({min20:e[2],min40:e[4],min60:e[6],apiSuccess:!0,showSuggestions:!0}),a.next=10;break;case 8:a.prev=8,a.t0=a.catch(1);case 10:a.next=13;break;case 12:d(Object(b.a)({},u,{showSuggestions:!u.showSuggestions}));case 13:case"end":return a.stop()}}),null,null,[[1,8]])}()}},"Check online"),u.showSuggestions&&r.a.createElement("div",{className:Ht.a.fees__feeSelection},r.a.createElement("div",{className:Ht.a.fees__feeSelection__choice,onClick:function(){s(u.min20),tt(0,n,{feeRate:u.min20}),d(Object(b.a)({},u,{showSuggestions:!1}))}},"< ","20 min ( ",u.min20.toFixed(1)," sat / vByte )"),r.a.createElement("div",{className:Ht.a.fees__feeSelection__choice,onClick:function(){s(u.min40),tt(0,n,{feeRate:u.min40}),d(Object(b.a)({},u,{showSuggestions:!1}))}},"< ","40 min ( ",u.min40.toFixed(1)," sat / vByte )"),r.a.createElement("div",{className:Ht.a.fees__feeSelection__choice,onClick:function(){s(u.min60),tt(0,n,{feeRate:u.min60}),d(Object(b.a)({},u,{showSuggestions:!1}))}},"< ","60 min ( ",u.min60.toFixed(1)," sat / vByte )"))))},Mt=function(){var e,t,n=r.a.useContext(T),a=n.state,o=n.dispatch,i="";try{t=Object(Ne.a)(a.wallet,a.domain,a.choices,a.network)}catch(h){(i=String(h.message)).endsWith("has no matching Script")&&(i+=" \n(address provided seems invalid)"),console.log("error details if necessary:",h)}var s=a.choices.embedString.split(" ").reduce((function(e,t,n){return n%2===1?e+1:e}),0),c=r.a.useState({ok:!1,txid:"123",reason:""}),l=Object(v.a)(c,2),u=l[0],d=l[1],m="testnet"===a.network?" tBTC ":" BTC ",p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:Rt.a.balance},(e/1e8).toFixed(8)),m)},f=t?Math.max(t.gatheredFromWallet-t.change,0):void 0;return r.a.createElement("div",{className:Rt.a.wrapper},r.a.createElement("div",{className:Rt.a.title},"Finalize transaction details"),r.a.createElement("div",{className:Rt.a.fees},r.a.createElement(Ut,null)),r.a.createElement("div",{className:Rt.a.totalCost},t?r.a.createElement(r.a.Fragment,null,"Your final cost: ",p(f)):" "),r.a.createElement("div",{className:Rt.a.txSummary},!!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Action:"),r.a.createElement("td",null,a.choices.action.info)),r.a.createElement("tr",null,r.a.createElement("td",null,"Updates:"),r.a.createElement("td",null,s)),r.a.createElement("tr",null,r.a.createElement("td",null,"Wallet:"),r.a.createElement("td",null,r.a.createElement("p",null,p(Object(qe.c)(a.wallet.utxoList))," total across ",a.wallet.utxoList.length," utxo"))),r.a.createElement("tr",null,r.a.createElement("td",null,"Inputs:"),r.a.createElement("td",null,r.a.createElement("p",null,p(t.gatheredFromWallet)," from"," ",t.nInputsFromWallet," wallet utxo"),r.a.createElement("p",null,p(t.gatheredFromOther)," from"," ",t.nInputsFromOther," notification utxo"),r.a.createElement("p",null,p(t.totalGathered)," total (",t.nInputsFromWallet+t.nInputsFromOther," inputs)"))),r.a.createElement("tr",null,r.a.createElement("td",null,"Outputs:"),r.a.createElement("td",null,r.a.createElement("p",null,"Burning ",p(t.burnAmount)," at #0"),r.a.createElement("p",null,"Sending ",p(t.notifyAmount)," at #1 (notification)"),r.a.createElement("p",null,"Change of ",p(t.change)," sent back at #2"),r.a.createElement("p",null,"Refunds of ",p(t.refundsAmount)," total"),r.a.createElement("p",null,p(t.totalGathered-t.fee)," total (",t.nOutputs," outputs)"))),r.a.createElement("tr",null,r.a.createElement("td",null,"Miner fee:"),r.a.createElement("td",null,r.a.createElement("p",null,p(t.fee)," (",(t.fee/t.valueNeeded*100).toFixed(1),"%)"))),r.a.createElement("tr",null,r.a.createElement("td",null,"Size:"),r.a.createElement("td",null,t.thisVirtualSize," vBytes")),r.a.createElement("tr",null,r.a.createElement("td",null,"Cost:"),r.a.createElement("td",null,r.a.createElement("p",null,"+ Transaction requires ",p(t.valueNeeded)),r.a.createElement("p",null,"- Using ",p(t.gatheredFromOther)," from anyone-can-spend utxo"))),r.a.createElement("tr",null,r.a.createElement("td",null,"Net user cost:"),r.a.createElement("td",null,p(t.gatheredFromWallet-t.change))))))),!t&&r.a.createElement("div",{className:Rt.a.txSummary},"calculation failed ",r.a.createElement("br",null),i)),r.a.createElement("div",{className:Rt.a.status},u.ok?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[Rt.a.status__button,"canPress"].join(" "),onClick:function(){var e="https://blockstream.info/"+"".concat("testnet"===a.network?"testnet/":"","tx/")+"".concat(u.txid);window.open(e,"_blank")}},"Success! Open in explorer")):u.reason.length>0?r.a.createElement("div",{className:Rt.a.status__failed},u.reason):""),r.a.createElement("div",{className:Rt.a.buttonWrapper},r.a.createElement(lt,{back:"true",onClick:function(){Ke(0,o,5)}},"Back"),r.a.createElement(lt,{show:""!==(null===(e=t)||void 0===e?void 0:e.hex)?"true":"false",onClick:function(){var e;return D.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t||!t.hex){n.next=13;break}return n.prev=1,n.next=4,D.a.awrap(Ue(a,o,(function(){return Fe(t.hex,a.network,a.api.path)})));case 4:e=n.sent,d({ok:!0,txid:e.txid,reason:""}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),d({ok:!1,txid:"",reason:n.t0.message});case 11:n.next=14;break;case 13:d({ok:!1,txid:"",reason:""});case 14:case"end":return n.stop()}}),null,null,[[1,8]])}},"Broadcast")))},zt=n(91),Jt=n.n(zt),qt=function(){var e,t=null===(e=r.a.useContext(T).state.pageInfo)||void 0===e?void 0:e.current;return!t&&console.log("Unknown Page"),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:[Jt.a.wrapper].join(" ")},r.a.createElement(it,null),r.a.createElement("div",{className:[Jt.a.scroller,"scrollbar"].join(" ")},r.a.createElement("div",{className:[Jt.a.horizontalScaler].join(" ")},1===t&&r.a.createElement(ht,null),2===t&&r.a.createElement(_t,null),3===t&&r.a.createElement(yt,null),4===t&&r.a.createElement(Tt,null),5===t&&r.a.createElement(Wt,null),6===t&&r.a.createElement(Mt,null)))))};function Vt(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(qt,null))}var Yt=n(17),Gt=n.n(Yt);function Kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=e-t,a=n<=0;n=Math.abs(n);var r=Math.floor(n/864e5);n-=864e5*r;var o=Math.floor(n/36e5)%24;n-=36e5*o;var i=Math.floor(n/6e4)%60;return{dhm:"".concat(r," days ").concat(o," hours ").concat(i," min"),dh:"".concat(r," days ").concat(o," hours"),isExpired:a,msDiff:n,timestampMsec:e,referenceTimestampMsec:t}}var Qt=function(){var e=r.a.useContext(T).state,t={isExpired:!0,dh:"",msDiff:0},n=P(e);n&&(t=Kt(10*(n.winHeight+M.g-e.chain.height)*60*1e3,0));var a,o="testnet"===e.network?" tBTC ":" BTC ",i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:Gt.a.balance},(e/1e8).toFixed(8)),o)},c=r.a.createElement("span",{className:[Gt.a.breakable,Gt.a.linkable].join(" "),key:"notify1",onClick:function(){var t="testnet"===e.network?"testnet/":"";window.open("https://blockstream.info/".concat(t,"address/").concat(e.domain.notificationAddress),"_blank")}},e.domain.notificationAddress),l=0,u=n?[[["Owner"],[[(a=n.address,r.a.createElement("span",{className:[Gt.a.breakable,Gt.a.linkable].join(" "),key:a+l++,onClick:function(){var t="testnet"===e.network?"testnet/":"";window.open("https://blockstream.info/".concat(t,"address/").concat(a),"_blank")}},a))]]],[["Notifications"],[[c]]],[["Ownership extended"],[[n.winHeight+" block height"],[new Date(1e3*n.winTimestamp).toUTCString()],[Kt(1e3*n.winTimestamp).dh+" ago"],[r.a.createElement(r.a.Fragment,{key:"ownership1"},i(n.burnAmount)," winning bid")]]],[["Ownership expires"],[[n.winHeight+M.g+" block height"],["\u2248 "+new Date(1e3*(10*M.g*60+n.winTimestamp)).toUTCString()],["in \u2248 "+t.dh]]]]:[],d=function(e){var t=e.domain.bidding;return{isBurn:t.type===g.b.BURN,bidding:t}}(e),m=d.isBurn,p=d.bidding,f=m?[[["Owner"],[["Owner will be determined when bidding period ends"]]],[["Notifications"],[[c]]],[["Bidding start"],[[p.startHeight+" block height"],[new Date(1e3*p.bids[0].timestamp).toUTCString()],[Kt(1e3*p.bids[0].timestamp).dh+" ago"]]],[["Bidding ends"],[[p.endHeight+" block height"],["\u2248 "+new Date(1e3*p.bids[0].timestamp+10*M.c*60*1e3).toUTCString()],["in \u2248 "+Kt(1e3*p.bids[0].timestamp+10*M.c*60*1e3).dh]]],[["Bidders"],Object(L.a)(p.bids.map((function(e,t){return[r.a.createElement(r.a.Fragment,{key:"bidding"+t},i(e.value)," burned by"," ",r.a.createElement("span",{className:Gt.a.breakable},e.address))]})))]]:[],h=[[["Owner"],[["No owner. No bids."]]],[["Notifications"],[[c]]]],v=function(e,t){return 0===e.length?"":r.a.createElement("div",{className:Gt.a.ownershipDetails},r.a.createElement(ft,{description:t},r.a.createElement("table",null,r.a.createElement("tbody",null,e.map((function(e,t){return r.a.createElement("tr",{key:e[0][0]},r.a.createElement("td",null,e[0][0]),r.a.createElement("td",null,e[1].map((function(e,n){return r.a.createElement("p",{key:[t,n].join(" ")},e)}))))}))))))},b=n?ke(n.forwards):[];return r.a.createElement("div",{className:Gt.a.wrapper},r.a.createElement("div",{className:Gt.a.matches},r.a.createElement("div",null,e.domain.txHistory.length," transaction",1===e.domain.txHistory.length?"":"s"," found on"," ",e.network),r.a.createElement("div",null,b.length," current forward",1===b.length?"":"s")),r.a.createElement("div",{className:[Gt.a.scrollbars,"scrollbar"].join(" ")},r.a.createElement("div",{className:Gt.a.listContainer},r.a.createElement("div",{className:Gt.a.describe},!!m&&v(f,"Bidding period domain details"),!m&&!n&&v(h,"Unowned domain details"),!!n&&v(u,"Owned domain details")),b.map((function(e){var t=z(e);return t.render?r.a.createElement("a",{key:e.network,className:Gt.a.listItem,href:(null===t||void 0===t?void 0:t.link)||void 0,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:Gt.a.key},t.where),t.what):""})),!!n&&r.a.createElement("a",{className:Gt.a.listItem,href:z({network:"btc",address:e.domain.currentOwner,updateHeight:0,updateTimestamp:0},e.network).link||void 0,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:Gt.a.key},"control address: "),e.domain.currentOwner),r.a.createElement("div",{className:Gt.a.avaiability},!n&&r.a.createElement(s.b,{to:"/create",className:Gt.a.createLink},m?"Join bidding":"Domain available!")))))},Zt=n(44),Xt=n.n(Zt),$t=function(e){var t,n,o=r.a.useContext(T),i=o.state,s=o.dispatch,l=Object(c.g)(),u=null===e||void 0===e?void 0:null===(t=e.match)||void 0===t?void 0:null===(n=t.params)||void 0===n?void 0:n.alias,d=window.location.hash;u&&"#/"!==d&&(console.log("alias id detected in url:",u,d),Je(Object(b.a)({},i,{alias:u}),s,l));var m=function(){return i.pageInfo.checkedLightSearch},p=Object(a.useRef)(null);return Object(a.useEffect)((function(){p&&p.current&&(p.current.selectionEnd=p.current.value.length,p.current.selectionStart=p.current.value.length,p.current.focus())}),[]),r.a.createElement("div",{className:Xt.a.wrapper},u&&"#/"!==d&&r.a.createElement(c.a,{to:"/"}),r.a.createElement("div",{className:m()?[Xt.a.lblMainTitle,Xt.a.lblMainTitleAfter].join(" "):[Xt.a.lblMainTitle].join(" ")},r.a.createElement("span",null,"Bitcoin")," Name System"),r.a.createElement("div",{className:m()?[Xt.a.divSearch,Xt.a.divSearchAfter].join(" "):Xt.a.divSearch},r.a.createElement("textarea",{id:"txtSearch",className:Xt.a.txtSearch,cols:30,rows:1,spellCheck:!1,value:i.alias,placeholder:"e.g. satoshi",ref:p,onChange:function(e){var t;return function(e,t,n){var a;return D.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return a=H(n,"url"),e.abrupt("return",t({type:U,payload:a}));case 3:case"end":return e.stop()}}))}(0,s,null===e||void 0===e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},onKeyPress:function(e){"Enter"===e.key&&Je(i,s)}}),r.a.createElement(lt,{sizebutton:"2.6",onClick:function(){Je(i,s)}},".btc")),!!m()&&r.a.createElement(Qt,null))},en=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement($t,e))},tn=n(92),nn=n.n(tn),an=function(){var e=r.a.useContext(T),t=e.state,n=e.dispatch;return r.a.createElement("div",{className:[nn.a.wrapper,"scrollbar"].join(" ")},r.a.createElement("div",{className:nn.a.contentWrapper},r.a.createElement("div",{className:nn.a.title},"Settings"),r.a.createElement("div",null,"(todo)"),"subject to changes until launch high chance of bugs and losses, especially until reviewed",r.a.createElement("div",null,"Network:",r.a.createElement(Bt,{choices:[{value:"testnet",do:function(){n({type:h.LOAD_STATE,payload:Object(b.a)({},t,{network:"testnet"})})}},{value:"mainnet",do:function(){n({type:h.LOAD_STATE,payload:Object(b.a)({},t,{network:"bitcoin"})})}}]})),r.a.createElement(At,{style:{width:"80%"},thisInputLabel:"Path for full node with esplora API",thisInitialValue:t.api.path[t.network],showBonusInformation:"true",sanitizeFilters:["url"],thisSubmitButtonOnClick:function(e){t.api.path[t.network]=e,console.log("click set value to ",e),n({type:h.LOAD_STATE,payload:Object(b.a)({},t)})}},t.network," : ",t.api.path[t.network]),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,"Automatically save data to browser (local storage) ? (todo)",r.a.createElement("br",null),r.a.createElement(Bt,{choices:[{value:"not allow"},{value:"allow"}]})),r.a.createElement("div",null,"(if yes) Provide a password to encrypt local storage ",r.a.createElement("br",null),"with to hide it from other applications (todo)",r.a.createElement("br",null)," [todo textbox form]")))},rn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(an,null))},on=n(67),sn=n.n(on),cn=function(){var e=r.a.useContext(T),t=e.state,n=e.dispatch,a=r.a.useState("ok"),o=Object(v.a)(a,2),i=o[0],s=o[1];return r.a.createElement("div",{className:sn.a.wrapper},"(NOT DONE)",r.a.createElement("div",{className:sn.a.title},"Withdraw from wallet"),r.a.createElement("div",{className:sn.a.request},!t.pageInfo.checkedWallet&&r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{onClick:function(){"ok"===i&&(s("wallet"),$e(t,n,h.UPDATE_WALLET))}},"Scan wallet"))),t.pageInfo.checkedWallet&&r.a.createElement("div",{className:sn.a.fees},r.a.createElement(Ut,null)),t.pageInfo.checkedWallet&&r.a.createElement("div",{className:sn.a.total},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:sn.a.balance},F(e))," "+W(t)+" ")}(Object(qe.c)(t.wallet.utxoList))),r.a.createElement("div",null,"to address"),r.a.createElement("div",null,"to amount"),r.a.createElement("div",null,"returned amount"),r.a.createElement("div",null,"broadcast button"))},ln=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(cn,e))},un=n(12),dn=n.n(un),mn=n(129),pn=n.n(mn),fn=n(193),hn=n(54),vn=n.n(hn),bn=function(e){return r.a.createElement("div",{className:[vn.a.outershell2,e.className].join(" "),style:{"--btcLogoInputSize":e.size?e.size.toString():"calc(10 * (0.5vw + 0.5vh))"}},r.a.createElement("div",{className:[vn.a.btcLogo,vn.a.cutoffs].join(" ")},r.a.createElement("div",{className:[vn.a.btcLogo,vn.a.background].join(" ")}),r.a.createElement("div",{className:[vn.a.btcLogo,vn.a.theB].join(" ")},"B")))},gn=function(e){var t=r.a.useState(null),n=Object(v.a)(t,2),a=n[0],o=n[1];null===a&&o(Object(b.a)({},jn,{},e.txBuilder?e.txBuilder:{}));var i=r.a.useState({text:""}),s=Object(v.a)(i,2),c=(s[0],s[1]),l=r.a.useState({}),u=Object(v.a)(l,2),d=u[0],m=u[1];return r.a.useEffect((function(){return wn(d,m)}),[d]),r.a.useEffect((function(){return kn(d,m,a,o)}),[d,a]),r.a.useEffect((function(){return yn({txBuilder:a,setTxBuilder:o,setInfo:c})}),[a]),r.a.createElement("div",{className:[pn.a.wrapper,e.className||""].join(" "),onClick:function(){console.log({params:d,txBuilder:a})}},Sn&&r.a.createElement("div",null,r.a.createElement(bn,{className:pn.a.logo,size:"var(--wallet__logo_size)"})))},wn=function(e,t){return _n(e,t),function(){En(e,t),Nn()}},_n=function(e,t){window.addEventListener("storage",xn(e,t)),window.addEventListener("hashchange",On(e,t))},En=function(e,t){window.removeEventListener("storage",xn(e,t)),window.removeEventListener("hashchange",On(e,t))},kn=function(e,t,n,a){Object.keys(e).length>0&&(a(Object(b.a)({},n,{params:e})),t({}))},yn=function(e){var t=e.txBuilder,n=e.setInfo;try{var a=Object(fn.a)(t);console.log("successful psbt:",a)}catch(r){console.log("can not do psbt yet:",r.message),n({text:r.message})}},xn=function(e,t){return function(){En(e,t);var n={};if(Object.keys(JSON.parse(JSON.stringify(window.sessionStorage))).forEach((function(e){if("fromWallet"!==e){var t=JSON.parse(window.sessionStorage[e]);n[e]=t,sessionStorage.removeItem(e)}})),Object.keys(n).length>0){var a=Object(b.a)({},e,{},n);console.log("new params added:",a),t(a)}_n(e,t)}},On=function(e,t){return function(){var n=window.location.hash.split("#").slice(1).join("").split("?").slice(1).join("").split("&").reduce((function(t,n){var a=n.split("="),r=a[0],o=decodeURIComponent(a[1]);return""===r?t:r in e&&e[r]===o?t:(console.log(r),Object(b.a)({},t,Object(xt.a)({},r,o)))}),{});if(Object.keys(n).length>0){var a=Object(b.a)({},e,{},n);console.log("new params added:",a),t(a)}Nn()}},Nn=function(){window.history.pushState({},"","".concat(window.location.href.split("?")[0]))},Sn=!1,jn={network:null,setVersion:2,setLocktime:0,feeRate:1,minFeeRate:1,maxFeeRate:1e3,minOutputValue:500,result:{tx:null,hex:null,virtualSize:0},inputs:{},fillInputs:null,outputs:{},changeAddress:null},An=n(93),Cn=n.n(An),In=n(94),Bn=n.n(In),Tn=function(e){return r.a.createElement("div",{className:[Bn.a.spinner,e.className].join(" "),style:{"--widthSpinner":e.width?e.width:"20vw"}},r.a.createElement("div",{className:Bn.a.block}),r.a.createElement("div",{className:Bn.a.chain}))};console.log("VisualApi component imported");var Ln={props:{},loops:{}},Pn=function(e){return void 0!==e.processId&&(Ln.props.processId=e.processId),Ln.props.setProcessId=e.setProcessId,Ln.props.tasks=e.tasks,Ln.props.setTasks=e.setTasks,Ln.props.setBusy=e.setBusy,Ln.props.busy=e.busy,r.a.useEffect((function(){var t=Ln.props.processId;if(void 0!==Ln.props.processId&&void 0!==Ln.props.setProcessId&&void 0!==Ln.props.tasks&&void 0!==Ln.props.setTasks&&void 0!==Ln.props.setBusy&&void 0!==Ln.props.busy&&null===t){var n=e.delayStandby,a=e.delayBusy;!function(){var t,r,o;D.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,D.a.awrap(Wn({delayBusy:a,delayStandby:n}));case 2:(t=i.sent)&&(r=t(),o=r.id,(0,r.launch)(),e.setProcessId(o));case 4:case"end":return i.stop()}}))}()}}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:e.onClick,className:[Cn.a.wrapper,e.className||""].join(" ")},r.a.createElement("div",{className:Cn.a.text,onClick:function(){console.log(Object.keys(Ln.loops).map((function(e){return Object(b.a)({},Ln.loops[e],{timedOut:Date.now()-Ln.loops[e].time>2e3})})))}},e.message)),e.tasks.length>0&&r.a.createElement(Tn,{className:Cn.a.spinner,width:"calc(15 * var(--s))"}))},Wn=function e(t){var n,a,r,o,i,s,c,l,u,d,m,p,f,h,v;return D.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(n=t.delayStandby,a=void 0===n?1e3:n,r=t.delayBusy,o=void 0===r?5e3:r,i=t.id,s=void 0===i?null:i){b.next=4;break}return c=Date.now(),b.abrupt("return",(function(){return{id:c,launch:function(){return e({delayStandby:a,delayBusy:o,id:c})}}}));case 4:if(l=Ln.props.tasks,u=Ln.props.setTasks,d=Ln.props.processId,!Fn(s)){b.next=9;break}return b.abrupt("return",void 0);case 9:if(m=Date.now(),p={id:s,time:m,terminate:!1},Ln.loops[s.toString()]=p,Rn({time:m,processId:d,id:s}),!(f=l&&d&&s===d&&!Ln.props.busy)){b.next=33;break}if(!(h=l[0])){b.next=33;break}return b.prev=17,Ln.props.setBusy(!0),console.log("apiloop #".concat(s," executing api call"),JSON.stringify(Ln,null,2)),b.next=22,D.a.awrap(h.run({delay:function(){return Dn({ms:o})}}));case 22:v=b.sent,h.resolve(v),b.next=30;break;case 26:b.prev=26,b.t0=b.catch(17),console.warn(b.t0),h.reject(b.t0);case 30:u(l.slice(1)),Dn({ms:o}),Ln.props.setBusy(!1);case 33:if(f&&0!==l.length){b.next=36;break}return b.next=36,D.a.awrap(Dn({ms:a}));case 36:if(!Fn(s)){b.next=38;break}return b.abrupt("return",void 0);case 38:e({delayStandby:a,delayBusy:o,id:s});case 39:case"end":return b.stop()}}),null,null,[[17,26]])},Fn=function(e){var t;return!(null===(t=Ln.loops[e.toString()])||void 0===t||!t.terminate)&&(console.log("apiloop #".concat(e," following termination request"),JSON.stringify(Ln,null,2)),!0)},Rn=function(e){var t=e.time,n=e.processId,a=e.id,r=!1,o=!0;Object.keys(Ln.loops).forEach((function(e){var i=Ln.loops[e];t-i.time<2e3&&n&&i.id!==n&&(r=!0),i.id<a&&(i.terminate=!0,o=!1)})),n&&a!==n&&!r&&o&&(console.log("".concat(a," is new api loop replacing ").concat(n),JSON.stringify(Ln.loops,null,2),Ln),Ln.loops[a.toString()].terminate=!1,Ln.props.setProcessId(a))},Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ms:500},t=e.callsPerSec,n=void 0===t?void 0:t,a=e.ms,r=void 0===a?void 0:a;return new Promise((function(e){return setTimeout(e,r||1e3/n)}))},Hn=function(){var e=r.a.useContext(T),t=e.state,n=e.dispatch,a=Object(c.g)(),o=r.a.useRef(null),i=r.a.useRef(null),s=r.a.useRef(null),l=r.a.useState({buttonWidth:o.current?o.current.offsetWidth:void 0,showCollapsed:!1,resizeTimer:0}),u=Object(v.a)(l,2),d=u[0],m=u[1];d.buttonWidth||window.setTimeout((function(){window.dispatchEvent(new Event("resize"))}),200);var p="/create"===Object(c.g)().location.pathname,f="/"===Object(c.g)().location.pathname,h="/about"===Object(c.g)().location.pathname,g="/settings"===Object(c.g)().location.pathname,w="/wallet"===Object(c.g)().location.pathname;r.a.useEffect((function(){window.setTimeout((function(){if(i.current&&s.current){var e=s.current.getBoundingClientRect(),t=i.current.getBoundingClientRect(),n=Math.round(t.left+.5*t.width-.5*e.width),a=Math.round(t.top-e.height-.4*t.height);s.current.style.top=a+"px",s.current.style.left=n+"px",s.current.style.opacity="var(--finalOpacity)"}}),100);var e=function(){if(o.current){document.body.classList.add("resize-animation-stopper"),clearTimeout(d.resizeTimer);var e=setTimeout((function(){document.body.classList.remove("resize-animation-stopper")}),400);m(Object(b.a)({},d,{resizeTimer:e,showCollapsed:!1,buttonWidth:o.current.getBoundingClientRect().width}))}};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[d]),r.a.useEffect((function(){var e=function(){d.showCollapsed&&m(Object(b.a)({},d,{showCollapsed:!1}))};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[d]);var _=[[r.a.createElement("div",{key:"search",ref:o,className:[dn.a.button,f?dn.a.selected:""].join(" "),onClick:function(){!f&&a.push("/")}},"search")],[r.a.createElement("div",{key:"create",className:[dn.a.button,p?dn.a.selected:""].join(" "),onClick:function(){!p&&a.push("/create")}},"users")],[r.a.createElement("div",{key:"git",className:[dn.a.button].join(" "),onClick:function(){window.open("https://github.com/ildarmgt/BitcoinNameSystem","_blank")}},"<","source",">")],[r.a.createElement("div",{key:"about",className:[dn.a.button,h?dn.a.selected:""].join(" "),onClick:function(){!h&&a.push("/about")}},"about")],[r.a.createElement("div",{key:"settings",className:[dn.a.button,g?dn.a.selected:""].join(" "),onClick:function(){!g&&a.push("/settings")}},"settings")],[r.a.createElement("div",{key:"wallet",className:[dn.a.button,w?dn.a.selected:""].join(" "),onClick:function(){!w&&a.push("/wallet")}},"wallet")]],E=window.innerWidth,k=.25*(.005*(window.innerWidth+window.innerHeight)),y=d.buttonWidth?Math.min(Math.max(Math.floor(.5*E/(1.5*d.buttonWidth+2*k)),1),4):1,x=_.filter((function(e,t){return t<=y-1})),O=_.filter((function(e,t){return t>y-1}))||[];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:dn.a.warning},r.a.createElement("input",{type:"checkbox",id:"closewarning"}),r.a.createElement("label",{htmlFor:"closewarning"},"\u2715"),r.a.createElement("div",null,!1,"not reviewed for use")),r.a.createElement("div",{className:dn.a.leftCorner},r.a.createElement("div",{className:dn.a.wallet},r.a.createElement(gn,{txBuilder:{network:t.network}})),p&&r.a.createElement("div",{className:dn.a.pageNum},"Page ",t.pageInfo.current,"/6"),r.a.createElement("div",{className:dn.a.api},r.a.createElement(Pn,{processId:t.api.processId,setProcessId:function(e){e&&at(0,n,{processId:e})},tasks:t.api.tasks,setTasks:function(e){return at(0,n,{tasks:e})},busy:t.api.running,setBusy:function(e){at(0,n,{running:e}),console.log("setbusy:",e)},delayBusy:1e3/t.api.rateLimit,delayStandby:100,message:t.network}))),r.a.createElement("div",{className:dn.a.nav},!!O.length&&r.a.createElement("div",{className:[dn.a.collapsitron,d.showCollapsed?dn.a.menuShown:""].join(" "),ref:i,onClick:function(){m(Object(b.a)({},d,{showCollapsed:!d.showCollapsed}))}},"\xa0\xa0\xa0\xa0\xa0",r.a.createElement("div",{className:dn.a.dots},r.a.createElement("div",null))),x.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"nevbarbuttons"+t},e[0])})).reverse()),d.showCollapsed&&r.a.createElement("div",{className:dn.a.overflowMenu,ref:s},r.a.createElement("div",null,O.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:"overflowbuttons"+t},e[0])})).reverse())))},Un=(n(394),function(){var e=new URLSearchParams(window.location.search).keys().next().value;return e&&console.log("search param detected after ?",e),e&&window.history.pushState({},"",window.location.pathname+"#/id/"+e),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"content"},r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/id/:alias",component:en}),r.a.createElement(c.b,{exact:!0,path:"/id/",component:en}),r.a.createElement(c.b,{path:"/about",component:f}),r.a.createElement(c.b,{path:"/create",component:Vt}),r.a.createElement(c.b,{path:"/wallet",component:ln}),r.a.createElement(c.b,{path:"/settings",component:rn}),r.a.createElement(c.b,{path:"/:noise",component:en}),r.a.createElement(c.b,{exact:!0,path:"/",component:en}))),r.a.createElement(Hn,null))}),Mn=n(55),zn=n.n(Mn);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement((function(e){var t=e.children,n=r.a.useReducer(C,B),a=Object(v.a)(n,2),o=a[0],i=a[1];return r.a.createElement(T.Provider,{value:{state:o,dispatch:i}},t)}),null,r.a.createElement(s.a,null,r.a.createElement(Un,null)),r.a.createElement((function(e){var t=r.a.useContext(T),n=t.state,o=t.dispatch,i=Object(a.useState)(!1),s=Object(v.a)(i,2),c=s[0],l=s[1];Object(a.useEffect)((function(){var e=function(e){var t;if("`"===e.key)l(!c);else if("txtSearch"!==(null===(t=document.activeElement)||void 0===t?void 0:t.id)){var n=document.getElementById("txtSearch");null===n||void 0===n||n.focus()}};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[c]);return r.a.createElement("div",Object.assign({className:[zn.a.divDev,c?"":zn.a.hidden].join(" ")},e),r.a.createElement("div",null,r.a.createElement("b",null,"DevPanel")),r.a.createElement("div",{className:[zn.a.btnOutline,zn.a.button].join(" "),onClick:function(){var e="outliner",t=document.getElementById(e);if(t){var n;null===(n=t.parentNode)||void 0===n||n.removeChild(t)}else{var a=document.createElement("style");a.type="text/css",a.id=e,a.appendChild(document.createTextNode("* {box-shadow: 0 0 0 1px red;}")),document.head.appendChild(a)}}},"Outline"),r.a.createElement("div",{className:[zn.a.button].join(" "),onClick:function(){localStorage.setItem("state",JSON.stringify(n))}},"Save localStorage"),r.a.createElement("div",{className:[zn.a.button].join(" "),onClick:function(){var e=JSON.parse(localStorage.getItem("state")||"");e&&o({type:h.LOAD_STATE,payload:Object(b.a)({},e,{api:Object(b.a)({},e.api,{processId:null})})})}},"Load localStorage"),r.a.createElement("div",{className:zn.a.button,onClick:function(){console.log(n)}},"Console State"))}),null))),document.getElementById("root"))},43:function(e,t,n){e.exports={roundButtonWrap:"RoundButton_roundButtonWrap__2X50a",roundButton:"RoundButton_roundButton__tfjmf",overhead:"RoundButton_overhead__As9JW",nextArrowPad:"RoundButton_nextArrowPad__20zeF",nextArrow:"RoundButton_nextArrow__SS6Nl",backArrowPad:"RoundButton_backArrowPad__3Epn7",backArrow:"RoundButton_backArrow__2MJJm",back:"RoundButton_back__3z3jD"}},44:function(e,t,n){e.exports={lblMainTitle:"HomeContent_lblMainTitle__1LqCG",results:"HomeContent_results__3QLFo",divSearch:"HomeContent_divSearch__3dKw5",txtSearch:"HomeContent_txtSearch__3HpSp",lblMainTitleAfter:"HomeContent_lblMainTitleAfter__J9CsB",divSearchAfter:"HomeContent_divSearchAfter__2MAMf",wrapper:"HomeContent_wrapper__mPINc"}},47:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(11),r=n.n(a),o=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,o=r.a.createHash("sha256").update(n).digest(),i=r.a.createHash("sha256").update(a).digest().slice(0,16),s=r.a.createCipheriv("aes-256-ctr",o,i),c=s.update(e.from(t));return c=e.concat([c,s.final()])},i=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,o=r.a.createHash("sha256").update(n).digest(),i=r.a.createHash("sha256").update(a).digest().slice(0,16),s=r.a.createCipheriv("aes-256-ctr",o,i),c=s.update(t);return c=e.concat([c,s.final()])},s=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n,o=r.a.createHash("sha256").update(n).digest(),i=r.a.createHash("sha256").update(a).digest().slice(0,16),s=r.a.createDecipheriv("aes-256-ctr",o,i),c=s.update(t);return c=e.concat([c,s.final()])}}).call(this,n(2).Buffer)},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a={domain:{domainName:"",notificationAddress:"",txHistory:[],derivedUtxoList:[],utxoList:[],users:{},currentOwner:"",bidding:{startHeight:0,endHeight:0,type:n(19).b.NULL,bids:[]},ownersHistory:[]},chain:{parsedHeight:0,currentHeight:0}},r={address:"",forwards:[],burnAmount:0,winHeight:0,winTimestamp:0,nonce:0,updateHeight:0}},51:function(e,t,n){e.exports={bar:"CreateHeader_bar__27ge1",domain:"CreateHeader_domain__1TQ7L",alias:"CreateHeader_alias__1dNdj",ext:"CreateHeader_ext__17sc6",cutOverflow:"CreateHeader_cutOverflow__3s_72",spacer:"CreateHeader_spacer__3tstm",wrapper:"CreateHeader_wrapper__3cPTN"}},52:function(e,t,n){e.exports={wrapper:"InputForm_wrapper__3RO9S",shiftRight:"InputForm_shiftRight__16j42",label:"InputForm_label__2VQbz",textarea:"InputForm_textarea__3jY9y",button:"InputForm_button__1gilQ",bonusInformation:"InputForm_bonusInformation__J6QjS",invisible:"InputForm_invisible__1fPsX"}},53:function(e,t,n){e.exports={fees:"FeesSelection_fees__aYPBm",fees__rate:"FeesSelection_fees__rate__ho27f",fees__apicall:"FeesSelection_fees__apicall__14yZr",fees__feeSelection:"FeesSelection_fees__feeSelection__26meY",fees__feeSelection__choice:"FeesSelection_fees__feeSelection__choice__1Ba9j"}},54:function(e,t,n){e.exports={outershell2:"Logo_outershell2__ojy1V",btcLogo:"Logo_btcLogo__367Q4",cutoffs:"Logo_cutoffs__XLLfg",background:"Logo_background__3SgWH",theB:"Logo_theB__2iXnu"}},55:function(e,t,n){e.exports={divDev:"DevPanel_divDev__2q66m",hidden:"DevPanel_hidden__Wlj3v",btnOutline:"DevPanel_btnOutline__2FJLx",button:"DevPanel_button__1DKHt"}},65:function(e,t,n){e.exports={wrapper:"Details_wrapper__32nmX",buttonWrapper:"Details_buttonWrapper__12FS5",toggleDetails:"Details_toggleDetails__2jgtb",arrow:"Details_arrow__2N1IF",down:"Details_down__2irBp",details:"Details_details__1lwEd"}},66:function(e,t,n){e.exports={wrapper:"Switch_wrapper__13KFe",shiftRight:"Switch_shiftRight__1BAPW",label:"Switch_label__ZC9Fh",choiceArea:"Switch_choiceArea__2lIss",choice:"Switch_choice__HlPt4",selected:"Switch_selected__ynsKV"}},67:function(e,t,n){e.exports={wrapper:"Withdraw_wrapper__3h_E8",title:"Withdraw_title__1DTCX",request:"Withdraw_request__2EjrZ",request__total:"Withdraw_request__total__6UrOm",balance:"Withdraw_balance__2xjDM",fees:"Withdraw_fees__1uZhm"}},70:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(10),r=a.opcodes,o=a.crypto.hash160,i=function(t,n){var i=a.networks[n],s=e.from(t,"utf8"),c=a.script.compile([o(s),r.OP_DROP]);return{notificationsAddress:a.payments.p2wsh({redeem:{output:c,network:i},network:i}).address}}}).call(this,n(2).Buffer)},79:function(e,t,n){e.exports={wrapper:"AboutContent_wrapper__1kfnm",title:"AboutContent_title__16tUj",contentWrapper:"AboutContent_contentWrapper__2XHS2",drawing:"AboutContent_drawing__1qDTH"}},91:function(e,t,n){e.exports={wrapper:"CreateNavigator_wrapper__24rTe",scroller:"CreateNavigator_scroller__2q-0N",horizontalScaler:"CreateNavigator_horizontalScaler__2qmoi"}},92:function(e,t,n){e.exports={wrapper:"SettingsContent_wrapper__g7M-C",contentWrapper:"SettingsContent_contentWrapper__1f-dq",title:"SettingsContent_title__17SgK"}},93:function(e,t,n){e.exports={wrapper:"VisualAPI_wrapper__1qx_c",spinner:"VisualAPI_spinner__2fYAt"}},94:function(e,t,n){e.exports={spinner:"Spinner_spinner__3itsP",block:"Spinner_block__1wS0M",moveit:"Spinner_moveit__3lwkE",chain:"Spinner_chain__-Farp"}}},[[194,1,2]]]);
//# sourceMappingURL=main.5a24da3b.chunk.js.map